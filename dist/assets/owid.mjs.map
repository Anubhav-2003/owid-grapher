{"version":3,"file":"owid.mjs","sources":["../../node_modules/smooth-scroll/dist/smooth-scroll.polyfills.min.js","../../packages/@ourworldindata/utils/src/image.ts","../../node_modules/d3-color/src/math.js","../../node_modules/d3-color/src/lab.js","../../node_modules/d3-interpolate/src/lab.js","../../node_modules/d3-scale/src/threshold.js","../../node_modules/d3-time/src/interval.js","../../node_modules/d3-time/src/duration.js","../../node_modules/d3-time/src/day.js","../../node_modules/d3-time/src/week.js","../../node_modules/d3-time/src/year.js","../../node_modules/d3-time/src/utcDay.js","../../node_modules/d3-time/src/utcWeek.js","../../node_modules/d3-time/src/utcYear.js","../../node_modules/d3-time-format/src/locale.js","../../node_modules/d3-time-format/src/defaultLocale.js","../../node_modules/d3-dsv/src/csv.js","../../packages/@ourworldindata/grapher/src/sparkBars/SparkBarTimeSeriesValue.tsx","../../site/runChartsIndexPage.ts","../../node_modules/algoliasearch/dist/algoliasearch-lite.umd.js","../../node_modules/search-insights/dist/search-insights-browser.cjs.min.js","../../node_modules/search-insights/index-browser.cjs.js","../../node_modules/@fortawesome/free-solid-svg-icons/faCheck.js","../../site/blocks/CookiePreferences.tsx","../../site/CookieNotice.tsx","../../site/CookiePreferencesManager.tsx","../../site/search/searchClient.ts","../../site/EmbedChart.tsx","../../site/search/SearchResults.tsx","../../site/search/SearchPageMain.tsx","../../site/NotFoundPageMain.tsx","../../node_modules/@fortawesome/free-solid-svg-icons/faMessage.js","../../node_modules/@fortawesome/free-solid-svg-icons/faCommentAlt.js","../../node_modules/@fortawesome/free-solid-svg-icons/faPaperPlane.js","../../site/Feedback.tsx","../../node_modules/react-recaptcha/dist/react-recaptcha.js","../../site/stripe/stripe.ts","../../site/stripe/DonateForm.tsx","../../site/runCountryProfilePage.ts","../../node_modules/@fortawesome/free-solid-svg-icons/faBars.js","../../site/TableOfContents.tsx","../../node_modules/@fortawesome/free-solid-svg-icons/faArrowLeftLong.js","../../site/blocks/GalleryArrow.tsx","../../site/blocks/AllChartsListItem.tsx","../../site/blocks/RelatedCharts.tsx","../../node_modules/@bugsnag/plugin-react/dist/bugsnag-react.js","../../site/hacks.ts","../../node_modules/react-animate-height/dist/esm/index.js","../../site/blocks/AdditionalInformation.tsx","../../site/SiteSubnavigation.tsx","../../site/countryProfileProjects.ts","../../site/SearchCountry.tsx","../../site/GlossaryExcerpt.tsx","../../site/ExpandableInlineBlock.tsx","../../site/DataToken.tsx","../../site/covid/LastUpdated.tsx","../../site/covid/FullWidthRawHtml.tsx","../../site/runDataTokens.tsx","../../node_modules/react-horizontal-scrolling-menu/dist/index.umd.js","../../site/blocks/KeyInsights.tsx","../../site/blocks/StickyNav.tsx","../../site/blocks/ExpandableParagraph.tsx","../../site/blocks/CodeSnippet.tsx","../../site/blocks/index.ts","../../node_modules/@fortawesome/free-solid-svg-icons/faArrowRight.js","../../site/blocks/ProminentLink.tsx","../../node_modules/@fortawesome/free-regular-svg-icons/faCircleCheck.js","../../node_modules/@fortawesome/free-regular-svg-icons/faCheckCircle.js","../../node_modules/@fortawesome/free-solid-svg-icons/faCircleExclamation.js","../../node_modules/@fortawesome/free-solid-svg-icons/faExclamationCircle.js","../../site/covid/CovidUtils.ts","../../site/covid/CovidConstants.ts","../../site/covid/CovidFetch.ts","../../node_modules/d3-scale-chromatic/src/colors.js","../../node_modules/d3-scale-chromatic/src/categorical/category10.js","../../node_modules/@fortawesome/free-solid-svg-icons/faAnglesDown.js","../../node_modules/@fortawesome/free-solid-svg-icons/faAngleDoubleDown.js","../../site/covid/CovidTypes.ts","../../site/covid/CovidDoublingTooltip.tsx","../../site/covid/CovidTableSortIcon.tsx","../../site/covid/CovidTableHeaderCell.tsx","../../site/covid/CovidTableColumns.tsx","../../site/covid/CovidTableRow.tsx","../../site/covid/CovidTable.tsx","../../site/covid/index.tsx","../../site/Footnote.tsx","../../node_modules/@fortawesome/free-solid-svg-icons/faCircleArrowRight.js","../../node_modules/@fortawesome/free-solid-svg-icons/faCircleArrowLeft.js","../../site/gdocs/utils.tsx","../../site/gdocs/Chart.tsx","../../site/gdocs/ChartStory.tsx","../../node_modules/react-intersection-observer/react-intersection-observer.modern.mjs","../../site/gdocs/Scroller.tsx","../../site/gdocs/PullQuote.tsx","../../site/gdocs/Recirc.tsx","../../site/gdocs/List.tsx","../../site/gdocs/NumberedList.tsx","../../node_modules/@fortawesome/free-solid-svg-icons/faCompress.js","../../node_modules/@fortawesome/free-solid-svg-icons/faMagnifyingGlassMinus.js","../../node_modules/@fortawesome/free-solid-svg-icons/faSearchMinus.js","../../node_modules/@fortawesome/free-solid-svg-icons/faMagnifyingGlassPlus.js","../../node_modules/@fortawesome/free-solid-svg-icons/faSearchPlus.js","../../node_modules/react-zoom-pan-pinch/dist/index.esm.js","../../site/Lightbox.tsx","../../site/gdocs/Image.tsx","../../site/gdocs/SDGGrid.tsx","../../node_modules/react-error-boundary/dist/react-error-boundary.esm.js","../../site/gdocs/DebugContext.tsx","../../site/gdocs/BlockErrorBoundary.tsx","../../site/gdocs/Paragraph.tsx","../../node_modules/@fortawesome/free-solid-svg-icons/faArrowDown.js","../../site/gdocs/SDGTableOfContents.tsx","../../node_modules/url-slug/lib/index.js","../../site/gdocs/MissingData.tsx","../../site/gdocs/AdditionalCharts.tsx","../../site/gdocs/ArticleBlock.tsx","../../site/gdocs/ArticleBlocks.tsx","../../site/gdocs/Footnotes.tsx","../../node_modules/@fortawesome/free-brands-svg-icons/faCreativeCommons.js","../../site/clientFormatting.tsx","../../site/gdocs/OwidArticle.tsx","../../node_modules/@fortawesome/free-solid-svg-icons/faListUl.js","../../node_modules/@fortawesome/free-solid-svg-icons/faEnvelopeOpenText.js","../../site/NewsletterSubscription.tsx","../../site/SiteNavigationTopic.tsx","../../site/SiteNavigationTopics.tsx","../../site/SiteLogos.tsx","../../site/SiteResources.tsx","../../site/SiteSearchNavigation.tsx","../../node_modules/@fortawesome/free-solid-svg-icons/faCaretDown.js","../../node_modules/@fortawesome/free-solid-svg-icons/faCaretUp.js","../../site/SiteNavigationToggle.tsx","../../site/SiteMobileCategory.tsx","../../site/SiteMobileMenu.tsx","../../site/SiteNavigation.tsx","../../node_modules/@fortawesome/free-solid-svg-icons/faHandshake.js","../../site/SiteTools.tsx","../../site/runSiteFooterScripts.ts","../../site/owid.entry.ts"],"sourcesContent":["/*! smooth-scroll v16.1.0 | (c) 2019 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/smooth-scroll */\nwindow.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,n=(this.document||this.ownerDocument).querySelectorAll(e),o=this;do{for(t=n.length;0<=--t&&n.item(t)!==o;);}while(t<0&&(o=o.parentElement));return o}),(function(){if(\"function\"==typeof window.CustomEvent)return;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent(\"CustomEvent\");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e})(),(function(){for(var r=0,e=[\"ms\",\"moz\",\"webkit\",\"o\"],t=0;t<e.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[e[t]+\"RequestAnimationFrame\"],window.cancelAnimationFrame=window[e[t]+\"CancelAnimationFrame\"]||window[e[t]+\"CancelRequestAnimationFrame\"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var n=(new Date).getTime(),o=Math.max(0,16-(n-r)),a=window.setTimeout((function(){e(n+o)}),o);return r=n+o,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})})(),(function(e,t){\"function\"==typeof define&&define.amd?define([],(function(){return t(e)})):\"object\"==typeof exports?module.exports=t(e):e.SmoothScroll=t(e)})(\"undefined\"!=typeof global?global:\"undefined\"!=typeof window?window:this,(function(q){\"use strict\";var I={ignore:\"[data-scroll-ignore]\",header:null,topOnEmptyHash:!0,speed:500,speedAsDuration:!1,durationMax:null,durationMin:null,clip:!0,offset:0,easing:\"easeInOutCubic\",customEasing:null,updateURL:!0,popstate:!0,emitEvents:!0},F=function(){var n={};return Array.prototype.forEach.call(arguments,(function(e){for(var t in e){if(!e.hasOwnProperty(t))return;n[t]=e[t]}})),n},r=function(e){\"#\"===e.charAt(0)&&(e=e.substr(1));for(var t,n=String(e),o=n.length,a=-1,r=\"\",i=n.charCodeAt(0);++a<o;){if(0===(t=n.charCodeAt(a)))throw new InvalidCharacterError(\"Invalid character: the input contains U+0000.\");1<=t&&t<=31||127==t||0===a&&48<=t&&t<=57||1===a&&48<=t&&t<=57&&45===i?r+=\"\\\\\"+t.toString(16)+\" \":r+=128<=t||45===t||95===t||48<=t&&t<=57||65<=t&&t<=90||97<=t&&t<=122?n.charAt(a):\"\\\\\"+n.charAt(a)}return\"#\"+r},L=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},x=function(e){return e?(t=e,parseInt(q.getComputedStyle(t).height,10)+e.offsetTop):0;var t},H=function(e,t,n,o){if(t.emitEvents&&\"function\"==typeof q.CustomEvent){var a=new CustomEvent(e,{bubbles:!0,detail:{anchor:n,toggle:o}});document.dispatchEvent(a)}};return function(o,e){var A,a,O,C,M={};M.cancelScroll=function(e){cancelAnimationFrame(C),C=null,e||H(\"scrollCancel\",A)},M.animateScroll=function(i,c,e){M.cancelScroll();var s=F(A||I,e||{}),u=\"[object Number]\"===Object.prototype.toString.call(i),t=u||!i.tagName?null:i;if(u||t){var l=q.pageYOffset;s.header&&!O&&(O=document.querySelector(s.header));var n,o,a,m,r,d,f,h,p=x(O),g=u?i:(function(e,t,n,o){var a=0;if(e.offsetParent)for(;a+=e.offsetTop,e=e.offsetParent;);return a=Math.max(a-t-n,0),o&&(a=Math.min(a,L()-q.innerHeight)),a})(t,p,parseInt(\"function\"==typeof s.offset?s.offset(i,c):s.offset,10),s.clip),y=g-l,v=L(),w=0,S=(n=y,a=(o=s).speedAsDuration?o.speed:Math.abs(n/1e3*o.speed),o.durationMax&&a>o.durationMax?o.durationMax:o.durationMin&&a<o.durationMin?o.durationMin:parseInt(a,10)),E=function(e,t){var n,o,a,r=q.pageYOffset;if(e==t||r==t||(l<t&&q.innerHeight+r)>=v)return M.cancelScroll(!0),o=t,a=u,0===(n=i)&&document.body.focus(),a||(n.focus(),document.activeElement!==n&&(n.setAttribute(\"tabindex\",\"-1\"),n.focus(),n.style.outline=\"none\"),q.scrollTo(0,o)),H(\"scrollStop\",s,i,c),!(C=m=null)},b=function(e){var t,n,o;m||(m=e),w+=e-m,d=l+y*(n=r=1<(r=0===S?0:w/S)?1:r,\"easeInQuad\"===(t=s).easing&&(o=n*n),\"easeOutQuad\"===t.easing&&(o=n*(2-n)),\"easeInOutQuad\"===t.easing&&(o=n<.5?2*n*n:(4-2*n)*n-1),\"easeInCubic\"===t.easing&&(o=n*n*n),\"easeOutCubic\"===t.easing&&(o=--n*n*n+1),\"easeInOutCubic\"===t.easing&&(o=n<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1),\"easeInQuart\"===t.easing&&(o=n*n*n*n),\"easeOutQuart\"===t.easing&&(o=1- --n*n*n*n),\"easeInOutQuart\"===t.easing&&(o=n<.5?8*n*n*n*n:1-8*--n*n*n*n),\"easeInQuint\"===t.easing&&(o=n*n*n*n*n),\"easeOutQuint\"===t.easing&&(o=1+--n*n*n*n*n),\"easeInOutQuint\"===t.easing&&(o=n<.5?16*n*n*n*n*n:1+16*--n*n*n*n*n),t.customEasing&&(o=t.customEasing(n)),o||n),q.scrollTo(0,Math.floor(d)),E(d,g)||(C=q.requestAnimationFrame(b),m=e)};0===q.pageYOffset&&q.scrollTo(0,0),f=i,h=s,u||history.pushState&&h.updateURL&&history.pushState({smoothScroll:JSON.stringify(h),anchor:f.id},document.title,f===document.documentElement?\"#top\":\"#\"+f.id),\"matchMedia\"in q&&q.matchMedia(\"(prefers-reduced-motion)\").matches?q.scrollTo(0,Math.floor(g)):(H(\"scrollStart\",s,i,c),M.cancelScroll(!0),q.requestAnimationFrame(b))}};var t=function(e){if(!e.defaultPrevented&&!(0!==e.button||e.metaKey||e.ctrlKey||e.shiftKey)&&\"closest\"in e.target&&(a=e.target.closest(o))&&\"a\"===a.tagName.toLowerCase()&&!e.target.closest(A.ignore)&&a.hostname===q.location.hostname&&a.pathname===q.location.pathname&&/#/.test(a.href)){var t,n=r(a.hash);if(\"#\"===n){if(!A.topOnEmptyHash)return;t=document.documentElement}else t=document.querySelector(n);(t=t||\"#top\"!==n?t:document.documentElement)&&(e.preventDefault(),(function(e){if(history.replaceState&&e.updateURL&&!history.state){var t=q.location.hash;t=t||\"\",history.replaceState({smoothScroll:JSON.stringify(e),anchor:t||q.pageYOffset},document.title,t||q.location.href)}})(A),M.animateScroll(t,a))}},n=function(e){if(null!==history.state&&history.state.smoothScroll&&history.state.smoothScroll===JSON.stringify(A)){var t=history.state.anchor;\"string\"==typeof t&&t&&!(t=document.querySelector(r(history.state.anchor)))||M.animateScroll(t,null,{updateURL:!1})}};M.destroy=function(){A&&(document.removeEventListener(\"click\",t,!1),q.removeEventListener(\"popstate\",n,!1),M.cancelScroll(),C=O=a=A=null)};return (function(){if(!(\"querySelector\"in document&&\"addEventListener\"in q&&\"requestAnimationFrame\"in q&&\"closest\"in q.Element.prototype))throw\"Smooth Scroll: This browser does not support the required JavaScript methods and browser APIs.\";M.destroy(),A=F(I,e||{}),O=A.header?document.querySelector(A.header):null,document.addEventListener(\"click\",t,!1),A.updateURL&&A.popstate&&q.addEventListener(\"popstate\",n,!1)})(),M}}));","/*\nCommon utlities for deriving properties from image metadata.\n*/\n\n// This is the JSON we get from Google's API before remapping the keys to be consistent with the rest of our interfaces\nexport interface GDriveImageMetadata {\n    name: string // -> filename\n    modifiedTime: string // -> updatedAt e.g. \"2023-01-11T19:45:27.000Z\"\n    id: string // -> googleId e.g. \"1dfArzg3JrAJupVl4YyJpb2FOnBn4irPX\"\n    description?: string // -> defaultAlt\n    imageMediaMetadata?: {\n        width?: number // -> originalWidth\n    }\n}\n\nexport interface ImageMetadata {\n    googleId: string\n    filename: string\n    defaultAlt: string\n    // MySQL Date objects round to the nearest second, whereas Google includes milliseconds\n    // so we store as an epoch to avoid any conversion issues\n    updatedAt: number\n    originalWidth?: number\n}\n\nexport function getSizes(\n    originalWidth: ImageMetadata[\"originalWidth\"]\n): number[] {\n    if (!originalWidth) return []\n    // ensure a thumbnail is generated\n    const widths = [100]\n    // start at 350 and go up by 500 to a max of 1350 before we just show the original image\n    let width = 350\n    while (width < originalWidth && width <= 1350) {\n        widths.push(width)\n        width += 500\n    }\n    widths.push(originalWidth)\n    return widths\n}\n\nexport function generateSrcSet(\n    sizes: number[],\n    filename: ImageMetadata[\"filename\"]\n): string {\n    return sizes\n        .map(\n            (size) =>\n                `/images/published/${getFilenameWithoutExtension(\n                    filename\n                )}_${size}.webp ${size}w`\n        )\n        .join(\", \")\n}\n\nexport function getFilenameWithoutExtension(\n    filename: ImageMetadata[\"filename\"]\n): string {\n    return filename.slice(0, filename.indexOf(\".\"))\n}\n","export const radians = Math.PI / 180;\nexport const degrees = 180 / Math.PI;\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\n// https://observablehq.com/@mbostock/lab-and-rgb\nconst K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * degrees;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * radians;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return hcl2lab(this).rgb();\n  }\n}));\n","import {lab as colorLab} from \"d3-color\";\nimport color from \"./color.js\";\n\nexport default function lab(start, end) {\n  var l = color((start = colorLab(start)).l, (end = colorLab(end)).l),\n      a = color(start.a, end.a),\n      b = color(start.b, end.b),\n      opacity = color(start.opacity, end.opacity);\n  return function(t) {\n    start.l = l(t);\n    start.a = a(t);\n    start.b = b(t);\n    start.opacity = opacity(t);\n    return start + \"\";\n  };\n}\n","import {bisect} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport default function threshold() {\n  var domain = [0.5],\n      range = [0, 1],\n      unknown,\n      n = 1;\n\n  function scale(x) {\n    return x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return threshold()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = function(date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nvar day = interval(\n  date => date.setHours(0, 0, 0, 0),\n  (date, step) => date.setDate(date.getDate() + step),\n  (start, end) => (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay,\n  date => date.getDate() - 1\n);\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval.js\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval.js\";\nimport {durationDay} from \"./duration.js\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval.js\";\nimport {durationWeek} from \"./duration.js\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval.js\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"g\": formatYearISO,\n    \"G\": formatFullYearISO,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"g\": formatUTCYearISO,\n    \"G\": formatUTCFullYearISO,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"g\": parseYear,\n    \"G\": parseFullYear,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  return new Map(names.map((name, i) => [name.toLowerCase(), i]));\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction dISO(d) {\n  var day = d.getDay();\n  return (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  d = dISO(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatYearISO(d, p) {\n  d = dISO(d);\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatFullYearISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction UTCdISO(d) {\n  var day = d.getUTCDay();\n  return (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  d = UTCdISO(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCYearISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCFullYearISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import dsv from \"./dsv.js\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatBody = csv.formatBody;\nexport var csvFormatRows = csv.formatRows;\nexport var csvFormatRow = csv.formatRow;\nexport var csvFormatValue = csv.formatValue;\n","import React from \"react\"\nimport classnames from \"classnames\"\n\nexport const SparkBarTimeSeriesValue = ({\n    value,\n    latest,\n    className,\n    displayDate,\n}: {\n    value: string | undefined\n    latest?: boolean\n    className?: string\n    displayDate?: string\n}): JSX.Element => (\n    <div className={classnames(\"time-series-value\", className)}>\n        {value !== undefined ? (\n            <>\n                <span className=\"count\">{value}</span>\n                <span className={classnames(\"date\", { latest: latest })}>\n                    {displayDate}\n                </span>\n            </>\n        ) : undefined}\n    </div>\n)\n","import { highlight as fuzzyHighlight } from \"@ourworldindata/grapher\"\nimport { keyBy } from \"@ourworldindata/utils\"\nimport fuzzysort from \"fuzzysort\"\nimport { action, autorun, computed, observable } from \"mobx\"\nimport { SiteAnalytics } from \"./SiteAnalytics.js\"\ninterface ChartItem {\n    title: string\n    li: HTMLLIElement\n    ul: HTMLUListElement\n}\n\nfunction encodeHashSafe(s: string) {\n    return encodeURIComponent(s.replace(/ /g, \"-\"))\n}\n\nfunction decodeHashSafe(s: string) {\n    return decodeURIComponent(s).replace(/-/g, \" \")\n}\n\nclass ChartFilter {\n    searchInput: HTMLInputElement\n    chartItems: ChartItem[] = []\n    chartItemsByTitle: { [key: string]: ChartItem } = {}\n    strings: (Fuzzysort.Prepared | undefined)[]\n    results: any[] = []\n    sections: HTMLDivElement[] = []\n\n    @observable query: string = \"\"\n\n    @computed get searchStrings(): (Fuzzysort.Prepared | undefined)[] {\n        return this.chartItems.map((c) => fuzzysort.prepare(c.title))\n    }\n\n    @computed get searchResults(): Fuzzysort.Results {\n        return fuzzysort.go(this.query, this.searchStrings, { threshold: -150 })\n    }\n\n    @computed get resultsByTitle(): { [key: string]: Fuzzysort.Result } {\n        return keyBy(this.searchResults, \"target\")\n    }\n\n    constructor() {\n        this.searchInput = document.querySelector(\n            \".chartsSearchInput\"\n        ) as HTMLInputElement\n        this.sections = Array.from(\n            document.querySelectorAll(\".ChartsIndexPage main .content section\")\n        ) as HTMLDivElement[]\n        const lis = Array.from(\n            document.querySelectorAll(\".ChartsIndexPage main .content li\")\n        ) as HTMLLIElement[]\n        this.chartItems = lis.map((li) => ({\n            title: (li.children[0].textContent as string).replace(/₂/g, \"2\"),\n            li: li,\n            ul: li.closest(\"ul\") as HTMLUListElement,\n        }))\n        this.chartItemsByTitle = keyBy(this.chartItems, \"title\")\n        this.strings = this.chartItems.map((c) => fuzzysort.prepare(c.title))\n    }\n\n    analytics = new SiteAnalytics()\n\n    @action.bound logSearchQuery() {\n        this.analytics.logChartsPageSearchQuery(this.query)\n    }\n\n    timeout?: NodeJS.Timeout\n    @action.bound onSearchInput() {\n        this.query = this.searchInput.value\n\n        if (this.timeout !== undefined) {\n            clearTimeout(this.timeout)\n        }\n        this.timeout = setTimeout(this.logSearchQuery, 500)\n    }\n\n    /*@action.bound onKeydown(ev: KeyboardEvent) {\n        if (ev.keyCode === 13 && this.query && this.searchResults.length) {\n            const href = this.chartItemsByTitle[this.searchResults[0].target].li.children[0].getAttribute('href') as string\n            window.location.assign(href)\n        }\n    }*/\n\n    render() {\n        history.replaceState(\n            null,\n            document.title,\n            window.location.pathname +\n                (this.query ? `?search=${encodeHashSafe(this.query)}` : \"\") +\n                window.location.hash\n        )\n\n        if (!this.query) {\n            for (const section of this.sections) {\n                section.style.display = \"\"\n            }\n            for (const c of this.chartItems) {\n                c.ul.append(c.li)\n                c.li.style.display = \"\"\n                c.li.children[0].innerHTML = c.title\n            }\n\n            return\n        }\n\n        /*for (let i = this.searchResults.length-1; i >= 0; i--) {\n            const c = this.chartItemsByTitle[this.searchResults[i].target]\n            c.ul.prepend(c.li)\n        }*/\n\n        for (const c of this.chartItems) {\n            const res = this.resultsByTitle[c.title]\n            if (!res) {\n                c.li.style.display = \"none\"\n            } else {\n                c.li.style.display = \"\"\n                c.li.children[0].innerHTML = fuzzyHighlight(res) ?? \"\"\n            }\n        }\n\n        // Ensure tag headings are only shown if they have charts under them\n        for (const section of this.sections) {\n            if (\n                !Array.from(section.querySelectorAll(\"li\")).some(\n                    (li) => li.style.display !== \"none\"\n                )\n            ) {\n                section.style.display = \"none\"\n            } else {\n                section.style.display = \"\"\n            }\n        }\n    }\n\n    @action.bound run() {\n        this.searchInput.addEventListener(\"input\", this.onSearchInput)\n        //this.searchInput.addEventListener('keydown', this.onKeydown)\n\n        autorun(() => this.render())\n\n        const m = window.location.search.match(/search=(.+)/)\n        if (m) {\n            this.searchInput.value = decodeHashSafe(m[1])\n        }\n        this.query = this.searchInput.value\n    }\n}\n\nexport function runChartsIndexPage() {\n    const searcher = new ChartFilter()\n    searcher.run()\n}\n","/*! algoliasearch-lite.umd.js | 4.12.2 | © Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */\n!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=e||self).algoliasearch=t()}(this,(function(){\"use strict\";function e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function r(r){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?t(Object(o),!0).forEach((function(t){e(r,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))}))}return r}function n(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(n=(u=i.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw a}}return r}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}function u(e){var t,r=\"algoliasearch-client-js-\".concat(e.key),n=function(){return void 0===t&&(t=e.localStorage||window.localStorage),t},a=function(){return JSON.parse(n().getItem(r)||\"{}\")};return{get:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then((function(){var r=JSON.stringify(e),n=a()[r];return Promise.all([n||t(),void 0!==n])})).then((function(e){var t=o(e,2),n=t[0],a=t[1];return Promise.all([n,a||r.miss(n)])})).then((function(e){return o(e,1)[0]}))},set:function(e,t){return Promise.resolve().then((function(){var o=a();return o[JSON.stringify(e)]=t,n().setItem(r,JSON.stringify(o)),t}))},delete:function(e){return Promise.resolve().then((function(){var t=a();delete t[JSON.stringify(e)],n().setItem(r,JSON.stringify(t))}))},clear:function(){return Promise.resolve().then((function(){n().removeItem(r)}))}}}function i(e){var t=a(e.caches),r=t.shift();return void 0===r?{get:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},n=t();return n.then((function(e){return Promise.all([e,r.miss(e)])})).then((function(e){return o(e,1)[0]}))},set:function(e,t){return Promise.resolve(t)},delete:function(e){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return r.get(e,n,o).catch((function(){return i({caches:t}).get(e,n,o)}))},set:function(e,n){return r.set(e,n).catch((function(){return i({caches:t}).set(e,n)}))},delete:function(e){return r.delete(e).catch((function(){return i({caches:t}).delete(e)}))},clear:function(){return r.clear().catch((function(){return i({caches:t}).clear()}))}}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{serializable:!0},t={};return{get:function(r,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},a=JSON.stringify(r);if(a in t)return Promise.resolve(e.serializable?JSON.parse(t[a]):t[a]);var u=n(),i=o&&o.miss||function(){return Promise.resolve()};return u.then((function(e){return i(e)})).then((function(){return u}))},set:function(r,n){return t[JSON.stringify(r)]=e.serializable?JSON.stringify(n):n,Promise.resolve(n)},delete:function(e){return delete t[JSON.stringify(e)],Promise.resolve()},clear:function(){return t={},Promise.resolve()}}}function c(e){for(var t=e.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}function l(e,t){return t?(Object.keys(t).forEach((function(r){e[r]=t[r](e)})),e):e}function f(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=0;return e.replace(/%s/g,(function(){return encodeURIComponent(r[o++])}))}var h={WithinQueryParameters:0,WithinHeaders:1};function d(e,t){var r=e||{},n=r.data||{};return Object.keys(r).forEach((function(e){-1===[\"timeout\",\"headers\",\"queryParameters\",\"data\",\"cacheable\"].indexOf(e)&&(n[e]=r[e])})),{data:Object.entries(n).length>0?n:void 0,timeout:r.timeout||t,headers:r.headers||{},queryParameters:r.queryParameters||{},cacheable:r.cacheable}}var m={Read:1,Write:2,Any:3},p=1,v=2,y=3;function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;return r(r({},e),{},{status:t,lastUpdate:Date.now()})}function b(e){return\"string\"==typeof e?{protocol:\"https\",url:e,accept:m.Any}:{protocol:e.protocol||\"https\",url:e.url,accept:e.accept||m.Any}}var O=\"GET\",P=\"POST\";function q(e,t){return Promise.all(t.map((function(t){return e.get(t,(function(){return Promise.resolve(g(t))}))}))).then((function(e){var r=e.filter((function(e){return function(e){return e.status===p||Date.now()-e.lastUpdate>12e4}(e)})),n=e.filter((function(e){return function(e){return e.status===y&&Date.now()-e.lastUpdate<=12e4}(e)})),o=[].concat(a(r),a(n));return{getTimeout:function(e,t){return(0===n.length&&0===e?1:n.length+3+e)*t},statelessHosts:o.length>0?o.map((function(e){return b(e)})):t}}))}function w(e,t,n,o){var u=[],i=function(e,t){if(e.method===O||void 0===e.data&&void 0===t.data)return;var n=Array.isArray(e.data)?e.data:r(r({},e.data),t.data);return JSON.stringify(n)}(n,o),s=function(e,t){var n=r(r({},e.headers),t.headers),o={};return Object.keys(n).forEach((function(e){var t=n[e];o[e.toLowerCase()]=t})),o}(e,o),c=n.method,l=n.method!==O?{}:r(r({},n.data),o.data),f=r(r(r({\"x-algolia-agent\":e.userAgent.value},e.queryParameters),l),o.queryParameters),h=0,d=function t(r,a){var l=r.pop();if(void 0===l)throw{name:\"RetryError\",message:\"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.\",transporterStackTrace:A(u)};var d={data:i,headers:s,method:c,url:S(l,n.path,f),connectTimeout:a(h,e.timeouts.connect),responseTimeout:a(h,o.timeout)},m=function(e){var t={request:d,response:e,host:l,triesLeft:r.length};return u.push(t),t},p={onSuccess:function(e){return function(e){try{return JSON.parse(e.content)}catch(t){throw function(e,t){return{name:\"DeserializationError\",message:e,response:t}}(t.message,e)}}(e)},onRetry:function(n){var o=m(n);return n.isTimedOut&&h++,Promise.all([e.logger.info(\"Retryable failure\",x(o)),e.hostsCache.set(l,g(l,n.isTimedOut?y:v))]).then((function(){return t(r,a)}))},onFail:function(e){throw m(e),function(e,t){var r=e.content,n=e.status,o=r;try{o=JSON.parse(r).message}catch(e){}return function(e,t,r){return{name:\"ApiError\",message:e,status:t,transporterStackTrace:r}}(o,n,t)}(e,A(u))}};return e.requester.send(d).then((function(e){return function(e,t){return function(e){var t=e.status;return e.isTimedOut||function(e){var t=e.isTimedOut,r=e.status;return!t&&0==~~r}(e)||2!=~~(t/100)&&4!=~~(t/100)}(e)?t.onRetry(e):2==~~(e.status/100)?t.onSuccess(e):t.onFail(e)}(e,p)}))};return q(e.hostsCache,t).then((function(e){return d(a(e.statelessHosts).reverse(),e.getTimeout)}))}function j(e){var t={value:\"Algolia for JavaScript (\".concat(e,\")\"),add:function(e){var r=\"; \".concat(e.segment).concat(void 0!==e.version?\" (\".concat(e.version,\")\"):\"\");return-1===t.value.indexOf(r)&&(t.value=\"\".concat(t.value).concat(r)),t}};return t}function S(e,t,r){var n=T(r),o=\"\".concat(e.protocol,\"://\").concat(e.url,\"/\").concat(\"/\"===t.charAt(0)?t.substr(1):t);return n.length&&(o+=\"?\".concat(n)),o}function T(e){return Object.keys(e).map((function(t){return f(\"%s=%s\",t,(r=e[t],\"[object Object]\"===Object.prototype.toString.call(r)||\"[object Array]\"===Object.prototype.toString.call(r)?JSON.stringify(e[t]):e[t]));var r})).join(\"&\")}function A(e){return e.map((function(e){return x(e)}))}function x(e){var t=e.request.headers[\"x-algolia-api-key\"]?{\"x-algolia-api-key\":\"*****\"}:{};return r(r({},e),{},{request:r(r({},e.request),{},{headers:r(r({},e.request.headers),t)})})}var N=function(e){var t=e.appId,n=function(e,t,r){var n={\"x-algolia-api-key\":r,\"x-algolia-application-id\":t};return{headers:function(){return e===h.WithinHeaders?n:{}},queryParameters:function(){return e===h.WithinQueryParameters?n:{}}}}(void 0!==e.authMode?e.authMode:h.WithinHeaders,t,e.apiKey),a=function(e){var t=e.hostsCache,r=e.logger,n=e.requester,a=e.requestsCache,u=e.responsesCache,i=e.timeouts,s=e.userAgent,c=e.hosts,l=e.queryParameters,f={hostsCache:t,logger:r,requester:n,requestsCache:a,responsesCache:u,timeouts:i,userAgent:s,headers:e.headers,queryParameters:l,hosts:c.map((function(e){return b(e)})),read:function(e,t){var r=d(t,f.timeouts.read),n=function(){return w(f,f.hosts.filter((function(e){return 0!=(e.accept&m.Read)})),e,r)};if(!0!==(void 0!==r.cacheable?r.cacheable:e.cacheable))return n();var a={request:e,mappedRequestOptions:r,transporter:{queryParameters:f.queryParameters,headers:f.headers}};return f.responsesCache.get(a,(function(){return f.requestsCache.get(a,(function(){return f.requestsCache.set(a,n()).then((function(e){return Promise.all([f.requestsCache.delete(a),e])}),(function(e){return Promise.all([f.requestsCache.delete(a),Promise.reject(e)])})).then((function(e){var t=o(e,2);t[0];return t[1]}))}))}),{miss:function(e){return f.responsesCache.set(a,e)}})},write:function(e,t){return w(f,f.hosts.filter((function(e){return 0!=(e.accept&m.Write)})),e,d(t,f.timeouts.write))}};return f}(r(r({hosts:[{url:\"\".concat(t,\"-dsn.algolia.net\"),accept:m.Read},{url:\"\".concat(t,\".algolia.net\"),accept:m.Write}].concat(c([{url:\"\".concat(t,\"-1.algolianet.com\")},{url:\"\".concat(t,\"-2.algolianet.com\")},{url:\"\".concat(t,\"-3.algolianet.com\")}]))},e),{},{headers:r(r(r({},n.headers()),{\"content-type\":\"application/x-www-form-urlencoded\"}),e.headers),queryParameters:r(r({},n.queryParameters()),e.queryParameters)}));return l({transporter:a,appId:t,addAlgoliaAgent:function(e,t){a.userAgent.add({segment:e,version:t})},clearCache:function(){return Promise.all([a.requestsCache.clear(),a.responsesCache.clear()]).then((function(){}))}},e.methods)},C=function(e){return function(t,r){return t.method===O?e.transporter.read(t,r):e.transporter.write(t,r)}},k=function(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={transporter:e.transporter,appId:e.appId,indexName:t};return l(n,r.methods)}},J=function(e){return function(t,n){var o=t.map((function(e){return r(r({},e),{},{params:T(e.params||{})})}));return e.transporter.read({method:P,path:\"1/indexes/*/queries\",data:{requests:o},cacheable:!0},n)}},E=function(e){return function(t,o){return Promise.all(t.map((function(t){var a=t.params,u=a.facetName,i=a.facetQuery,s=n(a,[\"facetName\",\"facetQuery\"]);return k(e)(t.indexName,{methods:{searchForFacetValues:R}}).searchForFacetValues(u,i,r(r({},o),s))})))}},I=function(e){return function(t,r,n){return e.transporter.read({method:P,path:f(\"1/answers/%s/prediction\",e.indexName),data:{query:t,queryLanguages:r},cacheable:!0},n)}},F=function(e){return function(t,r){return e.transporter.read({method:P,path:f(\"1/indexes/%s/query\",e.indexName),data:{query:t},cacheable:!0},r)}},R=function(e){return function(t,r,n){return e.transporter.read({method:P,path:f(\"1/indexes/%s/facets/%s/query\",e.indexName,t),data:{facetQuery:r},cacheable:!0},n)}},D=1,W=2,H=3;function Q(e,t,n){var o,a={appId:e,apiKey:t,timeouts:{connect:1,read:2,write:30},requester:{send:function(e){return new Promise((function(t){var r=new XMLHttpRequest;r.open(e.method,e.url,!0),Object.keys(e.headers).forEach((function(t){return r.setRequestHeader(t,e.headers[t])}));var n,o=function(e,n){return setTimeout((function(){r.abort(),t({status:0,content:n,isTimedOut:!0})}),1e3*e)},a=o(e.connectTimeout,\"Connection timeout\");r.onreadystatechange=function(){r.readyState>r.OPENED&&void 0===n&&(clearTimeout(a),n=o(e.responseTimeout,\"Socket timeout\"))},r.onerror=function(){0===r.status&&(clearTimeout(a),clearTimeout(n),t({content:r.responseText||\"Network request failed\",status:r.status,isTimedOut:!1}))},r.onload=function(){clearTimeout(a),clearTimeout(n),t({content:r.responseText,status:r.status,isTimedOut:!1})},r.send(e.data)}))}},logger:(o=H,{debug:function(e,t){return D>=o&&console.debug(e,t),Promise.resolve()},info:function(e,t){return W>=o&&console.info(e,t),Promise.resolve()},error:function(e,t){return console.error(e,t),Promise.resolve()}}),responsesCache:s(),requestsCache:s({serializable:!1}),hostsCache:i({caches:[u({key:\"\".concat(\"4.12.2\",\"-\").concat(e)}),s()]}),userAgent:j(\"4.12.2\").add({segment:\"Browser\",version:\"lite\"}),authMode:h.WithinQueryParameters};return N(r(r(r({},a),n),{},{methods:{search:J,searchForFacetValues:E,multipleQueries:J,multipleSearchForFacetValues:E,customRequest:C,initIndex:function(e){return function(t){return k(e)(t,{methods:{search:F,searchForFacetValues:R,findAnswers:I}})}}}}))}return Q.version=\"4.12.2\",Q}));\n","\"use strict\";function objectAssignPolyfill(){\"function\"!=typeof Object.assign&&(Object.assign=function(e,t){var n=arguments;if(null==e)throw new TypeError(\"Cannot convert undefined or null to object\");for(var i=Object(e),o=1;o<arguments.length;o++){var r=n[o];if(null!=r)for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])}return i})}function objectKeysPolyfill(){var e,t,n,i;Object.keys||(Object.keys=(e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable(\"toString\"),i=(n=[\"toString\",\"toLocaleString\",\"valueOf\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"constructor\"]).length,function(o){if(\"function\"!=typeof o&&(\"object\"!=typeof o||null===o))throw new TypeError(\"Object.keys called on non-object\");var r,s,a=[];for(r in o)e.call(o,r)&&a.push(r);if(t)for(s=0;s<i;s++)e.call(o,n[s])&&a.push(n[s]);return a}))}function __rest(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n}Object.defineProperty(exports,\"__esModule\",{value:!0});var supportsCookies=function(){try{return Boolean(navigator.cookieEnabled)}catch(e){return!1}},supportsSendBeacon=function(){try{return Boolean(navigator.sendBeacon)}catch(e){return!1}},supportsXMLHttpRequest=function(){try{return Boolean(XMLHttpRequest)}catch(e){return!1}},isUndefined=function(e){return void 0===e},isString=function(e){return\"string\"==typeof e},isNumber=function(e){return\"number\"==typeof e},isFunction=function(e){return\"function\"==typeof e};function makeSendEvents(e){return function(t){var n=this;if(!this._userHasOptedOut){if(!this._hasCredentials)throw new Error(\"Before calling any methods on the analytics, you first need to call the 'init' function with appId and apiKey parameters\");var i=t.map(function(e){var t,i,o=e.filters,r=__rest(e,[\"filters\"]),s=Object.assign(Object.assign({},r),{userToken:(i=null===(t=e)||void 0===t?void 0:t.userToken,null!==i&&void 0!==i?i:n._userToken)});return isUndefined(o)||(s.filters=o.map(encodeURIComponent)),s});return sendRequest(e,this._appId,this._apiKey,this._ua,this._endpointOrigin,i)}}}function sendRequest(e,t,n,i,o,r){return e(o+\"/1/events?X-Algolia-Application-Id=\"+t+\"&X-Algolia-API-Key=\"+n+\"&X-Algolia-Agent=\"+encodeURIComponent(i.join(\"; \")),{events:r})}var version=\"2.2.3\",DEFAULT_ALGOLIA_AGENTS=[\"insights-js (\"+version+\")\",\"insights-js-browser-cjs (\"+version+\")\"];function addAlgoliaAgent(e){-1===this._ua.indexOf(e)&&this._ua.push(e)}var SUPPORTED_REGIONS=[\"de\",\"us\"],MONTH=2592e6;function init(e){var t;if(!e)throw new Error(\"Init function should be called with an object argument containing your apiKey and appId\");if(isUndefined(e.apiKey)||!isString(e.apiKey))throw new Error(\"apiKey is missing, please provide it so we can authenticate the application\");if(isUndefined(e.appId)||!isString(e.appId))throw new Error(\"appId is missing, please provide it, so we can properly attribute data to your application\");if(!isUndefined(e.region)&&-1===SUPPORTED_REGIONS.indexOf(e.region))throw new Error(\"optional region is incorrect, please provide either one of: \"+SUPPORTED_REGIONS.join(\", \")+\".\");if(!(isUndefined(e.cookieDuration)||isNumber(e.cookieDuration)&&isFinite(e.cookieDuration)&&Math.floor(e.cookieDuration)===e.cookieDuration))throw new Error(\"optional cookieDuration is incorrect, expected an integer.\");\"development\"===process.env.NODE_ENV&&console.info(\"Since v2.0.4, search-insights no longer validates event payloads.\\nYou can visit https://algolia.com/events/debugger instead.\"),this._apiKey=e.apiKey,this._appId=e.appId,this._userHasOptedOut=!!e.userHasOptedOut,this._region=e.region,this._endpointOrigin=e.region?\"https://insights.\"+e.region+\".algolia.io\":\"https://insights.algolia.io\",this._useCookie=null!==(t=e.useCookie)&&void 0!==t&&t,this._cookieDuration=e.cookieDuration?e.cookieDuration:6*MONTH,this._hasCredentials=!0,this._ua=[].concat(DEFAULT_ALGOLIA_AGENTS),e.userToken?this.setUserToken(e.userToken):this._userToken||this._userHasOptedOut||!this._useCookie||this.setAnonymousUserToken()}function getVersion(e){isFunction(e)&&e(this.version)}function addEventType(e,t){return t.map(function(t){return Object.assign({eventType:e},t)})}function clickedObjectIDsAfterSearch(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return this.sendEvents(addEventType(\"click\",e))}function clickedObjectIDs(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return this.sendEvents(addEventType(\"click\",e))}function clickedFilters(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return this.sendEvents(addEventType(\"click\",e))}function convertedObjectIDsAfterSearch(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return this.sendEvents(addEventType(\"conversion\",e))}function convertedObjectIDs(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return this.sendEvents(addEventType(\"conversion\",e))}function convertedFilters(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return this.sendEvents(addEventType(\"conversion\",e))}function viewedObjectIDs(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return this.sendEvents(addEventType(\"view\",e))}function viewedFilters(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return this.sendEvents(addEventType(\"view\",e))}var createUUID=function(){return\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return(\"x\"===e?t:3&t|8).toString(16)})},COOKIE_KEY=\"_ALGOLIA\",setCookie=function(e,t,n){var i=new Date;i.setTime(i.getTime()+n);var o=\"expires=\"+i.toUTCString();document.cookie=e+\"=\"+t+\";\"+o+\";path=/\"},getCookie=function(e){for(var t=e+\"=\",n=document.cookie.split(\";\"),i=0;i<n.length;i++){for(var o=n[i];\" \"===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return\"\"};function setAnonymousUserToken(){if(supportsCookies()){var e=getCookie(COOKIE_KEY);e&&\"\"!==e&&0===e.indexOf(\"anonymous-\")?this.setUserToken(e):(this.setUserToken(\"anonymous-\"+createUUID()),setCookie(COOKIE_KEY,this._userToken,this._cookieDuration))}}function setUserToken(e){this._userToken=e,isFunction(this._onUserTokenChangeCallback)&&this._onUserTokenChangeCallback(this._userToken)}function getUserToken(e,t){return isFunction(t)&&t(null,this._userToken),this._userToken}function onUserTokenChange(e,t){this._onUserTokenChangeCallback=e,t&&t.immediate&&isFunction(this._onUserTokenChangeCallback)&&this._onUserTokenChangeCallback(this._userToken)}objectKeysPolyfill(),objectAssignPolyfill();var AlgoliaAnalytics=function(e){var t=e.requestFn;this._ua=[],this.version=version,this._hasCredentials=!1,this.sendEvents=makeSendEvents(t).bind(this),this.init=init.bind(this),this.addAlgoliaAgent=addAlgoliaAgent.bind(this),this.setUserToken=setUserToken.bind(this),this.setAnonymousUserToken=setAnonymousUserToken.bind(this),this.getUserToken=getUserToken.bind(this),this.onUserTokenChange=onUserTokenChange.bind(this),this.clickedObjectIDsAfterSearch=clickedObjectIDsAfterSearch.bind(this),this.clickedObjectIDs=clickedObjectIDs.bind(this),this.clickedFilters=clickedFilters.bind(this),this.convertedObjectIDsAfterSearch=convertedObjectIDsAfterSearch.bind(this),this.convertedObjectIDs=convertedObjectIDs.bind(this),this.convertedFilters=convertedFilters.bind(this),this.viewedObjectIDs=viewedObjectIDs.bind(this),this.viewedFilters=viewedFilters.bind(this),this.getVersion=getVersion.bind(this)};function getFunctionalInterface(e){return function(t){for(var n=[],i=arguments.length-1;i-- >0;)n[i]=arguments[i+1];t&&isFunction(e[t])?e[t].apply(e,n):console.warn(\"The method `\"+t+\"` doesn't exist.\")}}var requestWithSendBeacon=function(e,t){var n=JSON.stringify(t);if(!navigator.sendBeacon(e,n))return requestWithXMLHttpRequest(e,t)},requestWithXMLHttpRequest=function(e,t){var n=JSON.stringify(t),i=new XMLHttpRequest;i.open(\"POST\",e),i.setRequestHeader(\"Content-Type\",\"application/json\"),i.setRequestHeader(\"Content-Length\",\"\"+n.length),i.send(n)};function getRequesterForBrowser(){if(supportsSendBeacon())return requestWithSendBeacon;if(supportsXMLHttpRequest())return requestWithXMLHttpRequest;throw new Error(\"Could not find a supported HTTP request client in this environment.\")}function processQueue(e){var t=e.AlgoliaAnalyticsObject;if(t){var n=getFunctionalInterface(this),i=e[t];i.queue=i.queue||[];var o=i.queue;o.forEach(function(e){var t=[].slice.call(e),i=t[0],o=t.slice(1);n.apply(void 0,[i].concat(o))}),o.push=function(e){var t=[].slice.call(e),i=t[0],o=t.slice(1);n.apply(void 0,[i].concat(o))}}}function createInsightsClient(e){return getFunctionalInterface(new AlgoliaAnalytics({requestFn:e}))}var entryBrowserCjs=createInsightsClient(getRequesterForBrowser());exports.AlgoliaAnalytics=AlgoliaAnalytics,exports.default=entryBrowserCjs,exports.getFunctionalInterface=getFunctionalInterface,exports.getRequesterForBrowser=getRequesterForBrowser,exports.processQueue=processQueue;\n","const aa = require(\"./dist/search-insights-browser.cjs.min.js\");\n\nmodule.exports = aa.default;\nObject.keys(aa).forEach(key => {\n  if (key !== \"default\") {\n    module.exports[key] = aa[key];\n  }\n});\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar prefix = 'fas';\nvar iconName = 'check';\nvar width = 512;\nvar height = 512;\nvar aliases = [10003,10004];\nvar unicode = 'f00c';\nvar svgPathData = 'M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z';\n\nexports.definition = {\n  prefix: prefix,\n  iconName: iconName,\n  icon: [\n    width,\n    height,\n    aliases,\n    unicode,\n    svgPathData\n  ]};\n\nexports.faCheck = exports.definition;\nexports.prefix = prefix;\nexports.iconName = iconName;\nexports.width = width;\nexports.height = height;\nexports.ligatures = aliases;\nexports.unicode = unicode;\nexports.svgPathData = svgPathData;\nexports.aliases = aliases;","import { dayjs } from \"@ourworldindata/utils\"\nimport React, { ReactPortal } from \"react\"\nimport ReactDOM from \"react-dom\"\nimport {\n    Action,\n    DATE_FORMAT,\n    getPreferenceValue,\n    getTodayDate,\n    Preference,\n    PreferenceType,\n} from \"../../site/CookiePreferencesManager.js\"\nimport slugify from \"slugify\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome/index.js\"\nimport { faCheck } from \"@fortawesome/free-solid-svg-icons/faCheck\"\nimport { SiteAnalytics } from \"../../site/SiteAnalytics.js\"\n\nconst ANALYTICS_ACTION = \"cookie-preferences\"\nconst analytics = new SiteAnalytics()\n\n// Note: CookiePreferences has been designed to be rendered through a portal\n// only. When this becomes limiting (e.g. cookies preferences rendered both in\n// the content and in the cookie bar), then at least two things need to be taken\n// care of:\n// - unique IDs for input elements in CookiePreference\n// - support for in-place rendering\n\nconst CookiePreference = ({\n    title,\n    name,\n    consent,\n    disabled,\n    toggleConsent,\n    children,\n}: {\n    title: string\n    name: string\n    consent: boolean\n    disabled?: boolean\n    toggleConsent?: any\n    children: React.ReactNode\n}) => {\n    const id = `cookie-preference-${slugify(name, { lower: true })}`\n\n    const onChange = () => {\n        toggleConsent()\n        analytics.logSiteClick(\n            ANALYTICS_ACTION,\n            `${consent ? \"Refuse\" : \"Accept\"} ${name}`\n        )\n    }\n\n    return (\n        <div className=\"cookie-preference\">\n            <input\n                id={id}\n                type=\"checkbox\"\n                onChange={onChange}\n                checked={consent}\n                disabled={disabled}\n                data-test={`${name}-preference`}\n            ></input>\n            <label htmlFor={id}>{title}</label>\n            <div className=\"description\">{children}</div>\n        </div>\n    )\n}\n\nexport const CookiePreferences = ({\n    preferences,\n    date,\n    dispatch,\n}: {\n    preferences: Preference[]\n    date?: string\n    dispatch: any\n}): ReactPortal | null => {\n    const cookiePreferencesDomSlot = document.querySelector(\n        \".wp-block-cookie-preferences\"\n    )\n    if (!cookiePreferencesDomSlot) return null\n\n    return ReactDOM.createPortal(\n        <div data-test=\"cookie-preferences\" className=\"cookie-preferences\">\n            <CookiePreference\n                title=\"Necessary cookies\"\n                name=\"necessary\"\n                consent={true}\n                disabled={true}\n            >\n                The website cannot function properly without these cookies. If\n                you wish, you can disable cookies completely in your browser\n                preferences.\n            </CookiePreference>\n            <CookiePreference\n                title=\"Analytics cookies\"\n                name=\"analytics\"\n                consent={getPreferenceValue(\n                    PreferenceType.Analytics,\n                    preferences\n                )}\n                toggleConsent={() =>\n                    dispatch({\n                        type: Action.TogglePreference,\n                        payload: {\n                            preferenceType: PreferenceType.Analytics,\n                            date: getTodayDate(),\n                        },\n                    })\n                }\n            >\n                We use these cookies to monitor and improve website performance.\n            </CookiePreference>\n            {date ? (\n                <div className=\"last-updated\">\n                    Preferences last updated:{\" \"}\n                    {dayjs(date, DATE_FORMAT).format(\"MMMM D, YYYY\")}\n                </div>\n            ) : (\n                <button\n                    className=\"owid-button\"\n                    onClick={() =>\n                        dispatch({\n                            type: Action.Accept,\n                            payload: { date: getTodayDate() },\n                        })\n                    }\n                    data-test=\"accept\"\n                    data-track-note={ANALYTICS_ACTION}\n                >\n                    <span className=\"icon\">\n                        <FontAwesomeIcon icon={faCheck} />\n                    </span>\n                    I agree\n                </button>\n            )}\n        </div>,\n        cookiePreferencesDomSlot\n    )\n}\n","import React, { useEffect, useState } from \"react\"\nimport classnames from \"classnames\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome/index.js\"\nimport { faCheck } from \"@fortawesome/free-solid-svg-icons/faCheck\"\nimport { Action, getTodayDate } from \"./CookiePreferencesManager.js\"\n\nexport const CookieNotice = ({\n    accepted,\n    outdated,\n    dispatch,\n}: {\n    accepted: boolean\n    outdated: boolean\n    dispatch: any\n}) => {\n    const [mounted, setMounted] = useState(false)\n\n    useEffect(() => {\n        setTimeout(() => {\n            setMounted(true)\n        }, 200)\n    }, [])\n\n    return (\n        <div\n            className={classnames(\"cookie-notice\", {\n                open: mounted && (!accepted || outdated),\n            })}\n            data-test=\"cookie-notice\"\n        >\n            <div className=\"cookie-notice__inner\">\n                <div>\n                    <p className=\"cookie-notice__text\">\n                        We use cookies to give you the best experience on our\n                        website.\n                    </p>\n                    <p className=\"cookie-notice__text\">\n                        By continuing without changing your cookie settings, we\n                        assume you agree to this.\n                    </p>\n                </div>\n                <div className=\"actions\">\n                    <a href=\"/privacy-policy\" className=\"button\">\n                        Manage preferences\n                    </a>\n                    <button\n                        className=\"button accept\"\n                        onClick={() =>\n                            dispatch({\n                                type: Action.Accept,\n                                payload: { date: getTodayDate() },\n                            })\n                        }\n                        data-test=\"accept\"\n                        data-track-note=\"cookie-notice\"\n                    >\n                        <span className=\"icon\">\n                            <FontAwesomeIcon icon={faCheck} />\n                        </span>\n                        I agree\n                    </button>\n                </div>\n            </div>\n        </div>\n    )\n}\n","import ReactDOM from \"react-dom\"\nimport React, { useEffect, useReducer } from \"react\"\nimport Cookies from \"js-cookie\"\nimport { CookiePreferences } from \"../site/blocks/CookiePreferences.js\"\nimport { CookieNotice } from \"../site/CookieNotice.js\"\nimport { dayjs } from \"@ourworldindata/utils\"\n\nexport enum PreferenceType {\n    Analytics = \"a\",\n    Marketing = \"m\", // not used\n}\n\nexport enum Action {\n    Accept,\n    TogglePreference,\n    Reset,\n}\n\nexport interface Preference {\n    type: PreferenceType\n    value: boolean\n}\n\nexport const POLICY_DATE: number = 20201009\nexport const DATE_FORMAT = \"YYYYMMDD\"\nconst COOKIE_NAME = \"cookie_preferences\"\nconst PREFERENCES_SEPARATOR = \"|\"\nconst DATE_SEPARATOR = \"-\"\nconst PREFERENCE_KEY_VALUE_SEPARATOR = \":\"\n// e.g. p:1-20200910\n\ninterface State {\n    date?: number\n    preferences: Preference[]\n}\n\nconst defaultState: State = {\n    preferences: [\n        {\n            type: PreferenceType.Analytics,\n            value: true,\n        },\n    ],\n}\n\nexport const CookiePreferencesManager = ({\n    initialState = defaultState,\n}: {\n    initialState: State\n}) => {\n    const [state, dispatch] = useReducer(reducer, initialState)\n\n    // Reset state\n    useEffect(() => {\n        if (arePreferencesOutdated(state.date, POLICY_DATE)) {\n            dispatch({ type: Action.Reset })\n        }\n    }, [state.date])\n\n    // Commit state\n    useEffect(() => {\n        if (state.date) {\n            Cookies.set(COOKIE_NAME, serializeState(state), {\n                expires: 365 * 3,\n            })\n        }\n    }, [state])\n\n    return (\n        <div data-test-policy-date={POLICY_DATE} className=\"cookie-manager\">\n            <CookieNotice\n                accepted={!!state.date}\n                outdated={arePreferencesOutdated(state.date, POLICY_DATE)}\n                dispatch={dispatch}\n            />\n            <CookiePreferences\n                preferences={state.preferences}\n                date={`${state.date}`}\n                dispatch={dispatch}\n            />\n        </div>\n    )\n}\n\nconst reducer = (\n    state: State,\n    { type: actionType, payload }: { type: Action; payload?: any }\n): State => {\n    switch (actionType) {\n        case Action.Accept: {\n            return {\n                date: payload.date,\n                preferences: updatePreference(\n                    PreferenceType.Analytics,\n                    true,\n                    state.preferences\n                ),\n            }\n        }\n        case Action.TogglePreference:\n            return {\n                date: payload.date,\n                preferences: updatePreference(\n                    payload.preferenceType,\n                    !getPreferenceValue(\n                        payload.preferenceType,\n                        state.preferences\n                    ),\n                    state.preferences\n                ),\n            }\n        case Action.Reset:\n            return defaultState\n        default:\n            return state\n    }\n}\n\nconst getInitialState = (): State => {\n    return parseRawCookieValue(Cookies.get(COOKIE_NAME)) ?? defaultState\n}\n\nexport const parseRawCookieValue = (cookieValue?: string) => {\n    if (!cookieValue) return\n\n    const [preferencesRaw, dateRaw] = cookieValue.split(DATE_SEPARATOR)\n    const date = parseDate(dateRaw)\n    if (!date) return\n\n    const preferences = parsePreferences(preferencesRaw)\n    if (!preferences.length) return\n\n    return {\n        preferences,\n        date,\n    }\n}\n\nexport const parsePreferences = (preferences?: string): Preference[] => {\n    if (!preferences) return []\n\n    return preferences\n        .split(PREFERENCES_SEPARATOR)\n        .map((preference) => {\n            const [type, , value] = preference // only supports 1 digit values\n            return {\n                type: type as PreferenceType,\n                value: value === \"1\",\n            }\n        })\n        .filter((preference) => isValidPreference(preference))\n}\n\nexport const isValidPreference = ({ type, value }: Preference) => {\n    return (\n        Object.values(PreferenceType).includes(type as PreferenceType) &&\n        typeof value === \"boolean\"\n    )\n}\n\nexport const parseDate = (date?: string): number | undefined => {\n    if (!date) return\n\n    return dayjs(date, DATE_FORMAT, true).isValid()\n        ? parseInt(date, 10)\n        : undefined\n}\n\nexport const getPreferenceValue = (\n    type: PreferenceType,\n    preferences: Preference[] = getInitialState().preferences\n) => {\n    return (\n        preferences.find((preference) => {\n            return preference.type === type\n        })?.value ?? false\n    )\n}\n\nexport const updatePreference = (\n    type: PreferenceType,\n    value: boolean,\n    preferences: Preference[]\n) => {\n    return preferences.map((preference) => {\n        if (preference.type !== type) return preference\n\n        return {\n            ...preference,\n            value,\n        }\n    })\n}\n\nexport const arePreferencesOutdated = (\n    preferencesDate: number | undefined,\n    policyDate: number\n) => {\n    if (!preferencesDate) return false\n    return preferencesDate < policyDate\n}\n\nexport const serializeState = (state: State) => {\n    const serializedPreferences = state.preferences\n        .map((preference) => {\n            return `${preference.type}${PREFERENCE_KEY_VALUE_SEPARATOR}${\n                preference.value ? 1 : 0\n            }`\n        })\n        .join(PREFERENCES_SEPARATOR)\n\n    return `${serializedPreferences}${DATE_SEPARATOR}${state.date}`\n}\n\nexport const getTodayDate = () => dayjs().format(DATE_FORMAT)\n\nexport const runCookiePreferencesManager = () => {\n    const div = document.createElement(\"div\")\n    document.body.appendChild(div)\n\n    ReactDOM.render(\n        <CookiePreferencesManager initialState={getInitialState()} />,\n        div\n    )\n}\n","import algoliasearch, { SearchClient } from \"algoliasearch/lite\"\nimport { countries } from \"@ourworldindata/utils\"\nimport {\n    ALGOLIA_ID,\n    ALGOLIA_SEARCH_KEY,\n} from \"../../settings/clientSettings.js\"\nimport { PageHit, SiteSearchResults, ChartHit } from \"./searchTypes.js\"\nimport type { SearchResponse } from \"@algolia/client-search\"\nimport insightsClient, { InsightsClient } from \"search-insights\"\nimport type { InsightsSearchClickEvent } from \"search-insights/dist/click.js\"\nimport {\n    getPreferenceValue,\n    PreferenceType,\n} from \"../CookiePreferencesManager.js\"\n\nlet algolia: SearchClient | undefined\nconst getClient = () => {\n    if (!algolia) algolia = algoliasearch(ALGOLIA_ID, ALGOLIA_SEARCH_KEY)\n    return algolia\n}\n\nlet insightsInitialized = false\nconst getInsightsClient = (): InsightsClient => {\n    if (!insightsInitialized) {\n        insightsClient(\"init\", {\n            appId: ALGOLIA_ID,\n            apiKey: ALGOLIA_SEARCH_KEY,\n            userHasOptedOut: !getPreferenceValue(PreferenceType.Analytics),\n            useCookie: true, // insightsClient doesn't set the cookie when userHasOptedOut is true\n        })\n        insightsInitialized = true\n    }\n    return insightsClient\n}\n\nexport const siteSearch = async (query: string): Promise<SiteSearchResults> => {\n    // Some special ad hoc handling of country names for chart query\n    // This is especially important for \"uk\" and \"us\" since algolia otherwise isn't too sure what to do with them\n    let chartQuery = query.trim()\n    const matchCountries = []\n    for (const country of countries) {\n        const variants = [country.name, ...(country.variantNames ?? [])]\n        for (const variant of variants) {\n            const r = new RegExp(`\\\\b(${variant})\\\\b`, \"gi\")\n\n            const newQuery = chartQuery.replace(r, \"\")\n\n            if (newQuery !== chartQuery) {\n                matchCountries.push(country)\n                if (newQuery.trim().length) chartQuery = newQuery\n            }\n        }\n    }\n\n    // \"HACK\" use undocumented (legacy?) multi-queries capability of search()\n    // instead of multipleQueries() here to benefit from optimized algoliasearch/lite\n    // see https://github.com/owid/owid-grapher/pull/461#discussion_r433791078\n    const json = await getClient().search([\n        {\n            indexName: \"pages\",\n            query,\n            params: {\n                attributesToRetrieve: [\"objectID\", \"slug\", \"title\", \"type\"],\n                attributesToSnippet: [\"excerpt:20\", \"content:20\"],\n                attributesToHighlight: [\"title\"],\n                hitsPerPage: 10,\n                clickAnalytics: true,\n            },\n        },\n        {\n            indexName: \"charts\",\n            query: chartQuery,\n            params: {\n                attributesToRetrieve: [\n                    \"objectID\",\n                    \"chartId\",\n                    \"slug\",\n                    \"title\",\n                    \"variantName\",\n                ],\n                attributesToSnippet: [\"subtitle:24\"],\n                attributesToHighlight: [\"title\", \"availableEntities\"],\n                hitsPerPage: 10,\n                removeStopWords: true,\n                replaceSynonymsInHighlight: false,\n                clickAnalytics: true,\n            },\n        },\n    ])\n\n    return {\n        pages: json.results[0] as SearchResponse<PageHit>,\n        charts: json.results[1] as SearchResponse<ChartHit>,\n        countries: matchCountries,\n    }\n}\n\nexport const logSiteSearchClick = (\n    event: Omit<InsightsSearchClickEvent, \"eventName\">\n) => {\n    const client = getInsightsClient()\n    client(\"clickedObjectIDsAfterSearch\", { ...event, eventName: \"click\" })\n}\n","import { Grapher } from \"@ourworldindata/grapher\"\nimport { deserializeJSONFromHTML, Url } from \"@ourworldindata/utils\"\nimport {\n    autorun,\n    computed,\n    IReactionDisposer,\n    observable,\n    runInAction,\n} from \"mobx\"\nimport { observer } from \"mobx-react\"\nimport React from \"react\"\nimport { GrapherFigureView } from \"./GrapherFigureView.js\"\n\n@observer\nexport class EmbedChart extends React.Component<{ src: string }> {\n    @computed private get url(): Url {\n        return Url.fromURL(this.props.src)\n    }\n    @computed private get configUrl() {\n        return this.url.originAndPath\n    }\n    @computed private get queryStr() {\n        return this.url.queryStr\n    }\n    @observable private grapher?: Grapher\n    @observable private currentUrl?: string\n\n    private async loadConfig() {\n        const { configUrl } = this\n        if (configUrl === undefined) return\n        const resp = await fetch(configUrl)\n        if (this.configUrl !== configUrl) {\n            // Changed while we were fetching\n            return\n        }\n\n        const html = await resp.text()\n        const config = deserializeJSONFromHTML(html)\n        runInAction(() => {\n            this.grapher = new Grapher({\n                ...config,\n                isEmbeddedInAnOwidPage: true,\n                queryStr: this.queryStr,\n            })\n            // We have now loaded this url with this query string.\n            // We use it as a React key, so if the url changes, we reload.\n            this.currentUrl = this.props.src\n        })\n    }\n\n    private dispose?: IReactionDisposer\n    componentDidMount() {\n        this.dispose = autorun(() => this.props.src && this.loadConfig())\n    }\n\n    componentWillUnmount() {\n        if (this.dispose) this.dispose()\n    }\n\n    render() {\n        return this.grapher ? (\n            <GrapherFigureView key={this.currentUrl} grapher={this.grapher} />\n        ) : (\n            <figure data-grapher-src={this.props.src} />\n        )\n    }\n}\n","import { setSelectedEntityNamesParam } from \"@ourworldindata/grapher\"\nimport { capitalize, Country, maxBy, uniq, Url } from \"@ourworldindata/utils\"\nimport { computed } from \"mobx\"\nimport { observer } from \"mobx-react\"\nimport React from \"react\"\nimport { BAKED_GRAPHER_URL } from \"../../settings/clientSettings.js\"\nimport { EmbedChart } from \"../EmbedChart.js\"\nimport { logSiteSearchClick } from \"./searchClient.js\"\nimport {\n    PageHit,\n    ChartHit,\n    SiteSearchResults,\n    PageType,\n    AlgoliaMatchLevel,\n} from \"./searchTypes.js\"\n\nclass ChartResult extends React.Component<{\n    hit: ChartHit\n    queryCountries: Country[]\n    queryId: string | undefined\n    index: number\n}> {\n    @computed get entities() {\n        return pickEntitiesForChart(this.props.hit, this.props.queryCountries)\n    }\n\n    @computed get slug(): string {\n        const { hit } = this.props\n        const { entities } = this\n        if (!entities.length) return hit.slug\n        else\n            return setSelectedEntityNamesParam(\n                Url.fromURL(hit.slug).updateQueryParams({\n                    tab: \"chart\",\n                }),\n                entities\n            ).fullUrl\n    }\n\n    @computed get title(): JSX.Element {\n        const { hit } = this.props\n        const { entities } = this\n        const highlightedTitle = hit._highlightResult?.title?.value ?? \"\"\n        const title = (\n            <span dangerouslySetInnerHTML={{ __html: highlightedTitle }} />\n        )\n        if (!entities.length) return title\n        else\n            return (\n                <>\n                    {title}, {entities.join(\", \")}\n                </>\n            )\n    }\n\n    render() {\n        const { hit } = this.props\n        const { slug, title } = this\n\n        return (\n            <li className=\"ChartResult\">\n                <a\n                    href={`${BAKED_GRAPHER_URL}/${slug}`}\n                    onClick={() => {\n                        if (this.props.queryId)\n                            logSiteSearchClick({\n                                index: \"charts\",\n                                objectIDs: [hit.objectID],\n                                positions: [this.props.index + 1], // Algolia index is 1-based\n                                queryID: this.props.queryId,\n                            })\n                    }}\n                >\n                    {title}\n                </a>\n                {hit.variantName ? (\n                    <span className=\"variantName\"> {hit.variantName}</span>\n                ) : undefined}\n                {hit._snippetResult?.subtitle && (\n                    <p\n                        dangerouslySetInnerHTML={{\n                            __html: hit._snippetResult.subtitle.value,\n                        }}\n                    />\n                )}\n            </li>\n        )\n    }\n}\n\nclass PageResult extends React.Component<{\n    hit: PageHit\n    queryId: string | undefined\n    index: number\n}> {\n    /**\n     * We want to decide whether to show the excerpt or the content, in addition to the title.\n     * The excerpt is usually more useful, but there can be cases where the content is better:\n     * - There is no excerpt.\n     * - We have a good search match in the content, but not in the excerpt or the title.\n     *\n     * Also, note that if the title matches well _and_ the content matches well, we will still show the excerpt.\n     * That's because the excerpt is concise, and the search term matching the title already indicates to the user why the result is relevant.\n     * A snippet from the fulltext is usually out-of-context and not as useful.\n     * -- @marcelgerber, 2023-02-08\n     */\n    @computed get textToShow(): string {\n        const { hit } = this.props\n        if (!hit._snippetResult?.excerpt?.value?.length)\n            return hit._snippetResult?.content?.value || \"\"\n\n        const highlightMatches = [\n            { name: \"title\", ...hit._highlightResult.title },\n            { name: \"excerpt\", ...hit._snippetResult.excerpt },\n            { name: \"content\", ...hit._snippetResult.content },\n        ]\n        const algoliaMatchLevels: AlgoliaMatchLevel[] = [\n            \"none\",\n            \"partial\",\n            \"full\",\n        ]\n        const highlighted = highlightMatches.map((e) => ({\n            ...e,\n            matchLevel: algoliaMatchLevels.indexOf(e.matchLevel ?? \"none\"),\n        }))\n        const best = maxBy(highlighted, (h) => h.matchLevel)\n        if (best?.name === \"content\")\n            return hit._snippetResult.content?.value || \"\"\n        else return hit._snippetResult.excerpt?.value || \"\"\n    }\n\n    render() {\n        const { hit } = this.props\n\n        const typesToShow: PageType[] = [\"topic\", \"country\", \"article\"]\n        const showType = typesToShow.includes(hit.type)\n\n        return (\n            <li>\n                <a\n                    href={`/${hit.slug}`}\n                    dangerouslySetInnerHTML={{\n                        __html: hit._highlightResult.title.value,\n                    }}\n                    onClick={() => {\n                        if (this.props.queryId)\n                            logSiteSearchClick({\n                                index: \"pages\",\n                                queryID: this.props.queryId,\n                                objectIDs: [hit.objectID],\n                                positions: [this.props.index + 1], // Algolia index is 1-based\n                            })\n                    }}\n                />\n                {/* <a href={`/${hit.slug}`}>{hit.title}</a> */}\n                {showType ? (\n                    <span className=\"variantName\">{capitalize(hit.type)}</span>\n                ) : undefined}\n                <p\n                    dangerouslySetInnerHTML={{\n                        __html: this.textToShow,\n                    }}\n                />\n            </li>\n        )\n    }\n}\n\nfunction pickEntitiesForChart(hit: ChartHit, queryCountries: Country[]) {\n    const entities = []\n    const availableEntities = hit._highlightResult?.availableEntities ?? []\n    for (const res of availableEntities) {\n        const entity = res.value.replace(/<\\/?strong>/g, \"\")\n\n        // Only pick an entity if it's a full match or if it's a match of at least 4 characters.\n        const relevantMatch =\n            res.fullyHighlighted || res.matchedWords.some((w) => w.length >= 4)\n        if (relevantMatch || queryCountries.some((c) => c.name === entity)) {\n            entities.push(entity)\n        }\n    }\n\n    return uniq(entities)\n}\n\n@observer\nexport class SearchResults extends React.Component<{\n    results: SiteSearchResults\n}> {\n    @computed get bestChartHit(): ChartHit | undefined {\n        return this.props.results.charts.hits[0] ?? undefined\n    }\n\n    @computed get bestChartEntities() {\n        const hit = this.bestChartHit\n        if (!hit) return []\n\n        return pickEntitiesForChart(hit, this.props.results.countries)\n    }\n\n    @computed get bestChartSlug() {\n        const { bestChartHit, bestChartEntities } = this\n        if (!bestChartHit) return undefined\n\n        if (!bestChartEntities.length) return bestChartHit.slug\n        else\n            return setSelectedEntityNamesParam(\n                Url.fromURL(bestChartHit.slug).updateQueryParams({\n                    tab: \"chart\",\n                }),\n                bestChartEntities\n            ).fullUrl\n    }\n\n    render() {\n        const { results } = this.props\n\n        return (\n            <div className=\"SearchResults\">\n                <div className=\"container\">\n                    <div className=\"postResults\">\n                        <h2>Pages</h2>\n                        {!results.pages.hits.length && (\n                            <p>No matching pages.</p>\n                        )}\n                        <ul>\n                            {results.pages.hits.map((hit, i) => (\n                                <PageResult\n                                    key={hit.objectID}\n                                    hit={hit}\n                                    queryId={results.pages.queryID}\n                                    index={i}\n                                />\n                            ))}\n                        </ul>\n                    </div>\n                    <div className=\"chartResults\">\n                        <h2>Charts</h2>\n                        {!results.charts.hits.length && (\n                            <p>No matching charts.</p>\n                        )}\n                        {this.bestChartSlug && (\n                            <EmbedChart\n                                src={`${BAKED_GRAPHER_URL}/${this.bestChartSlug}`}\n                            />\n                        )}\n                        <ul>\n                            {results.charts.hits.map((hit, i) => (\n                                <ChartResult\n                                    key={hit.chartId}\n                                    hit={hit}\n                                    queryCountries={results.countries}\n                                    index={i}\n                                    queryId={results.charts.queryID}\n                                />\n                            ))}\n                        </ul>\n                    </div>\n                </div>\n                <div className=\"algoliaCredit\">\n                    <a href=\"https://algolia.com\">\n                        Search powered by\n                        {/* Algolia logo taken from https://algolia.frontify.com/d/1AZwVNcFZiu7/style-guide#/basics/algolia-logo */}\n                        <svg\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                            viewBox=\"0 0 2196.2 500\"\n                        >\n                            <defs>\n                                <style>{`.cls-1,.cls-2{fill:#003dff;}.cls-2{fill-rule:evenodd;}`}</style>\n                            </defs>\n                            <path\n                                className=\"cls-2\"\n                                d=\"M1070.38,275.3V5.91c0-3.63-3.24-6.39-6.82-5.83l-50.46,7.94c-2.87,.45-4.99,2.93-4.99,5.84l.17,273.22c0,12.92,0,92.7,95.97,95.49,3.33,.1,6.09-2.58,6.09-5.91v-40.78c0-2.96-2.19-5.51-5.12-5.84-34.85-4.01-34.85-47.57-34.85-54.72Z\"\n                            />\n                            <rect\n                                className=\"cls-1\"\n                                x=\"1845.88\"\n                                y=\"104.73\"\n                                width=\"62.58\"\n                                height=\"277.9\"\n                                rx=\"5.9\"\n                                ry=\"5.9\"\n                            />\n                            <path\n                                className=\"cls-2\"\n                                d=\"M1851.78,71.38h50.77c3.26,0,5.9-2.64,5.9-5.9V5.9c0-3.62-3.24-6.39-6.82-5.83l-50.77,7.95c-2.87,.45-4.99,2.92-4.99,5.83v51.62c0,3.26,2.64,5.9,5.9,5.9Z\"\n                            />\n                            <path\n                                className=\"cls-2\"\n                                d=\"M1764.03,275.3V5.91c0-3.63-3.24-6.39-6.82-5.83l-50.46,7.94c-2.87,.45-4.99,2.93-4.99,5.84l.17,273.22c0,12.92,0,92.7,95.97,95.49,3.33,.1,6.09-2.58,6.09-5.91v-40.78c0-2.96-2.19-5.51-5.12-5.84-34.85-4.01-34.85-47.57-34.85-54.72Z\"\n                            />\n                            <path\n                                className=\"cls-2\"\n                                d=\"M1631.95,142.72c-11.14-12.25-24.83-21.65-40.78-28.31-15.92-6.53-33.26-9.85-52.07-9.85-18.78,0-36.15,3.17-51.92,9.85-15.59,6.66-29.29,16.05-40.76,28.31-11.47,12.23-20.38,26.87-26.76,44.03-6.38,17.17-9.24,37.37-9.24,58.36,0,20.99,3.19,36.87,9.55,54.21,6.38,17.32,15.14,32.11,26.45,44.36,11.29,12.23,24.83,21.62,40.6,28.46,15.77,6.83,40.12,10.33,52.4,10.48,12.25,0,36.78-3.82,52.7-10.48,15.92-6.68,29.46-16.23,40.78-28.46,11.29-12.25,20.05-27.04,26.25-44.36,6.22-17.34,9.24-33.22,9.24-54.21,0-20.99-3.34-41.19-10.03-58.36-6.38-17.17-15.14-31.8-26.43-44.03Zm-44.43,163.75c-11.47,15.75-27.56,23.7-48.09,23.7-20.55,0-36.63-7.8-48.1-23.7-11.47-15.75-17.21-34.01-17.21-61.2,0-26.89,5.59-49.14,17.06-64.87,11.45-15.75,27.54-23.52,48.07-23.52,20.55,0,36.63,7.78,48.09,23.52,11.47,15.57,17.36,37.98,17.36,64.87,0,27.19-5.72,45.3-17.19,61.2Z\"\n                            />\n                            <path\n                                className=\"cls-2\"\n                                d=\"M894.42,104.73h-49.33c-48.36,0-90.91,25.48-115.75,64.1-14.52,22.58-22.99,49.63-22.99,78.73,0,44.89,20.13,84.92,51.59,111.1,2.93,2.6,6.05,4.98,9.31,7.14,12.86,8.49,28.11,13.47,44.52,13.47,1.23,0,2.46-.03,3.68-.09,.36-.02,.71-.05,1.07-.07,.87-.05,1.75-.11,2.62-.2,.34-.03,.68-.08,1.02-.12,.91-.1,1.82-.21,2.73-.34,.21-.03,.42-.07,.63-.1,32.89-5.07,61.56-30.82,70.9-62.81v57.83c0,3.26,2.64,5.9,5.9,5.9h50.42c3.26,0,5.9-2.64,5.9-5.9V110.63c0-3.26-2.64-5.9-5.9-5.9h-56.32Zm0,206.92c-12.2,10.16-27.97,13.98-44.84,15.12-.16,.01-.33,.03-.49,.04-1.12,.07-2.24,.1-3.36,.1-42.24,0-77.12-35.89-77.12-79.37,0-10.25,1.96-20.01,5.42-28.98,11.22-29.12,38.77-49.74,71.06-49.74h49.33v142.83Z\"\n                            />\n                            <path\n                                className=\"cls-2\"\n                                d=\"M2133.97,104.73h-49.33c-48.36,0-90.91,25.48-115.75,64.1-14.52,22.58-22.99,49.63-22.99,78.73,0,44.89,20.13,84.92,51.59,111.1,2.93,2.6,6.05,4.98,9.31,7.14,12.86,8.49,28.11,13.47,44.52,13.47,1.23,0,2.46-.03,3.68-.09,.36-.02,.71-.05,1.07-.07,.87-.05,1.75-.11,2.62-.2,.34-.03,.68-.08,1.02-.12,.91-.1,1.82-.21,2.73-.34,.21-.03,.42-.07,.63-.1,32.89-5.07,61.56-30.82,70.9-62.81v57.83c0,3.26,2.64,5.9,5.9,5.9h50.42c3.26,0,5.9-2.64,5.9-5.9V110.63c0-3.26-2.64-5.9-5.9-5.9h-56.32Zm0,206.92c-12.2,10.16-27.97,13.98-44.84,15.12-.16,.01-.33,.03-.49,.04-1.12,.07-2.24,.1-3.36,.1-42.24,0-77.12-35.89-77.12-79.37,0-10.25,1.96-20.01,5.42-28.98,11.22-29.12,38.77-49.74,71.06-49.74h49.33v142.83Z\"\n                            />\n                            <path\n                                className=\"cls-2\"\n                                d=\"M1314.05,104.73h-49.33c-48.36,0-90.91,25.48-115.75,64.1-11.79,18.34-19.6,39.64-22.11,62.59-.58,5.3-.88,10.68-.88,16.14s.31,11.15,.93,16.59c4.28,38.09,23.14,71.61,50.66,94.52,2.93,2.6,6.05,4.98,9.31,7.14,12.86,8.49,28.11,13.47,44.52,13.47h0c17.99,0,34.61-5.93,48.16-15.97,16.29-11.58,28.88-28.54,34.48-47.75v50.26h-.11v11.08c0,21.84-5.71,38.27-17.34,49.36-11.61,11.08-31.04,16.63-58.25,16.63-11.12,0-28.79-.59-46.6-2.41-2.83-.29-5.46,1.5-6.27,4.22l-12.78,43.11c-1.02,3.46,1.27,7.02,4.83,7.53,21.52,3.08,42.52,4.68,54.65,4.68,48.91,0,85.16-10.75,108.89-32.21,21.48-19.41,33.15-48.89,35.2-88.52V110.63c0-3.26-2.64-5.9-5.9-5.9h-56.32Zm0,64.1s.65,139.13,0,143.36c-12.08,9.77-27.11,13.59-43.49,14.7-.16,.01-.33,.03-.49,.04-1.12,.07-2.24,.1-3.36,.1-1.32,0-2.63-.03-3.94-.1-40.41-2.11-74.52-37.26-74.52-79.38,0-10.25,1.96-20.01,5.42-28.98,11.22-29.12,38.77-49.74,71.06-49.74h49.33Z\"\n                            />\n                            <path\n                                className=\"cls-1\"\n                                d=\"M249.83,0C113.3,0,2,110.09,.03,246.16c-2,138.19,110.12,252.7,248.33,253.5,42.68,.25,83.79-10.19,120.3-30.03,3.56-1.93,4.11-6.83,1.08-9.51l-23.38-20.72c-4.75-4.21-11.51-5.4-17.36-2.92-25.48,10.84-53.17,16.38-81.71,16.03-111.68-1.37-201.91-94.29-200.13-205.96,1.76-110.26,92-199.41,202.67-199.41h202.69V407.41l-115-102.18c-3.72-3.31-9.42-2.66-12.42,1.31-18.46,24.44-48.53,39.64-81.93,37.34-46.33-3.2-83.87-40.5-87.34-86.81-4.15-55.24,39.63-101.52,94-101.52,49.18,0,89.68,37.85,93.91,85.95,.38,4.28,2.31,8.27,5.52,11.12l29.95,26.55c3.4,3.01,8.79,1.17,9.63-3.3,2.16-11.55,2.92-23.58,2.07-35.92-4.82-70.34-61.8-126.93-132.17-131.26-80.68-4.97-148.13,58.14-150.27,137.25-2.09,77.1,61.08,143.56,138.19,145.26,32.19,.71,62.03-9.41,86.14-26.95l150.26,133.2c6.44,5.71,16.61,1.14,16.61-7.47V9.48C499.66,4.25,495.42,0,490.18,0H249.83Z\"\n                            />\n                        </svg>\n                    </a>\n                </div>\n            </div>\n        )\n    }\n}\n","import ReactDOM from \"react-dom\"\nimport React from \"react\"\nimport { getWindowQueryParams } from \"@ourworldindata/utils\"\nimport { siteSearch } from \"./searchClient.js\"\nimport { SiteSearchResults } from \"./searchTypes.js\"\nimport { SearchResults } from \"./SearchResults.js\"\nimport { observer } from \"mobx-react\"\nimport { action, observable, runInAction } from \"mobx\"\n\n@observer\nexport class SearchPageMain extends React.Component {\n    @observable query: string = getWindowQueryParams().q || \"\"\n    lastQuery?: string\n\n    @observable.ref results?: SiteSearchResults\n\n    async runSearch(query: string) {\n        const results = await siteSearch(query)\n\n        if (this.lastQuery !== query) {\n            // Don't need this result anymore\n            return\n        }\n\n        runInAction(() => (this.results = results))\n    }\n\n    @action.bound onSearch(query: string) {\n        this.lastQuery = query\n        if (query) {\n            this.runSearch(query)\n        } else {\n            this.results = undefined\n        }\n    }\n\n    componentDidMount() {\n        const input = document.querySelector(\n            \".SearchPage > main > form input\"\n        ) as HTMLInputElement\n        input.value = this.query\n        input.focus()\n        this.onSearch(this.query)\n    }\n\n    // dispose?: IReactionDisposer\n    // componentDidMount() {\n    //     this.dispose = autorun(() => this.onSearch(this.query))\n    // }\n\n    // componentWillUnmount() {\n    //     if (this.dispose) this.dispose()\n    // }\n\n    @action.bound onSearchInput(e: React.ChangeEvent<HTMLInputElement>) {\n        this.query = e.currentTarget.value\n    }\n\n    render() {\n        return (\n            <React.Fragment>\n                {this.results && <SearchResults results={this.results} />}\n            </React.Fragment>\n        )\n    }\n}\n\nexport function runSearchPage() {\n    ReactDOM.render(\n        <SearchPageMain />,\n        document.querySelector(\".searchResults\")\n    )\n}\n","import { SiteAnalytics } from \"./SiteAnalytics.js\"\n\nconst analytics = new SiteAnalytics()\n\nexport function runNotFoundPage() {\n    const query = window.location.pathname.split(\"/\")\n    const searchInput = document.getElementById(\"search_q\") as HTMLInputElement\n    if (searchInput && query.length)\n        searchInput.value = decodeURIComponent(query[query.length - 1]).replace(\n            /[\\-_\\+|]/g,\n            \" \"\n        )\n    analytics.logPageNotFoundError(window.location.href)\n}\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar prefix = 'fas';\nvar iconName = 'message';\nvar width = 512;\nvar height = 512;\nvar aliases = [\"comment-alt\"];\nvar unicode = 'f27a';\nvar svgPathData = 'M64 0C28.7 0 0 28.7 0 64V352c0 35.3 28.7 64 64 64h96v80c0 6.1 3.4 11.6 8.8 14.3s11.9 2.1 16.8-1.5L309.3 416H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H64z';\n\nexports.definition = {\n  prefix: prefix,\n  iconName: iconName,\n  icon: [\n    width,\n    height,\n    aliases,\n    unicode,\n    svgPathData\n  ]};\n\nexports.faMessage = exports.definition;\nexports.prefix = prefix;\nexports.iconName = iconName;\nexports.width = width;\nexports.height = height;\nexports.ligatures = aliases;\nexports.unicode = unicode;\nexports.svgPathData = svgPathData;\nexports.aliases = aliases;","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar source = require('./faMessage');\nexports.definition = {\n  prefix: source.prefix,\n  iconName: source.iconName,\n  icon: [\n    source.width,\n    source.height,\n    source.aliases,\n    source.unicode,\n    source.svgPathData\n  ]};\n\nexports.faCommentAlt = exports.definition;\nexports.prefix = source.prefix;\nexports.iconName = source.iconName;\nexports.width = source.width;\nexports.height = source.height;\nexports.ligatures = source.aliases;\nexports.unicode = source.unicode;\nexports.svgPathData = source.svgPathData;\nexports.aliases = source.aliases;","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar prefix = 'fas';\nvar iconName = 'paper-plane';\nvar width = 512;\nvar height = 512;\nvar aliases = [61913];\nvar unicode = 'f1d8';\nvar svgPathData = 'M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L277.3 424.9l-40.1 74.5c-5.2 9.7-16.3 14.6-27 11.9S192 499 192 488V392c0-5.3 1.8-10.5 5.1-14.7L362.4 164.7c2.5-7.1-6.5-14.3-13-8.4L170.4 318.2l-32 28.9 0 0c-9.2 8.3-22.3 10.6-33.8 5.8l-85-35.4C8.4 312.8 .8 302.2 .1 290s5.5-23.7 16.1-29.8l448-256c10.7-6.1 23.9-5.5 34 1.4z';\n\nexports.definition = {\n  prefix: prefix,\n  iconName: iconName,\n  icon: [\n    width,\n    height,\n    aliases,\n    unicode,\n    svgPathData\n  ]};\n\nexports.faPaperPlane = exports.definition;\nexports.prefix = prefix;\nexports.iconName = iconName;\nexports.width = width;\nexports.height = height;\nexports.ligatures = aliases;\nexports.unicode = unicode;\nexports.svgPathData = svgPathData;\nexports.aliases = aliases;","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { observer } from \"mobx-react\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome/index.js\"\nimport { faCommentAlt } from \"@fortawesome/free-solid-svg-icons/faCommentAlt\"\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons/faTimes\"\nimport { observable, action, toJS, computed } from \"mobx\"\nimport classnames from \"classnames\"\nimport { faPaperPlane } from \"@fortawesome/free-solid-svg-icons/faPaperPlane\"\nimport { BAKED_BASE_URL } from \"../settings/clientSettings.js\"\nimport { stringifyUnkownError } from \"@ourworldindata/utils\"\n\nconst sendFeedback = async (feedback: Feedback) => {\n    const json = {\n        ...toJS(feedback),\n        environment: `Current URL: ${window.location.href}\\nUser Agent: ${navigator.userAgent}\\nViewport: ${window.innerWidth}x${window.innerHeight}`,\n    }\n\n    return await fetch(\n        \"https://owid-feedback.netlify.app/.netlify/functions/hello\",\n        {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json;charset=UTF-8\" },\n            body: JSON.stringify(json),\n        }\n    ).then((res) => {\n        if (!res.ok)\n            throw new Error(\n                `Sending feedback failed: ${res.status} ${res.statusText}`\n            )\n    })\n}\n\nclass Feedback {\n    @observable name: string = \"\"\n    @observable email: string = \"\"\n    @observable message: string = \"\"\n    environment: string = \"\"\n\n    @action.bound clear() {\n        this.name = \"\"\n        this.email = \"\"\n        this.message = \"\"\n    }\n}\n\nconst vaccinationRegex = /vaccination|vaccine|doses|vaccinat/i\nconst licensingRegex = /license|licensing|copyright|permission|permit/i\nconst citationRegex = /cite|citation|citing|reference/i\nconst translateRegex = /translat/i\n\nenum SpecialFeedbackTopic {\n    Vaccination,\n    Licensing,\n    Citation,\n    Translation,\n}\n\ninterface SpecialTopicMatcher {\n    regex: RegExp\n    topic: SpecialFeedbackTopic\n}\n\nconst topicMatchers: SpecialTopicMatcher[] = [\n    { regex: vaccinationRegex, topic: SpecialFeedbackTopic.Vaccination },\n    { regex: licensingRegex, topic: SpecialFeedbackTopic.Licensing },\n    { regex: citationRegex, topic: SpecialFeedbackTopic.Citation },\n    { regex: translateRegex, topic: SpecialFeedbackTopic.Translation },\n]\n\nconst vaccineNotice = (\n    <a\n        key=\"vaccineNotice\"\n        href={`${BAKED_BASE_URL}/covid-vaccinations#frequently-asked-questions`}\n        target=\"_blank\"\n        rel=\"noreferrer\"\n    >\n        Covid Vaccines Questions\n    </a>\n)\n\nconst copyrightNotice = (\n    <a\n        key=\"copyrightNotice\"\n        href={`${BAKED_BASE_URL}/faqs#how-is-your-work-copyrighted`}\n        target=\"_blank\"\n        rel=\"noreferrer\"\n    >\n        Copyright Queries\n    </a>\n)\nconst citationNotice = (\n    <a\n        key=\"citationNotice\"\n        href={`${BAKED_BASE_URL}/faqs#how-should-i-cite-your-work`}\n        target=\"_blank\"\n        rel=\"noreferrer\"\n    >\n        How to Cite our Work\n    </a>\n)\nconst translateNotice = (\n    <a\n        key=\"translateNotice\"\n        href={`${BAKED_BASE_URL}/faqs#can-i-translate-your-work-into-another-language`}\n        target=\"_blank\"\n        rel=\"noreferrer\"\n    >\n        Translating our work\n    </a>\n)\n\nconst topicNotices = new Map<SpecialFeedbackTopic, JSX.Element>([\n    [SpecialFeedbackTopic.Vaccination, vaccineNotice],\n    [SpecialFeedbackTopic.Citation, citationNotice],\n    [SpecialFeedbackTopic.Licensing, copyrightNotice],\n    [SpecialFeedbackTopic.Translation, translateNotice],\n])\n\n@observer\nexport class FeedbackForm extends React.Component<{\n    onClose?: () => void\n    autofocus?: boolean\n}> {\n    feedback: Feedback = new Feedback()\n    @observable loading: boolean = false\n    @observable done: boolean = false\n    @observable error: string | undefined\n\n    async submit() {\n        try {\n            await sendFeedback(this.feedback)\n            this.feedback.clear()\n            this.done = true\n        } catch (err) {\n            this.error = stringifyUnkownError(err)\n        } finally {\n            this.loading = false\n        }\n    }\n\n    @action.bound onSubmit(e: React.FormEvent<HTMLFormElement>) {\n        e.preventDefault()\n        this.done = false\n        this.error = undefined\n        this.loading = true\n        this.submit()\n    }\n\n    @action.bound onName(e: React.ChangeEvent<HTMLInputElement>) {\n        this.feedback.name = e.currentTarget.value\n    }\n\n    @action.bound onEmail(e: React.ChangeEvent<HTMLInputElement>) {\n        this.feedback.email = e.currentTarget.value\n    }\n\n    @action.bound onMessage(e: React.ChangeEvent<HTMLTextAreaElement>) {\n        this.feedback.message = e.currentTarget.value\n    }\n\n    @action.bound onClose() {\n        if (this.props.onClose) {\n            this.props.onClose()\n        }\n        // Clear the form after closing, in case the user has a 2nd message to send later.\n        this.done = false\n    }\n\n    @computed private get specialTopic(): SpecialFeedbackTopic | undefined {\n        const { message } = this.feedback\n        return topicMatchers.find((matcher) => matcher.regex.test(message))\n            ?.topic\n    }\n\n    renderBody() {\n        const { loading, done, specialTopic } = this\n        const autofocus = this.props.autofocus ?? true\n\n        if (done) {\n            return (\n                <div className=\"doneMessage\">\n                    <div className=\"icon\">\n                        <FontAwesomeIcon icon={faPaperPlane} />\n                    </div>\n                    <div className=\"message\">\n                        <h3>Thank you for your feedback</h3>\n                        <p>\n                            We read all feedback, but due to a high volume of\n                            messages we are not able to reply to all.\n                        </p>\n                    </div>\n                    <div className=\"actions\">\n                        <button onClick={this.onClose}>Close</button>\n                    </div>\n                </div>\n            )\n        }\n\n        const notices = specialTopic\n            ? topicNotices.get(specialTopic)\n            : undefined\n        return (\n            <React.Fragment>\n                <div className=\"header\">Leave us feedback</div>\n                <div className=\"notice\">\n                    <p>\n                        <strong>Have a question?</strong> You may find an answer\n                        in:\n                        <br />\n                        <a\n                            href={`${BAKED_BASE_URL}/faqs`}\n                            target=\"_blank\"\n                            rel=\"noreferrer\"\n                        >\n                            <strong>General FAQ</strong>\n                        </a>{\" \"}\n                        or{\" \"}\n                        <a\n                            href={`${BAKED_BASE_URL}/covid-vaccinations#frequently-asked-questions`}\n                            target=\"_blank\"\n                            rel=\"noreferrer\"\n                        >\n                            <strong>Vaccinations FAQ</strong>\n                        </a>\n                    </p>\n                </div>\n                <div className=\"formBody\">\n                    <div className=\"formSection formSectionExpand\">\n                        <label htmlFor=\"feedback.message\">Message</label>\n                        <textarea\n                            id=\"feedback.message\"\n                            onChange={this.onMessage}\n                            rows={5}\n                            minLength={30}\n                            required\n                            disabled={loading}\n                        />\n                        {notices ? (\n                            <div className=\"topic-notice\">\n                                Your question may be answered in{\" \"}\n                                <strong>{notices}</strong>.\n                            </div>\n                        ) : null}\n                    </div>\n                    <div className=\"formSection\">\n                        <label htmlFor=\"feedback.name\">Your name</label>\n                        <input\n                            id=\"feedback.name\"\n                            onChange={this.onName}\n                            autoFocus={autofocus}\n                            disabled={loading}\n                        />\n                    </div>\n                    <div className=\"formSection\">\n                        <label htmlFor=\"feedback.email\">Email address</label>\n                        <input\n                            id=\"feedback.email\"\n                            onChange={this.onEmail}\n                            type=\"email\"\n                            required\n                            disabled={loading}\n                        />\n                    </div>\n                    {this.error ? (\n                        <div style={{ color: \"red\" }}>{this.error}</div>\n                    ) : undefined}\n                    {this.done ? (\n                        <div style={{ color: \"green\" }}>\n                            Thanks for your feedback!\n                        </div>\n                    ) : undefined}\n                </div>\n                <div className=\"footer\">\n                    <button type=\"submit\" disabled={loading}>\n                        Send message\n                    </button>\n                </div>\n            </React.Fragment>\n        )\n    }\n\n    render() {\n        return (\n            <form\n                className={classnames(\"FeedbackForm\", {\n                    loading: this.loading,\n                })}\n                onSubmit={this.onSubmit}\n            >\n                {this.renderBody()}\n            </form>\n        )\n    }\n}\n\n@observer\nexport class FeedbackPrompt extends React.Component {\n    @observable isOpen: boolean = false\n\n    @action.bound toggleOpen() {\n        this.isOpen = !this.isOpen\n    }\n\n    @action.bound onClose() {\n        this.isOpen = false\n    }\n\n    @action.bound onClickOutside() {\n        this.onClose()\n    }\n\n    render() {\n        return (\n            <div\n                className={`feedbackPromptContainer${\n                    this.isOpen ? \" active\" : \"\"\n                }`}\n            >\n                {/* We are keeping the form always rendered to avoid wiping all contents\n                when a user accidentally closes the form */}\n                <div style={{ display: this.isOpen ? \"block\" : \"none\" }}>\n                    <div className=\"overlay\" onClick={this.onClickOutside} />\n                    <div className=\"box\">\n                        <FeedbackForm onClose={this.onClose} />\n                    </div>\n                </div>\n                {this.isOpen ? (\n                    <button className=\"prompt\" onClick={this.toggleOpen}>\n                        <FontAwesomeIcon icon={faTimes} /> Close\n                    </button>\n                ) : (\n                    <button\n                        className=\"prompt\"\n                        data-track-note=\"page-open-feedback\"\n                        onClick={this.toggleOpen}\n                    >\n                        <FontAwesomeIcon icon={faCommentAlt} /> Feedback\n                    </button>\n                )}\n            </div>\n        )\n    }\n}\n\nexport function runFeedbackPage() {\n    ReactDOM.render(\n        <div className=\"box\">\n            <FeedbackForm />\n        </div>,\n        document.querySelector(\".FeedbackPage main\")\n    )\n}\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t(require(\"react\")):\"function\"==typeof define&&define.amd?define([\"react\"],t):\"object\"==typeof exports?exports.ReactRecaptcha=t(require(\"react\")):e.ReactRecaptcha=t(e.React)}(this,function(e){return function(e){function t(r){if(a[r])return a[r].exports;var n=a[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var a={};return t.m=e,t.c=a,t.p=\"\",t(0)}([function(e,t,a){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function o(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function i(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=a(6),c=r(s),p=a(4),u=r(p),d={className:u.default.string,onloadCallbackName:u.default.string,elementID:u.default.string,onloadCallback:u.default.func,verifyCallback:u.default.func,expiredCallback:u.default.func,render:u.default.oneOf([\"onload\",\"explicit\"]),sitekey:u.default.string,theme:u.default.oneOf([\"light\",\"dark\"]),type:u.default.string,verifyCallbackName:u.default.string,expiredCallbackName:u.default.string,size:u.default.oneOf([\"invisible\",\"compact\",\"normal\"]),tabindex:u.default.string,hl:u.default.string,badge:u.default.oneOf([\"bottomright\",\"bottomleft\",\"inline\"])},f={elementID:\"g-recaptcha\",className:\"g-recaptcha\",onloadCallback:void 0,onloadCallbackName:\"onloadCallback\",verifyCallback:void 0,verifyCallbackName:\"verifyCallback\",expiredCallback:void 0,expiredCallbackName:\"expiredCallback\",render:\"onload\",theme:\"light\",type:\"image\",size:\"normal\",tabindex:\"0\",hl:\"en\",badge:\"bottomright\"},h=function(){return\"undefined\"!=typeof window&&\"undefined\"!=typeof window.grecaptcha&&\"function\"==typeof window.grecaptcha.render},y=void 0,b=function(e){function t(e){n(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a._renderGrecaptcha=a._renderGrecaptcha.bind(a),a.reset=a.reset.bind(a),a.state={ready:h(),widget:null},a.state.ready||\"undefined\"==typeof window||(y=setInterval(a._updateReadyState.bind(a),1e3)),a}return i(t,e),l(t,[{key:\"componentDidMount\",value:function(){this.state.ready&&this._renderGrecaptcha()}},{key:\"componentDidUpdate\",value:function(e,t){var a=this.props,r=a.render,n=a.onloadCallback;\"explicit\"===r&&n&&this.state.ready&&!t.ready&&this._renderGrecaptcha()}},{key:\"componentWillUnmount\",value:function(){clearInterval(y)}},{key:\"reset\",value:function(){var e=this.state,t=e.ready,a=e.widget;t&&null!==a&&grecaptcha.reset(a)}},{key:\"execute\",value:function(){var e=this.state,t=e.ready,a=e.widget;t&&null!==a&&grecaptcha.execute(a)}},{key:\"_updateReadyState\",value:function(){h()&&(this.setState({ready:!0}),clearInterval(y))}},{key:\"_renderGrecaptcha\",value:function(){this.state.widget=grecaptcha.render(this.props.elementID,{sitekey:this.props.sitekey,callback:this.props.verifyCallback?this.props.verifyCallback:void 0,theme:this.props.theme,type:this.props.type,size:this.props.size,tabindex:this.props.tabindex,hl:this.props.hl,badge:this.props.badge,\"expired-callback\":this.props.expiredCallback?this.props.expiredCallback:void 0}),this.props.onloadCallback&&this.props.onloadCallback()}},{key:\"render\",value:function(){return\"explicit\"===this.props.render&&this.props.onloadCallback?c.default.createElement(\"div\",{id:this.props.elementID,\"data-onloadcallbackname\":this.props.onloadCallbackName,\"data-verifycallbackname\":this.props.verifyCallbackName}):c.default.createElement(\"div\",{id:this.props.elementID,className:this.props.className,\"data-sitekey\":this.props.sitekey,\"data-theme\":this.props.theme,\"data-type\":this.props.type,\"data-size\":this.props.size,\"data-badge\":this.props.badge,\"data-tabindex\":this.props.tabindex})}}]),t}(s.Component);t.default=b,b.propTypes=d,b.defaultProps=f,e.exports=t.default},function(e,t){\"use strict\";function a(e){return function(){return e}}var r=function(){};r.thatReturns=a,r.thatReturnsFalse=a(!1),r.thatReturnsTrue=a(!0),r.thatReturnsNull=a(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,a){\"use strict\";function r(e,t,a,r,o,i,l,s){if(n(t),!e){var c;if(void 0===t)c=new Error(\"Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.\");else{var p=[a,r,o,i,l,s],u=0;c=new Error(t.replace(/%s/g,function(){return p[u++]})),c.name=\"Invariant Violation\"}throw c.framesToPop=1,c}}var n=function(e){};e.exports=r},function(e,t,a){\"use strict\";var r=a(1),n=a(2),o=a(5);e.exports=function(){function e(e,t,a,r,i,l){l!==o&&n(!1,\"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types\")}function t(){return e}e.isRequired=e;var a={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return a.checkPropTypes=r,a.PropTypes=a,a}},function(e,t,a){e.exports=a(3)()},function(e,t){\"use strict\";var a=\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\";e.exports=a},function(t,a){t.exports=e}])});","const Stripe = (window as any).Stripe\nimport { STRIPE_PUBLIC_KEY } from \"../../settings/clientSettings.js\"\n\nconst stripe = Stripe ? Stripe(STRIPE_PUBLIC_KEY) : undefined\n\nexport default stripe\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport classnames from \"classnames\"\nimport { observable, action, computed, runInAction } from \"mobx\"\nimport { observer } from \"mobx-react\"\nimport { bind } from \"decko\"\nimport Recaptcha from \"react-recaptcha\"\nimport {\n    DONATE_API_URL,\n    BAKED_BASE_URL,\n    RECAPTCHA_SITE_KEY,\n} from \"../../settings/clientSettings.js\"\n\nimport stripe from \"./stripe.js\"\nimport { stringifyUnkownError } from \"@ourworldindata/utils\"\n\ntype Interval = \"once\" | \"monthly\"\n\nenum CurrencyCode {\n    USD = \"USD\",\n    GBP = \"GBP\",\n    EUR = \"EUR\",\n}\n\nconst currencySymbolByCode: Record<CurrencyCode, string> = {\n    [CurrencyCode.USD]: \"$\",\n    [CurrencyCode.GBP]: \"£\",\n    [CurrencyCode.EUR]: \"€\",\n}\n\nconst ONETIME_DONATION_AMOUNTS = [10, 50, 100, 500, 1000]\nconst MONTHLY_DONATION_AMOUNTS = [5, 10, 20, 50, 100]\n\nconst ONETIME_DEFAULT_INDEX = 1\nconst MONTHLY_DEFAULT_INDEX = 1\n\nconst MIN_DONATION = 1\nconst MAX_DONATION = 10_000\n\nconst SUPPORTED_CURRENCY_CODES = [\n    CurrencyCode.USD,\n    CurrencyCode.GBP,\n    CurrencyCode.EUR,\n]\n\n@observer\nexport class DonateForm extends React.Component {\n    @observable interval: Interval = \"once\"\n    @observable presetAmount?: number =\n        ONETIME_DONATION_AMOUNTS[ONETIME_DEFAULT_INDEX]\n    @observable customAmount: string = \"\"\n    @observable isCustom: boolean = false\n    @observable name: string = \"\"\n    @observable showOnList: boolean = true\n    @observable errorMessage?: string\n    @observable isSubmitting: boolean = false\n    @observable isLoading: boolean = true\n    @observable currencyCode: CurrencyCode = CurrencyCode.USD\n\n    captchaInstance?: Recaptcha | null\n    @observable.ref captchaPromiseHandlers?: {\n        resolve: (value: any) => void\n        reject: (value: any) => void\n    }\n\n    @action.bound setInterval(interval: Interval) {\n        this.interval = interval\n        this.presetAmount =\n            this.intervalAmounts[\n                interval === \"monthly\"\n                    ? MONTHLY_DEFAULT_INDEX\n                    : ONETIME_DEFAULT_INDEX\n            ]\n    }\n\n    @action.bound setPresetAmount(amount?: number) {\n        this.presetAmount = amount\n        this.isCustom = false\n    }\n\n    @action.bound setCustomAmount(amount: string) {\n        this.customAmount = amount\n        this.isCustom = true\n    }\n\n    @action.bound setIsCustom(isCustom: boolean) {\n        this.isCustom = isCustom\n    }\n\n    @action.bound setName(name: string) {\n        this.name = name\n    }\n\n    @action.bound setShowOnList(showOnList: boolean) {\n        this.showOnList = showOnList\n    }\n\n    @action.bound setErrorMessage(message?: string) {\n        this.errorMessage = message\n    }\n\n    @action.bound setCurrency(currency: CurrencyCode) {\n        this.currencyCode = currency\n    }\n\n    @computed get amount(): number | undefined {\n        return this.isCustom\n            ? parseFloat(this.customAmount || \"\")\n            : this.presetAmount\n    }\n\n    @computed get intervalAmounts(): number[] {\n        return this.interval === \"monthly\"\n            ? MONTHLY_DONATION_AMOUNTS\n            : ONETIME_DONATION_AMOUNTS\n    }\n\n    @computed get currencySymbol(): string {\n        return currencySymbolByCode[this.currencyCode]\n    }\n\n    async submitDonation(): Promise<void> {\n        if (\n            !this.amount ||\n            this.amount > MAX_DONATION ||\n            this.amount < MIN_DONATION\n        ) {\n            throw new Error(\n                \"You can only donate between $1 and $10,000 USD. For other amounts, please get in touch with us at donate@ourworldindata.org.\"\n            )\n        }\n\n        const captchaToken = await this.getCaptchaToken()\n        const response = await fetch(DONATE_API_URL, {\n            method: \"POST\",\n            credentials: \"same-origin\",\n            headers: {\n                Accept: \"application/json\",\n            },\n            body: JSON.stringify({\n                name: this.name,\n                showOnList: this.showOnList,\n                currency: this.currencyCode,\n                amount: Math.floor(this.amount * 100),\n                interval: this.interval,\n                successUrl: `${BAKED_BASE_URL}/donate/thank-you`,\n                cancelUrl: `${BAKED_BASE_URL}/donate`,\n                captchaToken: captchaToken,\n            }),\n        })\n        const session = await response.json()\n        if (!response.ok) throw session\n        const result: { error: any } = await stripe.redirectToCheckout({\n            sessionId: session.id,\n        })\n        if (result.error) {\n            // If `redirectToCheckout` fails due to a browser or network\n            // error, display the localized error message to your customer.\n            throw result.error\n        }\n    }\n\n    @bind async getCaptchaToken() {\n        return new Promise((resolve, reject) => {\n            if (!this.captchaInstance)\n                return reject(\n                    new Error(\n                        \"Could not load reCAPTCHA. Please try again. If the problem persists, please get in touch with us at donate@ourworldindata.org\"\n                    )\n                )\n            this.captchaPromiseHandlers = { resolve, reject }\n            this.captchaInstance.reset()\n            this.captchaInstance.execute()\n        })\n    }\n\n    @bind onCaptchaLoad() {\n        this.isLoading = false\n    }\n\n    @bind onCaptchaVerify(token: string) {\n        if (this.captchaPromiseHandlers)\n            this.captchaPromiseHandlers.resolve(token)\n    }\n\n    @bind async onSubmit(event: React.FormEvent) {\n        event.preventDefault()\n        this.isSubmitting = true\n        this.errorMessage = undefined\n        try {\n            await this.submitDonation()\n        } catch (error) {\n            this.isSubmitting = false\n            runInAction(\n                () =>\n                    (this.errorMessage =\n                        stringifyUnkownError(error) ||\n                        \"Something went wrong. Please get in touch with us at donate@ourworldindata.org\")\n            )\n        }\n    }\n\n    render() {\n        return (\n            <form className=\"donate-form\" onSubmit={this.onSubmit}>\n                <fieldset className=\"donate-form-interval\">\n                    <legend>\n                        <h3>Donation type</h3>\n                    </legend>\n                    <div className=\"owid-radios\">\n                        <div className=\"owid-radio\">\n                            <input\n                                type=\"radio\"\n                                id=\"once\"\n                                value=\"once\"\n                                name=\"interval\"\n                                onChange={() => this.setInterval(\"once\")}\n                                checked={this.interval === \"once\"}\n                            />\n                            <label htmlFor=\"once\">One time</label>\n                        </div>\n                        <div className=\"owid-radio\">\n                            <input\n                                type=\"radio\"\n                                id=\"monthly\"\n                                value=\"monthly\"\n                                name=\"interval\"\n                                onChange={() => this.setInterval(\"monthly\")}\n                                checked={this.interval === \"monthly\"}\n                            />\n                            <label htmlFor=\"monthly\">Monthly</label>\n                        </div>\n                    </div>\n                </fieldset>\n\n                <fieldset className=\"donate-form-currency\">\n                    <legend>\n                        <h3>Currency</h3>\n                    </legend>\n                    <div className=\"owid-radios\">\n                        {SUPPORTED_CURRENCY_CODES.map((code) => (\n                            <div key={code} className=\"owid-radio\">\n                                <input\n                                    type=\"radio\"\n                                    id={code}\n                                    value={code}\n                                    name=\"currency\"\n                                    onChange={() => this.setCurrency(code)}\n                                    checked={this.currencyCode === code}\n                                />\n                                <label htmlFor={code}>{code}</label>\n                            </div>\n                        ))}\n                    </div>\n                </fieldset>\n\n                <fieldset className=\"donate-form-amount\">\n                    <legend>\n                        <h3>Amount</h3>\n                    </legend>\n                    <div className=\"radios\">\n                        {this.intervalAmounts.map((amount) => (\n                            <div key={amount} className=\"owid-radio\">\n                                <input\n                                    type=\"radio\"\n                                    id={`amount-${amount}`}\n                                    value={amount}\n                                    name=\"amount\"\n                                    onChange={() =>\n                                        this.setPresetAmount(amount)\n                                    }\n                                    checked={\n                                        amount === this.presetAmount &&\n                                        !this.isCustom\n                                    }\n                                />\n                                <label htmlFor={`amount-${amount}`}>\n                                    {this.currencySymbol}\n                                    {amount}\n                                </label>\n                            </div>\n                        ))}\n                        <div className=\"owid-radio custom-radio\">\n                            <input\n                                type=\"radio\"\n                                id=\"custom\"\n                                name=\"amount\"\n                                checked={this.isCustom}\n                                onChange={(event) =>\n                                    this.setIsCustom(event.target.checked)\n                                }\n                            />\n                            <label htmlFor=\"custom\">\n                                {this.currencySymbol}\n                                <input\n                                    type=\"text\"\n                                    placeholder=\"Other\"\n                                    name=\"custom-amount\"\n                                    className=\"custom-amount-input\"\n                                    onChange={(event) =>\n                                        this.setCustomAmount(event.target.value)\n                                    }\n                                    value={this.customAmount}\n                                />\n                            </label>\n                        </div>\n                    </div>\n                </fieldset>\n\n                <fieldset>\n                    <div className=\"owid-block-field\">\n                        <label htmlFor=\"name\">\n                            <h3>Your name (optional)</h3>\n                        </label>\n                        <input\n                            id=\"name\"\n                            type=\"text\"\n                            className=\"owid-input\"\n                            value={this.name}\n                            onChange={(event) =>\n                                this.setName(event.target.value)\n                            }\n                        />\n                    </div>\n                </fieldset>\n\n                <fieldset>\n                    <div className=\"owid-checkboxes\">\n                        <div className=\"owid-checkbox-inline\">\n                            <input\n                                type=\"checkbox\"\n                                id=\"showOnList\"\n                                value=\"showOnList\"\n                                name=\"type\"\n                                checked={this.showOnList}\n                                onChange={(event) =>\n                                    this.setShowOnList(event.target.checked)\n                                }\n                            />\n                            <label htmlFor=\"showOnList\">\n                                Include me on the public{\" \"}\n                                <a href=\"/funding\" target=\"_blank\">\n                                    list of donors\n                                </a>\n                            </label>\n                        </div>\n                    </div>\n                </fieldset>\n\n                {this.errorMessage && (\n                    <p className=\"error\">{this.errorMessage}</p>\n                )}\n\n                <Recaptcha\n                    ref={(inst) => (this.captchaInstance = inst)}\n                    sitekey={RECAPTCHA_SITE_KEY}\n                    size=\"invisible\"\n                    badge=\"bottomleft\"\n                    render=\"explicit\"\n                    onloadCallback={this.onCaptchaLoad}\n                    verifyCallback={this.onCaptchaVerify}\n                />\n\n                <button\n                    type=\"submit\"\n                    className={classnames(\"owid-button\", {\n                        disabled: this.isSubmitting,\n                    })}\n                    disabled={this.isLoading}\n                >\n                    Donate{\" \"}\n                    {this.amount ? `${this.currencySymbol}${this.amount}` : \"\"}{\" \"}\n                    {this.interval === \"monthly\" ? \"per month\" : \"\"}\n                </button>\n\n                <p className=\"note\">\n                    You will be redirected to a secure page to enter your\n                    payment details. We will not share any details you enter\n                    with any third parties.\n                </p>\n\n                <p className=\"note\">\n                    This site is protected by reCAPTCHA and the Google{\" \"}\n                    <a href=\"https://policies.google.com/privacy\">\n                        Privacy Policy\n                    </a>{\" \"}\n                    and{\" \"}\n                    <a href=\"https://policies.google.com/terms\">\n                        Terms of Service\n                    </a>{\" \"}\n                    apply.\n                </p>\n            </form>\n        )\n    }\n}\n\nexport class DonateFormRunner {\n    async run() {\n        ReactDOM.render(\n            <DonateForm />,\n            document.querySelector(\".donate-form-container\")\n        )\n    }\n}\n\nexport function runDonateForm() {\n    const donateForm = new DonateFormRunner()\n    donateForm.run()\n}\n","import { highlight as fuzzyHighlight } from \"@ourworldindata/grapher\"\nimport { keyBy } from \"@ourworldindata/utils\"\nimport fuzzysort from \"fuzzysort\"\nimport { action, autorun, computed, observable } from \"mobx\"\nimport { SiteAnalytics } from \"./SiteAnalytics.js\"\ninterface ChartItem {\n    title: string\n    li: HTMLLIElement\n    ul: HTMLUListElement\n}\n\nfunction encodeHashSafe(s: string) {\n    return encodeURIComponent(s.replace(/ /g, \"-\"))\n}\n\nfunction decodeHashSafe(s: string) {\n    return decodeURIComponent(s).replace(/-/g, \" \")\n}\n\nclass ChartFilter {\n    searchInput: HTMLInputElement\n    chartItems: ChartItem[] = []\n    chartItemsByTitle: { [key: string]: ChartItem } = {}\n    strings: (Fuzzysort.Prepared | undefined)[]\n    results: any[] = []\n    sections: HTMLDivElement[] = []\n\n    @observable query: string = \"\"\n\n    @computed get searchStrings(): (Fuzzysort.Prepared | undefined)[] {\n        return this.chartItems.map((c) => fuzzysort.prepare(c.title))\n    }\n\n    @computed get searchResults(): Fuzzysort.Results {\n        return fuzzysort.go(this.query, this.searchStrings, { threshold: -150 })\n    }\n\n    @computed get resultsByTitle(): { [key: string]: Fuzzysort.Result } {\n        return keyBy(this.searchResults, \"target\")\n    }\n\n    constructor() {\n        this.searchInput = document.querySelector(\n            \".chartsSearchInput\"\n        ) as HTMLInputElement\n        this.sections = Array.from(\n            document.querySelectorAll(\".CountryProfilePage main section\")\n        ) as HTMLDivElement[]\n        const lis = Array.from(\n            document.querySelectorAll(\".CountryProfilePage main li\")\n        ) as HTMLLIElement[]\n        this.chartItems = lis.map((li) => ({\n            title:\n                li\n                    .querySelector(\".indicatorName > a\")\n                    ?.textContent?.replace(/₂/g, \"2\") ?? \"\",\n            li: li,\n            ul: li.closest(\"ul\") as HTMLUListElement,\n        }))\n        this.chartItemsByTitle = keyBy(this.chartItems, \"title\")\n        this.strings = this.chartItems.map((c) => fuzzysort.prepare(c.title))\n    }\n\n    analytics = new SiteAnalytics()\n\n    @action.bound logSearchQuery() {\n        this.analytics.logChartsPageSearchQuery(this.query)\n    }\n\n    timeout?: NodeJS.Timeout\n    @action.bound onSearchInput() {\n        this.query = this.searchInput.value\n\n        if (this.timeout !== undefined) {\n            clearTimeout(this.timeout)\n        }\n        this.timeout = setTimeout(this.logSearchQuery, 500)\n    }\n\n    /*@action.bound onKeydown(ev: KeyboardEvent) {\n        if (ev.keyCode === 13 && this.query && this.searchResults.length) {\n            const href = this.chartItemsByTitle[this.searchResults[0].target].li.children[0].getAttribute('href') as string\n            window.location.assign(href)\n        }\n    }*/\n\n    render() {\n        history.replaceState(\n            null,\n            document.title,\n            window.location.pathname +\n                (this.query ? `#search=${encodeHashSafe(this.query)}` : \"\")\n        )\n\n        if (!this.query) {\n            for (const section of this.sections) {\n                section.style.display = \"\"\n            }\n            for (const c of this.chartItems) {\n                c.ul.append(c.li)\n                c.li.style.display = \"\"\n                c.li.children[0].children[0].innerHTML = c.title\n            }\n\n            return\n        }\n\n        /*for (let i = this.searchResults.length-1; i >= 0; i--) {\n            const c = this.chartItemsByTitle[this.searchResults[i].target]\n            c.ul.prepend(c.li)\n        }*/\n\n        for (const c of this.chartItems) {\n            const res = this.resultsByTitle[c.title]\n            if (!res) {\n                c.li.style.display = \"none\"\n            } else {\n                c.li.style.display = \"\"\n                c.li.children[0].children[0].innerHTML =\n                    fuzzyHighlight(res) ?? \"\"\n            }\n        }\n\n        // Ensure tag headings are only shown if they have charts under them\n        for (const section of this.sections) {\n            if (\n                !Array.from(section.querySelectorAll(\"li\")).some(\n                    (li) => li.style.display !== \"none\"\n                )\n            ) {\n                section.style.display = \"none\"\n            } else {\n                section.style.display = \"\"\n            }\n        }\n    }\n\n    @action.bound run() {\n        this.searchInput.addEventListener(\"input\", this.onSearchInput)\n        //this.searchInput.addEventListener('keydown', this.onKeydown)\n\n        autorun(() => this.render())\n\n        const m = window.location.hash.match(/search=(.+)/)\n        if (m) {\n            this.searchInput.value = decodeHashSafe(m[1])\n        }\n        this.query = this.searchInput.value\n    }\n}\n\nexport function runCountryProfilePage() {\n    const searcher = new ChartFilter()\n    searcher.run()\n}\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar prefix = 'fas';\nvar iconName = 'bars';\nvar width = 448;\nvar height = 512;\nvar aliases = [\"navicon\"];\nvar unicode = 'f0c9';\nvar svgPathData = 'M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z';\n\nexports.definition = {\n  prefix: prefix,\n  iconName: iconName,\n  icon: [\n    width,\n    height,\n    aliases,\n    unicode,\n    svgPathData\n  ]};\n\nexports.faBars = exports.definition;\nexports.prefix = prefix;\nexports.iconName = iconName;\nexports.width = width;\nexports.height = height;\nexports.ligatures = aliases;\nexports.unicode = unicode;\nexports.svgPathData = svgPathData;\nexports.aliases = aliases;","import React, { useState, useEffect, useRef } from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome/index.js\"\nimport { faBars } from \"@fortawesome/free-solid-svg-icons/faBars\"\nimport { useTriggerWhenClickOutside } from \"./hooks.js\"\nimport { wrapInDiv, TocHeading } from \"@ourworldindata/utils\"\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons/faTimes\"\nimport classNames from \"classnames\"\n\nconst TOC_WRAPPER_CLASSNAME = \"toc-wrapper\"\n\ninterface TableOfContentsData {\n    headings: TocHeading[]\n    pageTitle: string\n    hideSubheadings?: boolean\n}\n\nconst isRecordTopViewport = (record: IntersectionObserverEntry) => {\n    return (\n        record.rootBounds &&\n        record.boundingClientRect.top < record.rootBounds.height / 2\n    )\n}\n\nconst getPreviousHeading = (\n    nextHeadingRecord: IntersectionObserverEntry | undefined,\n    previousHeadings: Array<{ slug: string; previous: string | null }>\n) => {\n    return previousHeadings.find(\n        (heading) => heading.slug === nextHeadingRecord?.target.id\n    )?.previous\n}\n\nexport const TableOfContents = ({\n    headings,\n    pageTitle,\n    hideSubheadings,\n}: TableOfContentsData) => {\n    const [isOpen, setIsOpen] = useState(false)\n    const [activeHeading, setActiveHeading] = useState(\"\")\n    const tocRef = useRef<HTMLElement>(null)\n\n    const toggleIsOpen = () => {\n        setIsOpen(!isOpen)\n    }\n\n    useTriggerWhenClickOutside(tocRef, isOpen, setIsOpen)\n\n    useEffect(() => {\n        if (\"IntersectionObserver\" in window) {\n            const previousHeadings = headings.map((heading, i) => ({\n                slug: heading.slug,\n                previous: i > 0 ? headings[i - 1].slug : null,\n            }))\n\n            let currentHeadingRecord: IntersectionObserverEntry | undefined\n            let init = true\n\n            const observer = new IntersectionObserver(\n                (records) => {\n                    let nextHeadingRecord: IntersectionObserverEntry | undefined\n\n                    // Target headings going down\n                    currentHeadingRecord = records.find(\n                        (record) =>\n                            // filter out records no longer intersecting (triggering on exit)\n                            record.isIntersecting &&\n                            // filter out records fully in the page (upcoming section)\n                            record.intersectionRatio !== 1 &&\n                            // filter out intersections happening at the bottom of the viewport\n                            isRecordTopViewport(record)\n                    )\n\n                    if (currentHeadingRecord) {\n                        setActiveHeading(currentHeadingRecord.target.id)\n                    } else {\n                        // Target headings going up\n                        nextHeadingRecord = records.find(\n                            (record) =>\n                                isRecordTopViewport(record) &&\n                                record.intersectionRatio === 1\n                        )\n                        if (nextHeadingRecord) {\n                            setActiveHeading(\n                                getPreviousHeading(\n                                    nextHeadingRecord,\n                                    previousHeadings\n                                ) || \"\"\n                            )\n                        } else if (init) {\n                            currentHeadingRecord = records\n                                .reverse()\n                                .find(\n                                    (record) =>\n                                        record.boundingClientRect.top < 0\n                                )\n                            setActiveHeading(\n                                currentHeadingRecord?.target.id || \"\"\n                            )\n                        }\n                    }\n                    init = false\n                },\n                {\n                    rootMargin: \"-10px\", // 10px offset to trigger intersection when landing exactly at the border when clicking an anchor\n                    threshold: new Array(11).fill(0).map((v, i) => i / 10),\n                }\n            )\n\n            let contentHeadings = null\n            if (hideSubheadings) {\n                contentHeadings = document.querySelectorAll(\"h2\")\n            } else {\n                contentHeadings = document.querySelectorAll(\"h2, h3\")\n            }\n            contentHeadings.forEach((contentHeading) => {\n                observer.observe(contentHeading)\n            })\n        }\n    }, [headings, hideSubheadings])\n\n    return (\n        <div className={TOC_WRAPPER_CLASSNAME}>\n            <aside\n                className={classNames(\"entry-sidebar\", {\n                    \"entry-sidebar--is-open\": isOpen,\n                })}\n                ref={tocRef}\n            >\n                <nav className=\"entry-toc\">\n                    <ul>\n                        <li>\n                            <a\n                                onClick={() => {\n                                    toggleIsOpen()\n                                    setActiveHeading(\"\")\n                                }}\n                                href=\"#\"\n                                data-track-note=\"toc-header\"\n                            >\n                                {pageTitle}\n                            </a>\n                        </li>\n                        {headings\n                            .filter((heading) =>\n                                hideSubheadings && heading.isSubheading\n                                    ? false\n                                    : true\n                            )\n                            .map((heading, i: number) => (\n                                <li\n                                    key={i}\n                                    className={\n                                        (heading.isSubheading\n                                            ? \"subsection\"\n                                            : \"section\") +\n                                        (heading.slug === activeHeading\n                                            ? \" active\"\n                                            : \"\")\n                                    }\n                                >\n                                    <a\n                                        onClick={toggleIsOpen}\n                                        href={`#${heading.slug}`}\n                                        data-track-note=\"toc-link\"\n                                    >\n                                        {heading.text}\n                                    </a>\n                                </li>\n                            ))}\n                    </ul>\n                </nav>\n                <div className=\"toggle-toc\">\n                    <button\n                        data-track-note=\"page-toggle-toc\"\n                        aria-label={`${\n                            isOpen ? \"Close\" : \"Open\"\n                        } table of contents`}\n                        onClick={toggleIsOpen}\n                    >\n                        <FontAwesomeIcon icon={isOpen ? faTimes : faBars} />\n                        <span className=\"label\">\n                            {isOpen ? \"Close\" : \"Contents\"}\n                        </span>\n                    </button>\n                </div>\n            </aside>\n        </div>\n    )\n}\n\nexport const runTableOfContents = (tocData: TableOfContentsData) => {\n    const tocWrapperEl = document.querySelector<HTMLElement>(\n        `.${TOC_WRAPPER_CLASSNAME}`\n    )\n    if (!tocWrapperEl) return\n\n    const sidebarRootEl = wrapInDiv(tocWrapperEl, [\"sidebar-root\"])\n    ReactDOM.hydrate(<TableOfContents {...tocData} />, sidebarRootEl)\n}\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar prefix = 'fas';\nvar iconName = 'arrow-left-long';\nvar width = 512;\nvar height = 512;\nvar aliases = [\"long-arrow-left\"];\nvar unicode = 'f177';\nvar svgPathData = 'M109.3 288L480 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-370.7 0 73.4-73.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-128 128c-12.5 12.5-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 288z';\n\nexports.definition = {\n  prefix: prefix,\n  iconName: iconName,\n  icon: [\n    width,\n    height,\n    aliases,\n    unicode,\n    svgPathData\n  ]};\n\nexports.faArrowLeftLong = exports.definition;\nexports.prefix = prefix;\nexports.iconName = iconName;\nexports.width = width;\nexports.height = height;\nexports.ligatures = aliases;\nexports.unicode = unicode;\nexports.svgPathData = svgPathData;\nexports.aliases = aliases;","import { faArrowLeftLong } from \"@fortawesome/free-solid-svg-icons/faArrowLeftLong\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome/index.js\"\nimport React from \"react\"\n\nexport enum GalleryArrowDirection {\n    prev = \"prev\",\n    next = \"next\",\n}\n\nexport const GalleryArrow = ({\n    disabled,\n    onClick,\n    direction,\n}: {\n    disabled: boolean\n    onClick: VoidFunction\n    direction: GalleryArrowDirection\n}) => {\n    const flip =\n        direction === GalleryArrowDirection.next ? \"horizontal\" : undefined\n    const classes = [\"gallery-arrow\", direction]\n\n    return (\n        <button\n            disabled={disabled}\n            onClick={onClick}\n            className={classes.join(\" \")}\n        >\n            <FontAwesomeIcon icon={faArrowLeftLong} flip={flip} />\n        </button>\n    )\n}\n","import {\n    DEFAULT_GRAPHER_HEIGHT,\n    DEFAULT_GRAPHER_WIDTH,\n} from \"@ourworldindata/grapher\"\nimport { BasicChartInformation } from \"@ourworldindata/utils\"\nimport React from \"react\"\nimport {\n    BAKED_BASE_URL,\n    BAKED_GRAPHER_EXPORTS_BASE_URL,\n} from \"../../settings/clientSettings.js\"\n\nexport const AllChartsListItem = ({\n    chart,\n    onClick,\n    isActive,\n}: {\n    chart: BasicChartInformation\n    onClick: (e: React.MouseEvent) => void\n    isActive: boolean\n}) => {\n    return (\n        <li key={chart.slug} className={isActive ? \"active\" : \"\"}>\n            <a\n                href={`${BAKED_BASE_URL}/grapher/${chart.slug}`}\n                onClick={onClick}\n            >\n                <img\n                    src={`${BAKED_GRAPHER_EXPORTS_BASE_URL}/${chart.slug}.svg`}\n                    loading=\"lazy\"\n                    data-no-lightbox\n                    data-no-img-formatting\n                    width={DEFAULT_GRAPHER_WIDTH}\n                    height={DEFAULT_GRAPHER_HEIGHT}\n                ></img>\n                <span>{chart.title}</span>\n            </a>\n            {chart.variantName ? (\n                <span className=\"variantName\">{chart.variantName}</span>\n            ) : null}\n        </li>\n    )\n}\n","import React, { useState, useRef } from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { orderBy, RelatedChart } from \"@ourworldindata/utils\"\nimport { useEmbedChart } from \"../hooks.js\"\nimport { GalleryArrow, GalleryArrowDirection } from \"./GalleryArrow.js\"\nimport { AllChartsListItem } from \"./AllChartsListItem.js\"\nimport { BAKED_BASE_URL } from \"../../settings/clientSettings.js\"\n\nexport const RELATED_CHARTS_CLASS_NAME = \"related-charts\"\n\nexport const RelatedCharts = ({ charts }: { charts: RelatedChart[] }) => {\n    const refChartContainer = useRef<HTMLDivElement>(null)\n    const [activeChartIdx, setActiveChartIdx] = useState(0)\n\n    const isFirstSlideActive = activeChartIdx === 0\n    const isLastSlideActive = activeChartIdx === charts.length - 1\n\n    const sortedCharts = orderBy(charts, (chart) => chart.isKeyChart, \"desc\")\n    const activeChartSlug = sortedCharts[activeChartIdx].slug\n\n    const onClickItem = (event: React.MouseEvent, idx: number) => {\n        // Allow opening charts in new tab/window with ⌘+CLICK\n        if (!event.metaKey && !event.shiftKey && !event.ctrlKey) {\n            event.preventDefault()\n            setActiveChartIdx(idx)\n        }\n    }\n\n    useEmbedChart(activeChartIdx, refChartContainer)\n\n    return (\n        <div className={RELATED_CHARTS_CLASS_NAME}>\n            <div className=\"wp-block-columns is-style-sticky-right\">\n                <div className=\"wp-block-column\">\n                    <ul>\n                        {sortedCharts.map((chart, idx) => (\n                            <AllChartsListItem\n                                chart={chart}\n                                key={chart.slug}\n                                onClick={(e) => onClickItem(e, idx)}\n                                isActive={idx === activeChartIdx}\n                            />\n                        ))}\n                    </ul>\n                </div>\n                <div\n                    className=\"wp-block-column\"\n                    id=\"all-charts-preview\"\n                    ref={refChartContainer}\n                >\n                    <figure\n                        // Use unique `key` to force React to re-render tree\n                        key={activeChartSlug}\n                        data-grapher-src={`${BAKED_BASE_URL}/grapher/${activeChartSlug}`}\n                    />\n                    <div className=\"gallery-navigation\">\n                        <GalleryArrow\n                            disabled={isFirstSlideActive}\n                            onClick={() =>\n                                setActiveChartIdx(activeChartIdx - 1)\n                            }\n                            direction={GalleryArrowDirection.prev}\n                        ></GalleryArrow>\n                        <div className=\"gallery-pagination\">\n                            {`Chart ${activeChartIdx + 1} of ${charts.length}`}\n                        </div>\n                        <GalleryArrow\n                            disabled={isLastSlideActive}\n                            onClick={() =>\n                                setActiveChartIdx(activeChartIdx + 1)\n                            }\n                            direction={GalleryArrowDirection.next}\n                        ></GalleryArrow>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport const runRelatedCharts = (charts: RelatedChart[]) => {\n    const relatedChartsEl = document.querySelector<HTMLElement>(\n        `.${RELATED_CHARTS_CLASS_NAME}`\n    )\n    if (relatedChartsEl) {\n        const relatedChartsWrapper = relatedChartsEl.parentElement\n        ReactDOM.hydrate(\n            <RelatedCharts charts={charts} />,\n            relatedChartsWrapper\n        )\n    }\n}\n","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.BugsnagPluginReact = f()}})(function(){var define,module,exports;\nvar _$src_1 = {};\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n_$src_1 = /*#__PURE__*/function () {\n  function BugsnagPluginReact() {\n    // Fetch React from the window object, if it exists\n    var globalReact = typeof window !== 'undefined' && window.React;\n    this.name = 'react';\n    this.lazy = arguments.length === 0 && !globalReact;\n\n    if (!this.lazy) {\n      this.React = (arguments.length <= 0 ? undefined : arguments[0]) || globalReact;\n      if (!this.React) throw new Error('@bugsnag/plugin-react reference to `React` was undefined');\n    }\n  }\n\n  var _proto = BugsnagPluginReact.prototype;\n\n  _proto.load = function load(client) {\n    if (!this.lazy) {\n      var ErrorBoundary = createClass(this.React, client);\n\n      ErrorBoundary.createErrorBoundary = function () {\n        return ErrorBoundary;\n      };\n\n      return ErrorBoundary;\n    }\n\n    var BugsnagPluginReactLazyInitializer = function () {\n      throw new Error(\"@bugsnag/plugin-react was used incorrectly. Valid usage is as follows:\\nPass React to the plugin constructor\\n\\n  `Bugsnag.start({ plugins: [new BugsnagPluginReact(React)] })`\\nand then call `const ErrorBoundary = Bugsnag.getPlugin('react').createErrorBoundary()`\\n\\nOr if React is not available until after Bugsnag has started,\\nconstruct the plugin with no arguments\\n  `Bugsnag.start({ plugins: [new BugsnagPluginReact()] })`,\\nthen pass in React when available to construct your error boundary\\n  `const ErrorBoundary = Bugsnag.getPlugin('react').createErrorBoundary(React)`\");\n    };\n\n    BugsnagPluginReactLazyInitializer.createErrorBoundary = function (React) {\n      if (!React) throw new Error('@bugsnag/plugin-react reference to `React` was undefined');\n      return createClass(React, client);\n    };\n\n    return BugsnagPluginReactLazyInitializer;\n  };\n\n  return BugsnagPluginReact;\n}();\n\nvar formatComponentStack = function (str) {\n  var lines = str.split(/\\s*\\n\\s*/g);\n  var ret = '';\n\n  for (var line = 0, len = lines.length; line < len; line++) {\n    if (lines[line].length) ret += \"\" + (ret.length ? '\\n' : '') + lines[line];\n  }\n\n  return ret;\n};\n\nvar createClass = function (React, client) {\n  return /*#__PURE__*/function (_React$Component) {\n    _inheritsLoose(ErrorBoundary, _React$Component);\n\n    function ErrorBoundary(props) {\n      var _this;\n\n      _this = _React$Component.call(this, props) || this;\n      _this.state = {\n        error: null,\n        info: null\n      };\n      _this.handleClearError = _this.handleClearError.bind(_assertThisInitialized(_this));\n      return _this;\n    }\n\n    var _proto2 = ErrorBoundary.prototype;\n\n    _proto2.handleClearError = function handleClearError() {\n      this.setState({\n        error: null,\n        info: null\n      });\n    };\n\n    _proto2.componentDidCatch = function componentDidCatch(error, info) {\n      var onError = this.props.onError;\n      var handledState = {\n        severity: 'error',\n        unhandled: true,\n        severityReason: {\n          type: 'unhandledException'\n        }\n      };\n      var event = client.Event.create(error, true, handledState, 1);\n      if (info && info.componentStack) info.componentStack = formatComponentStack(info.componentStack);\n      event.addMetadata('react', info);\n\n      client._notify(event, onError);\n\n      this.setState({\n        error: error,\n        info: info\n      });\n    };\n\n    _proto2.render = function render() {\n      var error = this.state.error;\n\n      if (error) {\n        var FallbackComponent = this.props.FallbackComponent;\n        if (FallbackComponent) return React.createElement(FallbackComponent, _extends({}, this.state, {\n          clearError: this.handleClearError\n        }));\n        return null;\n      }\n\n      return this.props.children;\n    };\n\n    return ErrorBoundary;\n  }(React.Component);\n};\n\n_$src_1.formatComponentStack = formatComponentStack;\n_$src_1[\"default\"] = _$src_1;\n\nreturn _$src_1;\n\n});\n//# sourceMappingURL=bugsnag-react.js.map\n","import Bugsnag from \"@bugsnag/js\"\n\n/**\n * React and the browser-integrated Google Translate don't love each other:\n * In a translated page, some interactions entirely break the page.\n * Since Google Translate actually works quite well for OWID and we would like to support that use\n * case, we're monkey-patching the global Node.removeChild and Node.insertBefore instead.\n * It's a hack that has been suggested by Dan Abramov himself: https://github.com/facebook/react/issues/11538#issuecomment-417504600\n * -@MarcelGerber, 2021-09-06\n */\nexport const runMonkeyPatchForGoogleTranslate = (): void => {\n    const nodeToString = (elem: Element | Node): string | null => {\n        if (elem instanceof Element)\n            // https://stackoverflow.com/a/34639030/10670163\n            return elem.innerHTML\n                ? elem.outerHTML.slice(\n                      0,\n                      elem.outerHTML.indexOf(elem.innerHTML)\n                  )\n                : elem.outerHTML\n        else return elem.textContent\n    }\n\n    if (typeof Node === \"function\" && Node.prototype) {\n        const originalRemoveChild = Node.prototype.removeChild\n        Node.prototype.removeChild = function <T extends Node>(child: T): T {\n            if (child.parentNode !== this) {\n                console?.error(\n                    \"Cannot remove a child from a different parent\",\n                    child,\n                    this\n                )\n                Bugsnag?.notify(\n                    \"removeChild: Cannot remove a child from a different parent\",\n                    (event) => {\n                        event.addMetadata(\"context\", {\n                            child: nodeToString(child),\n                            this: nodeToString(this),\n                        })\n                    }\n                )\n                return child\n            }\n            return originalRemoveChild.apply(this, [child]) as T\n        }\n\n        const originalInsertBefore = Node.prototype.insertBefore\n        Node.prototype.insertBefore = function <T extends Node>(\n            newNode: T,\n            referenceNode: Node | null\n        ) {\n            if (referenceNode && referenceNode.parentNode !== this) {\n                console?.error(\n                    \"Cannot insert before a reference node from a different parent\",\n                    referenceNode,\n                    this\n                )\n                Bugsnag?.notify(\n                    \"insertBefore: Cannot insert before a reference node from a different parent\",\n                    (event) => {\n                        event.addMetadata(\"context\", {\n                            child: nodeToString(referenceNode),\n                            this: nodeToString(this as Element),\n                        })\n                    }\n                )\n                return newNode\n            }\n            return originalInsertBefore.apply(this, [\n                newNode,\n                referenceNode,\n            ]) as T\n        }\n    }\n}\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useRef, useState } from 'react';\nimport classNames from 'classnames';\n// ------------------ Helpers\nfunction isNumber(n) {\n    const number = parseFloat(n);\n    return !isNaN(number) && isFinite(number);\n}\nfunction isPercentage(height) {\n    // Percentage height\n    return (typeof height === 'string' &&\n        height[height.length - 1] === '%' &&\n        isNumber(height.substring(0, height.length - 1)));\n}\nfunction hideContent(element, height) {\n    // Check for element?.style is added cause this would fail in tests (react-test-renderer)\n    // Read more here: https://github.com/Stanko/react-animate-height/issues/17\n    if (height === 0 && (element === null || element === void 0 ? void 0 : element.style)) {\n        element.style.display = 'none';\n    }\n}\nfunction showContent(element, height) {\n    // Check for element?.style is added cause this would fail in tests (react-test-renderer)\n    // Read more here: https://github.com/Stanko/react-animate-height/issues/17\n    if (height === 0 && (element === null || element === void 0 ? void 0 : element.style)) {\n        element.style.display = '';\n    }\n}\nconst ANIMATION_STATE_CLASSES = {\n    animating: 'rah-animating',\n    animatingUp: 'rah-animating--up',\n    animatingDown: 'rah-animating--down',\n    animatingToHeightZero: 'rah-animating--to-height-zero',\n    animatingToHeightAuto: 'rah-animating--to-height-auto',\n    animatingToHeightSpecific: 'rah-animating--to-height-specific',\n    static: 'rah-static',\n    staticHeightZero: 'rah-static--height-zero',\n    staticHeightAuto: 'rah-static--height-auto',\n    staticHeightSpecific: 'rah-static--height-specific',\n};\nfunction getStaticStateClasses(animationStateClasses, height) {\n    return classNames({\n        [animationStateClasses.static]: true,\n        [animationStateClasses.staticHeightZero]: height === 0,\n        [animationStateClasses.staticHeightSpecific]: height > 0,\n        [animationStateClasses.staticHeightAuto]: height === 'auto',\n    });\n}\nconst AnimateHeight = (_a) => {\n    var { animateOpacity = false, animationStateClasses = {}, applyInlineTransitions = true, children, className = '', contentClassName, delay: userDelay = 0, duration: userDuration = 500, easing = 'ease', height, onHeightAnimationEnd, onHeightAnimationStart, style } = _a, props = __rest(_a, [\"animateOpacity\", \"animationStateClasses\", \"applyInlineTransitions\", \"children\", \"className\", \"contentClassName\", \"delay\", \"duration\", \"easing\", \"height\", \"onHeightAnimationEnd\", \"onHeightAnimationStart\", \"style\"]);\n    // ------------------ Initialization\n    const prevHeight = useRef(height);\n    const contentElement = useRef(null);\n    const animationClassesTimeoutID = useRef();\n    const timeoutID = useRef();\n    const stateClasses = useRef(Object.assign(Object.assign({}, ANIMATION_STATE_CLASSES), animationStateClasses));\n    const isBrowser = typeof window !== 'undefined';\n    const prefersReducedMotion = useRef(isBrowser && window.matchMedia\n        ? window.matchMedia('(prefers-reduced-motion)').matches\n        : false);\n    const delay = prefersReducedMotion.current ? 0 : userDelay;\n    const duration = prefersReducedMotion.current ? 0 : userDuration;\n    let initHeight = height;\n    let initOverflow = 'visible';\n    if (typeof initHeight === 'number') {\n        // Reset negative height to 0\n        initHeight = height < 0 ? 0 : height;\n        initOverflow = 'hidden';\n    }\n    else if (isPercentage(initHeight)) {\n        // If value is string \"0%\" make sure we convert it to number 0\n        initHeight = height === '0%' ? 0 : height;\n        initOverflow = 'hidden';\n    }\n    const [currentHeight, setCurrentHeight] = useState(initHeight);\n    const [overflow, setOverflow] = useState(initOverflow);\n    const [useTransitions, setUseTransitions] = useState(false);\n    const [animationStateClassNames, setAnimationStateClassNames] = useState(getStaticStateClasses(stateClasses.current, height));\n    // ------------------ Did mount\n    useEffect(() => {\n        // Hide content if height is 0 (to prevent tabbing into it)\n        hideContent(contentElement.current, currentHeight);\n        // This should be explicitly run only on mount\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    // ------------------ Height update\n    useEffect(() => {\n        if (height !== prevHeight.current && contentElement.current) {\n            showContent(contentElement.current, prevHeight.current);\n            // Cache content height\n            contentElement.current.style.overflow = 'hidden';\n            const contentHeight = contentElement.current.offsetHeight;\n            contentElement.current.style.overflow = '';\n            // set total animation time\n            const totalDuration = duration + delay;\n            let newHeight;\n            let timeoutHeight;\n            let timeoutOverflow = 'hidden';\n            let timeoutUseTransitions;\n            const isCurrentHeightAuto = prevHeight.current === 'auto';\n            if (typeof height === 'number') {\n                // Reset negative height to 0\n                newHeight = height < 0 ? 0 : height;\n                timeoutHeight = newHeight;\n            }\n            else if (isPercentage(height)) {\n                // If value is string \"0%\" make sure we convert it to number 0\n                newHeight = height === '0%' ? 0 : height;\n                timeoutHeight = newHeight;\n            }\n            else {\n                // If not, animate to content height\n                // and then reset to auto\n                newHeight = contentHeight; // TODO solve contentHeight = 0\n                timeoutHeight = 'auto';\n                timeoutOverflow = undefined;\n            }\n            if (isCurrentHeightAuto) {\n                // This is the height to be animated to\n                timeoutHeight = newHeight;\n                // If previous height was 'auto'\n                // set starting height explicitly to be able to use transition\n                newHeight = contentHeight;\n            }\n            // Animation classes\n            const newAnimationStateClassNames = classNames({\n                [stateClasses.current.animating]: true,\n                [stateClasses.current.animatingUp]: prevHeight.current === 'auto' || height < prevHeight.current,\n                [stateClasses.current.animatingDown]: height === 'auto' || height > prevHeight.current,\n                [stateClasses.current.animatingToHeightZero]: timeoutHeight === 0,\n                [stateClasses.current.animatingToHeightAuto]: timeoutHeight === 'auto',\n                [stateClasses.current.animatingToHeightSpecific]: timeoutHeight > 0,\n            });\n            // Animation classes to be put after animation is complete\n            const timeoutAnimationStateClasses = getStaticStateClasses(stateClasses.current, timeoutHeight);\n            // Set starting height and animating classes\n            // When animating from 'auto' we first need to set fixed height\n            // that change should be animated\n            setCurrentHeight(newHeight);\n            setOverflow('hidden');\n            setUseTransitions(!isCurrentHeightAuto);\n            setAnimationStateClassNames(newAnimationStateClassNames);\n            // Clear timeouts\n            clearTimeout(timeoutID.current);\n            clearTimeout(animationClassesTimeoutID.current);\n            if (isCurrentHeightAuto) {\n                // When animating from 'auto' we use a short timeout to start animation\n                // after setting fixed height above\n                timeoutUseTransitions = true;\n                // Short timeout to allow rendering of the initial animation state first\n                timeoutID.current = setTimeout(() => {\n                    setCurrentHeight(timeoutHeight);\n                    setOverflow(timeoutOverflow);\n                    setUseTransitions(timeoutUseTransitions);\n                    // ANIMATION STARTS, run a callback if it exists\n                    onHeightAnimationStart === null || onHeightAnimationStart === void 0 ? void 0 : onHeightAnimationStart(timeoutHeight);\n                }, 50);\n                // Set static classes and remove transitions when animation ends\n                animationClassesTimeoutID.current = setTimeout(() => {\n                    setUseTransitions(false);\n                    setAnimationStateClassNames(timeoutAnimationStateClasses);\n                    // ANIMATION ENDS\n                    // Hide content if height is 0 (to prevent tabbing into it)\n                    hideContent(contentElement.current, timeoutHeight);\n                    // Run a callback if it exists\n                    onHeightAnimationEnd === null || onHeightAnimationEnd === void 0 ? void 0 : onHeightAnimationEnd(timeoutHeight);\n                }, totalDuration);\n            }\n            else {\n                // ANIMATION STARTS, run a callback if it exists\n                onHeightAnimationStart === null || onHeightAnimationStart === void 0 ? void 0 : onHeightAnimationStart(newHeight);\n                // Set end height, classes and remove transitions when animation is complete\n                timeoutID.current = setTimeout(() => {\n                    setCurrentHeight(timeoutHeight);\n                    setOverflow(timeoutOverflow);\n                    setUseTransitions(false);\n                    setAnimationStateClassNames(timeoutAnimationStateClasses);\n                    // ANIMATION ENDS\n                    // If height is auto, don't hide the content\n                    // (case when element is empty, therefore height is 0)\n                    if (height !== 'auto') {\n                        // Hide content if height is 0 (to prevent tabbing into it)\n                        hideContent(contentElement.current, newHeight); // TODO solve newHeight = 0\n                    }\n                    // Run a callback if it exists\n                    onHeightAnimationEnd === null || onHeightAnimationEnd === void 0 ? void 0 : onHeightAnimationEnd(newHeight);\n                }, totalDuration);\n            }\n        }\n        prevHeight.current = height;\n        return () => {\n            clearTimeout(timeoutID.current);\n            clearTimeout(animationClassesTimeoutID.current);\n        };\n        // This should be explicitly run only on height change\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [height]);\n    // ------------------ Render\n    const componentStyle = Object.assign(Object.assign({}, style), { height: currentHeight, overflow: overflow || (style === null || style === void 0 ? void 0 : style.overflow) });\n    if (useTransitions && applyInlineTransitions) {\n        componentStyle.transition = `height ${duration}ms ${easing} ${delay}ms`;\n        // Include transition passed through styles\n        if (style === null || style === void 0 ? void 0 : style.transition) {\n            componentStyle.transition = `${style.transition}, ${componentStyle.transition}`;\n        }\n        // Add webkit vendor prefix still used by opera, blackberry...\n        componentStyle.WebkitTransition = componentStyle.transition;\n    }\n    const contentStyle = {};\n    if (animateOpacity) {\n        contentStyle.transition = `opacity ${duration}ms ${easing} ${delay}ms`;\n        // Add webkit vendor prefix still used by opera, blackberry...\n        contentStyle.WebkitTransition = contentStyle.transition;\n        if (currentHeight === 0) {\n            contentStyle.opacity = 0;\n        }\n    }\n    // Check if user passed aria-hidden prop\n    const hasAriaHiddenProp = typeof props['aria-hidden'] !== 'undefined';\n    const ariaHidden = hasAriaHiddenProp ? props['aria-hidden'] : height === 0;\n    return (React.createElement(\"div\", Object.assign({}, props, { \"aria-hidden\": ariaHidden, className: `${animationStateClassNames} ${className}`, style: componentStyle }),\n        React.createElement(\"div\", { className: contentClassName, style: contentStyle, ref: contentElement }, children)));\n};\nexport default AnimateHeight;\n","import React, { useState, useRef, useEffect } from \"react\"\nimport ReactDOM from \"react-dom\"\nimport ReactDOMServer from \"react-dom/server.js\"\nimport AnimateHeight from \"react-animate-height\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome/index.js\"\nimport { faAngleRight } from \"@fortawesome/free-solid-svg-icons/faAngleRight\"\nimport { MultiEmbedderSingleton } from \"../../site/multiembedder/MultiEmbedder.js\"\n\nexport const ADDITIONAL_INFORMATION_CLASS_NAME =\n    \"wp-block-owid-additional-information\"\nconst VARIATION_MERGE_LEFT = \"merge-left\"\nconst VARIATION_FULL_WIDTH = \"full-width\"\n\n/*\n * This block has 2 variations (on large screens):\n * 1- merge left, with or without image.\n * 2- full width, with its content using the usual automatic layout\n *\n * For both these variations, the title is optional and is\n * assumed to be contained in the first h3 tag.\n */\n\nconst AdditionalInformation = ({\n    content,\n    title,\n    image,\n    variation,\n    defaultOpen,\n}: {\n    content: string | null\n    title: string | null\n    image: string | null\n    variation: string\n    defaultOpen: boolean\n}) => {\n    const [height, setHeight] = useState<number | \"auto\">(\n        defaultOpen ? \"auto\" : 0\n    )\n    const [hasBeenOpened, setHasBeenOpened] = useState(defaultOpen)\n    const refContainer = useRef<HTMLDivElement>(null)\n    const classes = [ADDITIONAL_INFORMATION_CLASS_NAME]\n\n    useEffect(() => {\n        const onOpenHandler = () => {\n            setHeight(\"auto\")\n            if (!hasBeenOpened) {\n                setHasBeenOpened(true)\n            }\n        }\n\n        if (refContainer.current) {\n            // Trigger embedder check for new figures that may have become visible.\n            MultiEmbedderSingleton.observeFigures(refContainer.current)\n        }\n        // Expands accordions for print media.\n        window.addEventListener(\"beforeprint\", () => {\n            onOpenHandler()\n        })\n    }, [hasBeenOpened])\n\n    const onClickHandler = () => {\n        setHeight(height === 0 ? \"auto\" : 0)\n        if (!hasBeenOpened) {\n            setHasBeenOpened(true)\n        }\n    }\n\n    if (image) {\n        classes.push(\"with-image\")\n    }\n    if (height !== 0) {\n        classes.push(\"open\")\n    }\n\n    const renderFullWidthVariation = () => {\n        return (\n            <div\n                className=\"content\"\n                dangerouslySetInnerHTML={{ __html: content || \"\" }}\n            ></div>\n        )\n    }\n\n    const renderMergeLeftVariation = () => {\n        return (\n            <div className=\"content-wrapper\">\n                {image ? (\n                    <figure\n                        dangerouslySetInnerHTML={{ __html: image || \"\" }}\n                    ></figure>\n                ) : null}\n                <div\n                    className=\"content\"\n                    dangerouslySetInnerHTML={{ __html: content || \"\" }}\n                ></div>\n            </div>\n        )\n    }\n\n    return (\n        <div\n            data-variation={variation}\n            data-default-open={defaultOpen}\n            ref={refContainer}\n            className={classes.join(\" \")}\n        >\n            <h3\n                className=\"additional-information__heading\"\n                onClick={onClickHandler}\n                data-track-note=\"additional-information-toggle\"\n            >\n                <FontAwesomeIcon icon={faAngleRight} />\n                {title}\n            </h3>\n            <AnimateHeight height={height} animateOpacity={true} duration={250}>\n                {variation === VARIATION_MERGE_LEFT\n                    ? renderMergeLeftVariation()\n                    : renderFullWidthVariation()}\n            </AnimateHeight>\n        </div>\n    )\n}\n\nexport default AdditionalInformation\n\nexport const renderAdditionalInformation = ($: CheerioStatic) => {\n    $(\"block[type='additional-information']\").each(function (\n        this: CheerioElement\n    ) {\n        const $block = $(this)\n        const variation = $block.find(\".is-style-merge-left\").length\n            ? VARIATION_MERGE_LEFT\n            : VARIATION_FULL_WIDTH\n        const title =\n            $block.find(\"h3\").remove().text() || \"Additional information\"\n        const image =\n            variation === VARIATION_MERGE_LEFT\n                ? $block\n                      .find(\".wp-block-column:first-child img[src]\") // Wordpress outputs empty <img> tags when none is selected so we need to filter those out\n                      .first()\n                      .parent() // Get the wrapping <figure>\n                      .html()\n                : null\n        const content =\n            variation === VARIATION_MERGE_LEFT\n                ? $block.find(\".wp-block-column:last-child\").html()\n                : $block.find(\"content\").html() // the title has been removed so the rest of a variation \"full width\" block is content.\n        // Side note: \"content\" refers here to the <content> tag output by the block on the PHP side, not\n        // the \".content\" class.\n        const defaultOpen = $block.attr(\"default-open\") === \"true\"\n        const rendered = ReactDOMServer.renderToString(\n            <div className=\"block-wrapper\">\n                <AdditionalInformation\n                    content={content}\n                    title={title}\n                    image={image}\n                    variation={variation}\n                    defaultOpen={defaultOpen}\n                />\n            </div>\n        )\n        $block.after(rendered)\n        $block.remove()\n    })\n}\n\nexport const hydrate = () => {\n    document\n        .querySelectorAll<HTMLElement>(`.${ADDITIONAL_INFORMATION_CLASS_NAME}`)\n        .forEach((block) => {\n            const blockWrapper = block.parentElement\n            const titleEl = block.querySelector(\"h3\")\n            const title = titleEl ? titleEl.textContent : null\n            const variation = block.getAttribute(\"data-variation\") || \"\"\n            const defaultOpen =\n                block.getAttribute(\"data-default-open\") === \"true\"\n            const figureEl = block.querySelector(\".content-wrapper > figure\")\n            const image = figureEl ? figureEl.innerHTML : null\n            const contentEl = block.querySelector(\".content\")\n            const content = contentEl ? contentEl.innerHTML : null\n            ReactDOM.hydrate(\n                <AdditionalInformation\n                    content={content}\n                    title={title}\n                    image={image}\n                    variation={variation}\n                    defaultOpen={defaultOpen}\n                />,\n                blockWrapper\n            )\n        })\n}\n","import React from \"react\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome/index.js\"\nimport { faChevronLeft } from \"@fortawesome/free-solid-svg-icons/faChevronLeft\"\nimport { SubNavId } from \"@ourworldindata/utils\"\n\nexport interface SubnavItem {\n    label: string\n    href: string\n    id: string\n    highlight?: boolean\n    parentId?: string\n}\n\nexport const landingPageSlugs: { [key in SubNavId]: string } = {\n    about: \"about\",\n    coronavirus: \"coronavirus\",\n    co2: \"co2-and-greenhouse-gas-emissions\",\n    energy: \"energy\",\n    forests: \"forests-and-deforestation\",\n    biodiversity: \"biodiversity\",\n    water: \"clean-water-sanitation\",\n    explorers: \"food-explorers\",\n}\n\nexport const subnavs: { [key in SubNavId]: SubnavItem[] } = {\n    about: [\n        // `label` is shown in the UI, `id` is specified as a formatting option\n        // on a page (the top html comment in WordPress)\n        { label: \"About\", href: `/${landingPageSlugs.about}`, id: \"about\" },\n        { label: \"Team\", href: \"/team\", id: \"team\" },\n        { label: \"Organization\", href: \"/organization\", id: \"organization\" },\n        { label: \"Funding\", href: \"/funding\", id: \"supporters\" },\n        { label: \"FAQs\", href: \"/faqs\", id: \"faqs\" },\n        { label: \"Audience & Coverage\", href: \"/coverage\", id: \"coverage\" },\n        {\n            label: \"History\",\n            href: \"/history-of-our-world-in-data\",\n            id: \"history\",\n        },\n        { label: \"Grapher\", href: \"/owid-grapher\", id: \"grapher\" },\n        { label: \"Jobs\", href: \"/jobs\", id: \"jobs\" },\n        { label: \"Contact\", href: \"/about#contact\", id: \"contact\" },\n    ],\n    coronavirus: [\n        {\n            label: \"Coronavirus\",\n            href: `/${landingPageSlugs.coronavirus}`,\n            id: \"coronavirus\",\n        },\n        {\n            label: \"By country\",\n            href: \"/coronavirus#coronavirus-country-profiles\",\n            id: \"by-country\",\n            highlight: true,\n        },\n        {\n            label: \"Data explorer\",\n            href: \"/explorers/coronavirus-data-explorer\",\n            id: \"data-explorer\",\n            highlight: true,\n        },\n        { label: \"Deaths\", href: \"/covid-deaths\", id: \"deaths\" },\n        { label: \"Cases\", href: \"/covid-cases\", id: \"cases\" },\n        { label: \"Tests\", href: \"/coronavirus-testing\", id: \"testing\" },\n        {\n            label: \"Hospitalizations\",\n            href: \"/covid-hospitalizations\",\n            id: \"hospitalizations\",\n        },\n        {\n            label: \"Vaccinations\",\n            href: \"/covid-vaccinations\",\n            id: \"vaccinations\",\n        },\n        {\n            label: \"Mortality risk\",\n            href: \"/mortality-risk-covid\",\n            id: \"mortality-risk\",\n        },\n        {\n            label: \"Excess mortality\",\n            href: \"/excess-mortality-covid\",\n            id: \"excess-mortality\",\n        },\n        {\n            label: \"Policy responses\",\n            href: \"/policy-responses-covid\",\n            id: \"policy-responses\",\n        },\n    ],\n    co2: [\n        {\n            label: \"CO₂ and GHG Emissions\",\n            href: `/${landingPageSlugs.co2}`,\n            id: \"co2-and-ghg-emissions\",\n            highlight: true,\n        },\n        {\n            label: \"By country\",\n            href: \"/co2-and-greenhouse-gas-emissions#co2-and-greenhouse-gas-emissions-country-profiles\",\n            id: \"by-country\",\n        },\n        {\n            label: \"Data explorer\",\n            href: \"/explorers/co2\",\n            id: \"co2-data-explorer\",\n        },\n        { label: \"CO₂ emissions\", href: \"/co2-emissions\", id: \"co2-emissions\" },\n        { label: \"CO₂ by fuel\", href: \"/emissions-by-fuel\", id: \"by-fuel\" },\n        {\n            label: \"GHG emissions\",\n            href: \"/greenhouse-gas-emissions\",\n            id: \"ghg-emissions\",\n        },\n        { label: \"By sector\", href: \"/emissions-by-sector\", id: \"by-sector\" },\n        {\n            label: \"Atmospheric concentrations\",\n            href: \"/atmospheric-concentrations\",\n            id: \"atm-concentrations\",\n        },\n        {\n            label: \"Climate impacts\",\n            href: \"/explorers/climate-change\",\n            id: \"climate-impacts\",\n        },\n    ],\n    energy: [\n        {\n            label: \"Energy\",\n            href: `/${landingPageSlugs.energy}`,\n            id: \"energy\",\n            highlight: true,\n        },\n        {\n            label: \"By country\",\n            href: \"/energy#country-profiles\",\n            id: \"by-country\",\n        },\n        {\n            label: \"Data explorer\",\n            href: \"/explorers/energy\",\n            id: \"energy-data-explorer\",\n        },\n        { label: \"Energy access\", href: \"/energy-access\", id: \"energy-access\" },\n        {\n            label: \"Production & Consumption\",\n            href: \"/energy-production-consumption\",\n            id: \"production-consumption\",\n        },\n        { label: \"Energy mix\", href: \"/energy-mix\", id: \"energy-mix\" },\n        {\n            label: \"Electricity mix\",\n            href: \"/electricity-mix\",\n            id: \"electricity-mix\",\n        },\n        { label: \"Fossil fuels\", href: \"/fossil-fuels\", id: \"fossil-fuels\" },\n        {\n            label: \"Renewables\",\n            href: \"/renewable-energy\",\n            id: \"renewable-energy\",\n        },\n        { label: \"Nuclear\", href: \"/nuclear-energy\", id: \"nuclear-energy\" },\n        { label: \"Transport\", href: \"/transport\", id: \"transport\" },\n    ],\n    forests: [\n        {\n            label: \"Forests\",\n            href: `/${landingPageSlugs.forests}`,\n            id: \"forests\",\n        },\n        {\n            label: \"Forest area\",\n            href: \"/forest-area\",\n            id: \"forest-area\",\n        },\n        {\n            label: \"Deforestation\",\n            href: \"/deforestation\",\n            id: \"deforestation\",\n        },\n        {\n            label: \"Afforestation\",\n            href: \"/afforestation\",\n            id: \"afforestation\",\n        },\n        {\n            label: \"Drivers of Deforestation\",\n            href: \"/drivers-of-deforestation\",\n            id: \"drivers-of-deforestation\",\n        },\n        {\n            label: \"Palm oil\",\n            href: \"/palm-oil\",\n            id: \"palm-oil\",\n        },\n        {\n            label: \"Soy\",\n            href: \"/soy\",\n            id: \"soy\",\n        },\n    ],\n    biodiversity: [\n        {\n            label: \"Biodiversity\",\n            href: `/${landingPageSlugs.biodiversity}`,\n            id: \"biodiversity\",\n            highlight: true,\n        },\n        {\n            label: \"Biodiversity and Wildlife\",\n            href: \"/biodiversity-and-wildlife\",\n            id: \"biodiversity-and-wildlife\",\n        },\n        {\n            label: \"Mammals\",\n            href: \"/mammals\",\n            id: \"mammals\",\n        },\n        {\n            label: \"Birds\",\n            href: \"/birds\",\n            id: \"birds\",\n        },\n        {\n            label: \"Fish and Overfishing\",\n            href: \"/fish-and-overfishing\",\n            id: \"fish\",\n        },\n        {\n            label: \"Coral reefs\",\n            href: \"/coral-reefs\",\n            id: \"coral-reefs\",\n        },\n        {\n            label: \"Living Planet Index\",\n            href: \"/living-planet-index\",\n            id: \"living-planet-index\",\n        },\n        {\n            label: \"Extinctions\",\n            href: \"/extinctions\",\n            id: \"extinctions\",\n        },\n        {\n            label: \"Threats to Wildlife\",\n            href: \"/threats-to-wildlife\",\n            id: \"threats-to-wildlife\",\n        },\n        {\n            label: \"Poaching\",\n            href: \"/poaching-and-wildlife-trade\",\n            id: \"poaching-and-wildlife-trade\",\n        },\n        {\n            label: \"Habitat Loss\",\n            href: \"/habitat-loss\",\n            id: \"habitat-loss\",\n        },\n        {\n            label: \"Protected areas and conservation\",\n            href: \"/protected-areas-and-conservation\",\n            id: \"protected-areas-and-conservation\",\n        },\n    ],\n    water: [\n        {\n            label: \"Clean Water and Sanitation\",\n            href: `/${landingPageSlugs.water}`,\n            id: \"wash\",\n        },\n        {\n            label: \"Data explorer\",\n            href: \"/explorers/water-and-sanitation\",\n            id: \"wash-data-explorer\",\n        },\n        {\n            label: \"Drinking water\",\n            href: \"/water-access\",\n            id: \"drinking-water\",\n        },\n        {\n            label: \"Sanitation\",\n            href: \"/sanitation\",\n            id: \"sanitation\",\n        },\n        {\n            label: \"Handwashing\",\n            href: \"/hygiene\",\n            id: \"hygiene\",\n        },\n    ],\n    explorers: [\n        {\n            label: \"Data Explorers\",\n            href: `/${landingPageSlugs.explorers}`,\n            id: \"food-explorers\",\n            highlight: true,\n        },\n        {\n            label: \"Global Food\",\n            href: \"/explorers/global-food\",\n            id: \"global-food\",\n        },\n        {\n            label: \"Environmental Impacts of Food\",\n            href: \"/explorers/food-footprints\",\n            id: \"food-footprints\",\n        },\n        {\n            label: \"Crop Yields\",\n            href: \"/explorers/crop-yields\",\n            id: \"crop-yields\",\n        },\n        {\n            label: \"Fertilizers\",\n            href: \"/explorers/fertilizers\",\n            id: \"fertilizers\",\n        },\n        {\n            label: \"Habitat Loss\",\n            href: \"/explorers/habitat-loss\",\n            id: \"habitat-loss\",\n        },\n        {\n            label: \"Food Prices\",\n            href: \"/explorers/food-prices\",\n            id: \"food-prices\",\n        },\n    ],\n}\n\nexport const getSubnavItem = (\n    id: string | undefined,\n    subnavItems: SubnavItem[]\n) => {\n    // We want to avoid matching elements with potentially undefined id.\n    // Static typing prevents id from being undefined but this might not be\n    // the case in a future API powered version.\n    return id ? subnavItems.find((item) => item.id === id) : undefined\n}\n\nexport const getTopSubnavigationParentItem = (\n    subnavId: SubNavId\n): SubnavItem | undefined => {\n    return subnavs[subnavId]?.[0]\n}\n\nexport const SiteSubnavigation = ({\n    subnavId,\n    subnavCurrentId,\n}: {\n    subnavId: SubNavId\n    subnavCurrentId?: string\n}) => {\n    const subnavLinks = subnavs[subnavId]\n    return subnavLinks ? (\n        <div className=\"offset-subnavigation\">\n            <div className=\"site-subnavigation\">\n                <div className=\"site-subnavigation-scroll\">\n                    <ul className=\"site-subnavigation-links\">\n                        {subnavLinks.map(\n                            ({ href, label, id, highlight }, idx) => {\n                                const classes: string[] = []\n                                const dataTrackNote = [\n                                    subnavId,\n                                    \"subnav\",\n                                    id,\n                                ].join(\"-\")\n                                if (id === subnavCurrentId)\n                                    classes.push(\"current\")\n                                if (highlight) classes.push(\"highlight\")\n                                return (\n                                    <li\n                                        className={\n                                            (classes.length &&\n                                                classes.join(\" \")) ||\n                                            \"\"\n                                        }\n                                        key={href}\n                                    >\n                                        <a\n                                            href={href}\n                                            data-track-note={dataTrackNote}\n                                        >\n                                            {label}\n                                            {idx === 0 && (\n                                                <FontAwesomeIcon\n                                                    icon={faChevronLeft}\n                                                />\n                                            )}\n                                        </a>\n                                    </li>\n                                )\n                            }\n                        )}\n                    </ul>\n                </div>\n            </div>\n        </div>\n    ) : null\n}\n","import { landingPageSlugs } from \"./SiteSubnavigation.js\"\n\nenum CountryProfileProject {\n    coronavirus = \"coronavirus\",\n    co2 = \"co2\",\n    energy = \"energy\",\n}\n\nexport const countryProfileDefaultCountryPlaceholder =\n    \"{DEFAULT_COUNTRY_ENTITY_SELECT}\"\n\ninterface CountryProfileProjectConfiguration {\n    project: CountryProfileProject\n    pageTitle: string\n    landingPageSlug: string\n}\n\nexport interface CountryProfileSpec extends CountryProfileProjectConfiguration {\n    genericProfileSlug: string\n    rootPath: string\n}\n\nconst countryProfileProjectConfigurations: CountryProfileProjectConfiguration[] =\n    [\n        {\n            project: CountryProfileProject.coronavirus,\n            pageTitle: \"Coronavirus Pandemic\",\n            landingPageSlug: landingPageSlugs.coronavirus,\n        },\n        {\n            project: CountryProfileProject.co2,\n            pageTitle: \"CO2\",\n            landingPageSlug: landingPageSlugs.co2,\n        },\n        {\n            project: CountryProfileProject.energy,\n            pageTitle: \"Energy\",\n            landingPageSlug: landingPageSlugs.energy,\n        },\n    ]\n\nexport const countryProfileSpecs: CountryProfileSpec[] =\n    countryProfileProjectConfigurations.map((config) => {\n        return {\n            ...config,\n            rootPath: `${config.project}/country`,\n            genericProfileSlug: `${config.project}-country-profile`,\n        }\n    })\n","import React, { useState } from \"react\"\nimport ReactDOM from \"react-dom\"\nimport Select from \"react-select\"\nimport { countries, sortBy } from \"@ourworldindata/utils\"\nimport { countryProfileSpecs } from \"../site/countryProfileProjects.js\"\nimport { SiteAnalytics } from \"./SiteAnalytics.js\"\n\ninterface CountrySelectOption {\n    label: string\n    value: string\n}\n\nconst analytics = new SiteAnalytics()\n\nconst SearchCountry = (props: { countryProfileRootPath: string }) => {\n    const [isLoading, setIsLoading] = useState(false)\n    const sorted = sortBy(countries, \"name\")\n    return (\n        <Select\n            options={sorted.map((c) => {\n                return { label: c.name, value: c.slug }\n            })}\n            onChange={(selected: CountrySelectOption | null) => {\n                if (selected) {\n                    analytics.logCovidCountryProfileSearch(selected.value)\n                    setIsLoading(true)\n                    window.location.href = `${props.countryProfileRootPath}/${selected.value}`\n                }\n            }}\n            isLoading={isLoading}\n            placeholder=\"Search for a country...\"\n        />\n    )\n}\n\nexport function runSearchCountry() {\n    const searchElements = document.querySelectorAll(\n        \".wp-block-search-country-profile\"\n    )\n    searchElements.forEach((element) => {\n        const project = element.getAttribute(\"data-project\")\n        if (project) {\n            const profileSpec = countryProfileSpecs.find(\n                (spec) => spec.project === project\n            )\n            if (profileSpec) {\n                ReactDOM.render(\n                    <SearchCountry\n                        countryProfileRootPath={profileSpec.rootPath}\n                    />,\n                    element\n                )\n            }\n        }\n    })\n}\n\nexport default SearchCountry\n","import React from \"react\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome/index.js\"\nimport { faExternalLinkAlt } from \"@fortawesome/free-solid-svg-icons/faExternalLinkAlt\"\n\nexport const GlossaryExcerpt_name = \"GlossaryExcerpt\"\n\nexport const GlossaryExcerpt = ({\n    excerpt,\n    slug,\n    label,\n}: {\n    excerpt: string\n    slug: string\n    label: string\n}) => {\n    return (\n        <span className=\"glossary-excerpt\">\n            <span className=\"title\">Definition</span>\n            {excerpt}\n            <a target=\"_blank\" rel=\"noopener\" href={`/glossary#${slug}`}>\n                Read more about {label.toLowerCase()}\n                <FontAwesomeIcon icon={faExternalLinkAlt} />\n            </a>\n        </span>\n    )\n}\n","import React, { ReactElement, useState } from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { GlossaryExcerpt } from \"../site/GlossaryExcerpt.js\"\n\ninterface Component {\n    [key: string]: any\n}\nconst availableComponents: Component = { GlossaryExcerpt }\nexport const ExpandableInlineBlock_name = \"ExpandableInlineBlock\"\n\nexport const ExpandableInlineBlock = ({\n    label,\n    type,\n    children,\n}: {\n    label: string\n    type: string\n    children: ReactElement\n}) => {\n    const [isVisible, setVisible] = useState(false)\n\n    const toggleVisibility = () => setVisible(!isVisible)\n\n    return (\n        <span className=\"expandable-inline-block\">\n            <button\n                data-track-note={`${type.toLowerCase()}-toggle`}\n                onClick={toggleVisibility}\n            >\n                {label}\n            </button>\n            {isVisible && <span>{children}</span>}\n        </span>\n    )\n}\n\nexport const runExpandableInlineBlock = () => {\n    const expandableInlineBlocks = document.querySelectorAll(\n        `[data-type=${ExpandableInlineBlock_name}]`\n    )\n    expandableInlineBlocks.forEach((expandableInlineBlock) => {\n        const props = JSON.parse(expandableInlineBlock.innerHTML)\n        const subComponent = expandableInlineBlock.getAttribute(\"data-block\")\n        const label = expandableInlineBlock.getAttribute(\"data-label\")\n        if (!subComponent || !label || !props) return\n\n        const Component = availableComponents[subComponent]\n\n        ReactDOM.render(\n            <ExpandableInlineBlock label={label} type={subComponent}>\n                <Component {...props} label={label} />\n            </ExpandableInlineBlock>,\n            expandableInlineBlock.parentElement\n        )\n    })\n}\n","import React from \"react\"\nimport { dictionary } from \"./runDataTokens.js\"\n\nexport const DataToken_name = \"DataToken\"\n\nexport const DataToken = ({ token, ...restProps }: { token: string }) =>\n    dictionary[token].wrapper(\n        <script\n            data-type={DataToken_name}\n            type=\"component/props\"\n            data-token={token}\n            dangerouslySetInnerHTML={{\n                __html: JSON.stringify(restProps),\n            }}\n        ></script>\n    )\n","import React, { useEffect, useState } from \"react\"\nimport { dayjs, Dayjs } from \"@ourworldindata/utils\"\n\nexport interface LastUpdatedTokenProps {\n    timestampUrl?: string\n}\n\nexport const LastUpdated = ({ timestampUrl }: LastUpdatedTokenProps) => {\n    const [date, setDate] = useState<null | Dayjs>(null)\n    useEffect(() => {\n        const fetchTimeStamp = async () => {\n            if (!timestampUrl) return\n            const response = await fetch(timestampUrl)\n            if (!response.ok) return\n            const timestampRaw = await response.text()\n            const timestamp = timestampRaw.trim()\n            const parsedDate =\n                timestamp.length < 20\n                    ? dayjs(`${timestamp}Z`)\n                    : dayjs(timestamp)\n\n            if (!parsedDate.isValid()) return\n            setDate(parsedDate)\n        }\n        fetchTimeStamp()\n    }, [timestampUrl])\n\n    return (\n        date && (\n            <span>\n                Last update: <strong>{date.fromNow()}</strong>.\n                {/* (\n                {date.toDate().toLocaleString(\"en-US\", {\n                    year: \"numeric\",\n                    month: \"long\",\n                    day: \"numeric\",\n                    hour: \"numeric\",\n                    minute: \"2-digit\",\n                    timeZone: \"UTC\",\n                    timeZoneName: \"short\",\n                })}\n                ) */}\n            </span>\n        )\n    )\n}\n","import React, { useEffect, useState } from \"react\"\n\nexport const RawHtml = ({ url }: { url: string }) => {\n    const [html, setHtml] = useState<null | string>(null)\n    useEffect(() => {\n        const fetchHtml = async () => {\n            if (!url) return\n            const response = await fetch(url)\n            if (!response.ok) return\n            setHtml(await response.text())\n        }\n        fetchHtml()\n    }, [url])\n\n    return html && <div dangerouslySetInnerHTML={{ __html: html }}></div>\n}\n\nexport const FullWidthRawHtml = RawHtml\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { DataToken_name } from \"../site/DataToken.js\"\nimport { LastUpdated } from \"./covid/LastUpdated.js\"\nimport { FullWidthRawHtml } from \"./covid/FullWidthRawHtml.js\"\n\ninterface ComponentDictionary {\n    [key: string]: {\n        component: any\n        wrapper: DataTokenWrapper\n    }\n}\n\ntype DataTokenWrapper = (children: React.ReactElement) => React.ReactElement\n\nexport const dictionary: ComponentDictionary = {\n    LastUpdated: {\n        component: LastUpdated,\n        wrapper: (children) => <span>{children}</span>,\n    },\n\n    FullWidthRawHtml: {\n        component: FullWidthRawHtml,\n        // todo: replace by BlockType.FullContentWidth when merged\n        wrapper: (children) => (\n            <div className=\"wp-block-full-content-width\">{children}</div>\n        ),\n    },\n}\n\nexport const runDataTokens = () => {\n    const dataTokens = document.querySelectorAll(\n        `[data-type=${DataToken_name}]`\n    )\n    dataTokens.forEach((dataToken) => {\n        const token = dataToken.getAttribute(\"data-token\")\n        if (!token) return\n\n        const componentProps = JSON.parse(dataToken.innerHTML)\n\n        const Component = dictionary[token]?.component\n        if (!Component) return\n\n        ReactDOM.render(\n            <Component {...componentProps} />,\n            dataToken.parentElement\n        )\n    })\n}\n","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?t(exports,require(\"react\")):\"function\"==typeof define&&define.amd?define([\"exports\",\"react\"],t):t((e=\"undefined\"!=typeof globalThis?globalThis:e||self)[\"react-horizontal-scrolling-menu\"]={},e.React)}(this,(function(e,t){\"use strict\";function n(e){return e&&\"object\"==typeof e&&\"default\"in e?e:{default:e}}var r=n(t);!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&\"undefined\"!=typeof document){var r=document.head||document.getElementsByTagName(\"head\")[0],o=document.createElement(\"style\");o.type=\"text/css\",\"top\"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(\".react-horizontal-scrolling-menu--wrapper {\\n  display: flex;\\n}\\n\\n.react-horizontal-scrolling-menu--scroll-container {\\n  display: flex;\\n  height: max-content;\\n  overflow-y: hidden;\\n  position: relative;\\n  width: 100%;\\n}\\n\\n:export {\\n  wrapper: react-horizontal-scrolling-menu--wrapper;\\n  container: react-horizontal-scrolling-menu--scroll-container;\\n}\\n\");const o=\"react-horizontal-scrolling-menu\",i=\"-separator\",l=`${o}--separator`,a=`${o}--item`,s=`${o}--scroll-container`,u=`${o}--wrapper`,d=\"itemId\",c=\"data-key\",f=\"data-index\";var v=Object.freeze({__proto__:null,rootClassName:o,separatorString:i,separatorClassName:l,itemClassName:a,scrollContainerClassName:s,wrapperClassName:u,id:d,dataKeyAttribute:c,dataIndexAttribute:f});function m({className:e=\"\",children:t,onScroll:n=(()=>{}),scrollRef:o}){const i=r.default.useMemo((()=>`${s} ${e}`),[e]);return r.default.createElement(\"div\",{className:i,onScroll:n,ref:o},t)}var h=r.default.memo((function({className:e,id:t,index:n,refs:o}){const i=r.default.useRef(null);return o[n]=i,r.default.createElement(\"div\",Object.assign({className:e},{[c]:t,[f]:n},{ref:i}))}));var p,g=r.default.memo((function({children:e,className:t,id:n,index:o,refs:i}){const l=r.default.useRef(null);return i[String(o)]=l,r.default.createElement(\"div\",Object.assign({className:t},{[c]:n,[f]:o},{ref:l}),e)}));function b({children:e,itemClassName:t=\"\",refs:n,separatorClassName:o=\"\"}){const s=r.default.Children.toArray(e).filter(Boolean),u=s.length,c=r.default.useMemo((()=>`${a} ${t}`),[t]),f=r.default.useMemo((()=>`${l} ${o}`),[o]);return r.default.createElement(r.default.Fragment,null,s.map(((e,t)=>{var o,l;const a=null===(l=null===(o=e)||void 0===o?void 0:o.props)||void 0===l?void 0:l[d],s=a+i,v=t+1===u;return[r.default.createElement(g,{className:c,id:a,key:\"menuItem__\"+a,refs:n,index:t},e),!v&&r.default.createElement(h,{className:f,id:s,refs:n,key:s,index:t+.1})]})))}function y(e){return\"object\"==typeof e&&null!=e&&1===e.nodeType}function w(e,t){return(!t||\"hidden\"!==e)&&\"visible\"!==e&&\"clip\"!==e}function x(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return w(n.overflowY,t)||w(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function I(e,t,n,r,o,i,l,a){return i<e&&l>t||i>e&&l<t?0:i<=e&&a<=n||l>=t&&a>=n?i-e-r:l>t&&a<n||i<e&&a>n?l-t+o:0}function E(e,t){var n=window,r=t.scrollMode,o=t.block,i=t.inline,l=t.boundary,a=t.skipOverflowHiddenElements,s=\"function\"==typeof l?l:function(e){return e!==l};if(!y(e))throw new TypeError(\"Invalid target\");for(var u=document.scrollingElement||document.documentElement,d=[],c=e;y(c)&&s(c);){if((c=c.parentElement)===u){d.push(c);break}null!=c&&c===document.body&&x(c)&&!x(document.documentElement)||null!=c&&x(c,a)&&d.push(c)}for(var f=n.visualViewport?n.visualViewport.width:innerWidth,v=n.visualViewport?n.visualViewport.height:innerHeight,m=window.scrollX||pageXOffset,h=window.scrollY||pageYOffset,p=e.getBoundingClientRect(),g=p.height,b=p.width,w=p.top,E=p.right,C=p.bottom,M=p.left,N=\"start\"===o||\"nearest\"===o?w:\"end\"===o?C:w+g/2,S=\"center\"===i?M+b/2:\"end\"===i?E:M,k=[],O=0;O<d.length;O++){var A=d[O],T=A.getBoundingClientRect(),j=T.height,W=T.width,R=T.top,V=T.right,$=T.bottom,B=T.left;if(\"if-needed\"===r&&w>=0&&M>=0&&C<=v&&E<=f&&w>=R&&C<=$&&M>=B&&E<=V)return k;var L=getComputedStyle(A),H=parseInt(L.borderLeftWidth,10),D=parseInt(L.borderTopWidth,10),P=parseInt(L.borderRightWidth,10),_=parseInt(L.borderBottomWidth,10),z=0,X=0,Y=\"offsetWidth\"in A?A.offsetWidth-A.clientWidth-H-P:0,q=\"offsetHeight\"in A?A.offsetHeight-A.clientHeight-D-_:0;if(u===A)z=\"start\"===o?N:\"end\"===o?N-v:\"nearest\"===o?I(h,h+v,v,D,_,h+N,h+N+g,g):N-v/2,X=\"start\"===i?S:\"center\"===i?S-f/2:\"end\"===i?S-f:I(m,m+f,f,H,P,m+S,m+S+b,b),z=Math.max(0,z+h),X=Math.max(0,X+m);else{z=\"start\"===o?N-R-D:\"end\"===o?N-$+_+q:\"nearest\"===o?I(R,$,j,D,_+q,N,N+g,g):N-(R+j/2)+q/2,X=\"start\"===i?S-B-H:\"center\"===i?S-(B+W/2)+Y/2:\"end\"===i?S-V+P+Y:I(B,V,W,H,P+Y,S,S+b,b);var F=A.scrollLeft,J=A.scrollTop;N+=J-(z=Math.max(0,Math.min(J+z,A.scrollHeight-j+q))),S+=F-(X=Math.max(0,Math.min(F+X,A.scrollWidth-W+Y)))}k.push({el:A,top:z,left:X})}return k}function C(e){return e===Object(e)&&0!==Object.keys(e).length}function M(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(C(t)&&\"function\"==typeof t.behavior)return t.behavior(n?E(e,t):[]);if(n){var r=function(e){return!1===e?{block:\"end\",inline:\"nearest\"}:C(e)?e:{block:\"start\",inline:\"nearest\"}}(t);return function(e,t){void 0===t&&(t=\"auto\");var n=\"scrollBehavior\"in document.body.style;e.forEach((function(e){var r=e.el,o=e.top,i=e.left;r.scroll&&n?r.scroll({top:o,left:i,behavior:t}):(r.scrollTop=o,r.scrollLeft=i)}))}(E(e,r),r.behavior)}}var N=function(){return p||(p=\"performance\"in window?performance.now.bind(performance):Date.now),p()};function S(e){var t=N(),n=Math.min((t-e.startTime)/e.duration,1),r=e.ease(n),o=e.startX+(e.x-e.startX)*r,i=e.startY+(e.y-e.startY)*r;e.method(o,i),o!==e.x||i!==e.y?requestAnimationFrame((function(){return S(e)})):e.cb()}function k(e,t,n,r,o,i){var l,a,s,u;void 0===r&&(r=600),void 0===o&&(o=function(e){return 1+--e*e*e*e*e}),l=e,a=e.scrollLeft,s=e.scrollTop,u=function(t,n){e.scrollLeft=Math.ceil(t),e.scrollTop=Math.ceil(n)},S({scrollable:l,method:u,startTime:N(),startX:a,startY:s,x:t,y:n,duration:r,ease:o,cb:i})}var O=function(e,t){var n=t||{};return function(e){return e&&!e.behavior||\"smooth\"===e.behavior}(n)?M(e,{block:n.block,inline:n.inline,scrollMode:n.scrollMode,boundary:n.boundary,behavior:function(e){return Promise.all(e.reduce((function(e,t){var r=t.el,o=t.left,i=t.top,l=r.scrollLeft,a=r.scrollTop;return l===o&&a===i?e:[].concat(e,[new Promise((function(e){return k(r,o,i,n.duration,n.ease,(function(){return e({el:r,left:[l,o],top:[a,i]})}))}))])}),[]))}}):Promise.resolve(M(e,t))};function A(e,t,n,r,o){var i,l;const a=(null===(l=null===(i=e)||void 0===i?void 0:i.entry)||void 0===l?void 0:l.target)||e,s=t||\"smooth\";return a&&O(a,Object.assign({behavior:s,inline:n||\"end\",block:r||\"nearest\",duration:500},o))}const T=e=>document.querySelector(`[data-key='${e}']`),j=e=>document.querySelector(`[data-index='${e}']`);function W(e){return r.default.isValidElement(e)&&e||\"function\"==typeof e&&r.default.createElement(e,null)||null}const R=e=>e.filter((e=>!new RegExp(\".*-separator$\").test(e))),V=\"undefined\"!=typeof window?r.default.useLayoutEffect:r.default.useEffect;function $({items:e,itemsChanged:t,refs:n,options:o}){const i=r.default.useRef(),[l,a]=r.default.useState([]),s=r.default.useRef(+setTimeout((()=>{}),0)),u=r.default.useCallback((t=>{e.set(function(e,t){return[...e].map((e=>{var n,r;const o=e.target,i=(null===(n=null==o?void 0:o.dataset)||void 0===n?void 0:n.key)||\"\";return[i,{index:String((null===(r=null==o?void 0:o.dataset)||void 0===r?void 0:r.index)||\"\"),key:i,entry:e,visible:e.intersectionRatio>=t.ratio}]}))}(t,o)),global.clearTimeout(s.current),s.current=+setTimeout((()=>global.requestAnimationFrame((()=>{a((t=>{const n=e.getVisible().map((e=>e[1].key));return JSON.stringify(t)!==JSON.stringify(n)?n:t}))}))),o.throttle)}),[e,o]);return V((()=>{const e=(e=>Object.values(e).map((e=>e.current)).filter(Boolean))(n),t=i.current||new IntersectionObserver(u,o);return i.current=t,e.forEach((e=>t.observe(e))),()=>{clearTimeout(s.current),t.disconnect(),i.current=void 0}}),[u,t,o,n]),{visibleItems:l}}function B(e,t){const[n,o]=r.default.useState(\"\"),i=r.default.useMemo((()=>{return t=e,r.default.Children.toArray(t).map((e=>{var t,n;return null===(n=null===(t=e)||void 0===t?void 0:t.props)||void 0===n?void 0:n[d]})).filter(Boolean);var t}),[e]);return r.default.useEffect((()=>{const e=i.filter(Boolean).join(\"\");t.toItemsWithoutSeparators().filter((e=>!i.includes(e))).forEach((e=>{var n,r;const o=(null===(n=t.last())||void 0===n?void 0:n.key)===e&&(null===(r=t.prev(e))||void 0===r?void 0:r.key)||\"\";t.delete(o),t.delete(`${e}-separator`),t.delete(e)})),o(e)}),[i,t]),n}class L extends Map{toArr(){return this.sort([...this])}toItems(){return this.toArr().map((([e])=>e))}toItemsWithoutSeparators(){return R(this.toItems())}toItemsKeys(){return this.toItems()}sort(e){return e.sort((([,e],[,t])=>+e.index-+t.index))}set(e,t){return Array.isArray(e)?this.sort(e).forEach((([e,t])=>{super.set(e,t)})):super.set(e,t),this}first(){var e;return null===(e=this.toArr()[0])||void 0===e?void 0:e[1]}last(){var e,t;return null===(t=null===(e=this.toArr().slice(-1))||void 0===e?void 0:e[0])||void 0===t?void 0:t[1]}filter(e){return this.toArr().filter(e)}find(e){return this.toArr().find(e)}findIndex(e){return this.toArr().findIndex(e)}prev(e){var t;const n=this.toArr(),r=n.findIndex((([t,n])=>t===e||n===e));return-1!==r?null===(t=n[r-1])||void 0===t?void 0:t[1]:void 0}next(e){var t;const n=this.toArr(),r=n.findIndex((([t,n])=>t===e||n===e));return-1!==r?null===(t=n[r+1])||void 0===t?void 0:t[1]:void 0}getVisible(){return this.filter((e=>e[1].visible))}}const H={ratio:.9,rootMargin:\"5px\",threshold:[.05,.5,.75,.95],throttle:100};const D=r.default.createContext({}),P=e=>e.reduce(((e,t)=>e.concat(t).concat(`${t}-separator`)),[]).slice(0,-1);e.ScrollMenu=function({Arrows:e,LeftArrow:t,RightArrow:n,children:o,transitionDuration:i=500,transitionEase:l,transitionBehavior:a,onInit:s=(()=>{}),onUpdate:d=(()=>{}),onMouseDown:c,onMouseUp:f,onMouseMove:v,onScroll:h=(()=>{}),onWheel:p=(()=>{}),options:g=H,scrollContainerClassName:y=\"\",itemClassName:w=\"\",separatorClassName:x=\"\",wrapperClassName:I=\"\",apiRef:E={current:{}}}){const C=W(t),M=W(n),N=W(e),S=r.default.useRef(null),[k]=r.default.useState({}),O=r.default.useMemo((()=>Object.assign(Object.assign(Object.assign({},H),g),{root:S.current})),[g,S.current]),V=r.default.useRef(new L).current,P=B(o,V),{visibleItems:_}=$({items:V,itemsChanged:P,options:O,refs:k}),z=!!_.length,X=r.default.useMemo((()=>function(e,t=[],n,r){var o,i;const l=R(t),a=!!(null===(o=e.first())||void 0===o?void 0:o.visible),s=!!(null===(i=e.last())||void 0===i?void 0:i.visible),u=t=>{var n;return null===(n=e.find((e=>e[1].key===String(t))))||void 0===n?void 0:n[1]},d=()=>{var t,n;return e.prev(null===(n=null===(t=e.getVisible())||void 0===t?void 0:t[0])||void 0===n?void 0:n[1])},c=()=>{var t,n,r,o;return e.next(null===(o=null===(r=null===(n=null===(t=e.getVisible())||void 0===t?void 0:t.slice)||void 0===n?void 0:n.call(t,-1))||void 0===r?void 0:r[0])||void 0===o?void 0:o[1])};return{getItemById:u,getItemElementById:T,getItemByIndex:t=>{var n;return null===(n=e.find((e=>String(e[1].index)===String(t))))||void 0===n?void 0:n[1]},getItemElementByIndex:j,getNextItem:c,getPrevItem:d,isFirstItemVisible:a,isItemVisible:e=>t.includes(e),isLastItem:t=>e.last()===u(t),isLastItemVisible:s,scrollNext:(e,t,o,{duration:i,ease:l,boundary:a=(null==n?void 0:n.current)}={})=>{const s=null!=e?e:null==r?void 0:r.behavior;return A(c(),s,t||\"start\",o||\"nearest\",{boundary:a,duration:null!=i?i:null==r?void 0:r.duration,ease:null!=l?l:null==r?void 0:r.ease})},scrollPrev:(e,t,o,{duration:i,ease:l,boundary:a=(null==n?void 0:n.current)}={})=>{const s=null!=e?e:null==r?void 0:r.behavior;return A(d(),s,t||\"end\",o||\"nearest\",{boundary:a,duration:null!=i?i:null==r?void 0:r.duration,ease:null!=l?l:null==r?void 0:r.ease})},scrollToItem:(e,t,o,i,l)=>{var a,s;return A(e,null!=t?t:null==r?void 0:r.behavior,o,i,Object.assign(Object.assign({boundary:null==n?void 0:n.current},l),{duration:null!==(a=null==l?void 0:l.duration)&&void 0!==a?a:null==r?void 0:r.duration,ease:null!==(s=null==l?void 0:l.ease)&&void 0!==s?s:null==r?void 0:r.ease}))},visibleItems:t,visibleItemsWithoutSeparators:l}}(V,_,S,{duration:i,ease:l,behavior:a})),[V,_,P]),Y=r.default.useCallback((()=>Object.assign(Object.assign({},X),{initComplete:z,items:V,visibleItems:_,scrollContainer:S})),[X,z,V,_,S]),[q,F]=r.default.useState(Y);!function({cb:e=(()=>{}),condition:t,hash:n}){r.default.useEffect((()=>{t&&e()}),[n,t])}({cb:()=>d(q),condition:function({cb:e,condition:t}){const[n,o]=r.default.useState(!1);return r.default.useEffect((()=>{t&&!n&&(o(!0),e())}),[t,n]),n}({cb:()=>s(q),condition:z}),hash:JSON.stringify(_.concat(String(null==q?void 0:q.isFirstItemVisible)).concat(String(null==q?void 0:q.isLastItemVisible)))}),r.default.useEffect((()=>F(Y())),[Y]),E.current=q;const J=r.default.useCallback((e=>h(q,e)),[h,q]),U=r.default.useCallback((e=>p(q,e)),[p,q]),K=r.default.useMemo((()=>`${u} ${I}`),[I]);return r.default.createElement(\"div\",{className:K,onWheel:U,onMouseDown:null==c?void 0:c(q),onMouseUp:null==f?void 0:f(q),onMouseMove:null==v?void 0:v(q)},r.default.createElement(D.Provider,{value:q},N,C,r.default.createElement(m,{className:y,onScroll:J,scrollRef:S},r.default.createElement(b,{refs:k,itemClassName:w,separatorClassName:x},o)),M))},e.VisibilityContext=D,e.constants=v,e.getItemsPos=e=>{var t;const n=(e=>e.filter(((e,t,n)=>{const r=0===t,o=t===n.length-1,l=new RegExp(i).test(e);return!((r||o)&&l)})))(e),r=n[Math.floor(n.length/2)];return{first:null==n?void 0:n[0],center:r,last:null===(t=n.slice(-1))||void 0===t?void 0:t[0]}},e.slidingWindow=function(e,t){const n=R(e),r=R(t);return{prev:()=>P(function(e,t){const n=e.findIndex((e=>e===(null==t?void 0:t[0]))),r=t.length,o=n-r,i=o<0,l=i?0:o,a=e.slice(l,i?r:n);return a.length===r?a:e.slice(n,r)}(n,r)),next:()=>P(function(e,t){const n=e.findIndex((e=>{var n;return e===(null===(n=t.slice(-1))||void 0===n?void 0:n[0])})),r=t.length,o=n+r+1,i=o>e.length-1,l=i?e.length-1:o,a=e.slice(i?l-r+1:n+1,l);return a.length===r?a:e.slice(e.length-r,e.length+r)}(n,r))}},Object.defineProperty(e,\"__esModule\",{value:!0})}));\n","import React, { useCallback, useContext, useEffect, useState } from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { ScrollMenu, VisibilityContext } from \"react-horizontal-scrolling-menu\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome/index.js\"\nimport { faAngleRight } from \"@fortawesome/free-solid-svg-icons/faAngleRight\"\nimport { KeyInsight, getWindowUrl, setWindowUrl } from \"@ourworldindata/utils\"\n\nexport const KEY_INSIGHTS_CLASS_NAME = \"wp-block-owid-key-insights\"\nexport const KEY_INSIGHTS_INSIGHT_PARAM = \"insight\"\nexport const KEY_INSIGHTS_THUMBS_CLASS_NAME = \"thumbs\"\nexport const KEY_INSIGHTS_THUMB_CLASS_NAME = \"thumb\"\nexport const KEY_INSIGHTS_SLIDES_CLASS_NAME = \"slides\"\nexport const KEY_INSIGHTS_SLIDE_CLASS_NAME = \"slide\"\nexport const KEY_INSIGHTS_SLIDE_CONTENT_CLASS_NAME = \"content\"\n\ntype scrollVisibilityApiType = React.ContextType<typeof VisibilityContext>\n\nconst Thumb = ({\n    title,\n    onClick,\n    selected,\n}: {\n    title: string\n    onClick: () => void\n    itemId: string // needed by react-horizontal-scrolling-menu, see lib's examples\n    selected: boolean\n}) => {\n    return (\n        <button\n            onClick={onClick}\n            role=\"tab\"\n            aria-selected={selected}\n            className={KEY_INSIGHTS_THUMB_CLASS_NAME}\n        >\n            {title}\n        </button>\n    )\n}\n\n/**\n * Tab-based switcher for key insights\n *\n * NB: this component has only received limited efforts towards accessibility.\n *\n * A next possible step would be to managage focus via arrow keys (see\n * https://w3c.github.io/aria/#managingfocus). A good implementation of\n * accessibility practices for this kind of widget is available at\n * https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/tab_role\n */\nexport const KeyInsightsThumbs = ({ titles }: { titles: string[] }) => {\n    const [selectedId, setSelectedId] = useState<string>(\"0\")\n    const [slides, setSlides] = useState<HTMLElement | null>(null)\n    const [slug, setSlug] = useState<string>(\"\")\n    const apiRef = React.useRef({} as scrollVisibilityApiType)\n\n    // Not using useRef() here so that the  \"select slide based on hash\" effect,\n    // running on page load only, runs after the ref has been attached (and not\n    // on first render, which would be before)\n    // https://reactjs.org/docs/hooks-faq.html#how-can-i-measure-a-dom-node\n    const thumbsRef = useCallback((node) => {\n        if (node !== null) {\n            const keyInsightsNode = node.parentElement?.parentElement\n\n            setSlides(\n                keyInsightsNode?.querySelector(\n                    `.${KEY_INSIGHTS_SLIDES_CLASS_NAME}`\n                )\n            )\n            // get slug from previous <h3>\n            setSlug(keyInsightsNode?.previousElementSibling?.getAttribute(\"id\"))\n        }\n    }, [])\n\n    // Select active slide based on URL\n    useEffect(() => {\n        if (!slides) return\n\n        const windowUrl = getWindowUrl()\n        if (!windowUrl.queryParams.insight) return\n\n        // find the slide containing the h4 with the id matching the ?insight query param\n        const selectedSlideIdx = Array.from(\n            slides.querySelectorAll(`.${KEY_INSIGHTS_SLIDE_CLASS_NAME}`)\n        ).findIndex((slide) =>\n            slide.querySelector(\n                `#${windowUrl.queryParams[KEY_INSIGHTS_INSIGHT_PARAM]}`\n            )\n        )\n\n        if (selectedSlideIdx === -1) return\n        setSelectedId(selectedSlideIdx.toString())\n    }, [slides])\n\n    // Scroll to selected item\n    useEffect(() => {\n        const item = apiRef.current.getItemById(selectedId)\n        if (!item) return\n\n        apiRef.current.scrollToItem(item, \"smooth\", \"center\", \"nearest\")\n    }, [selectedId])\n\n    // Select active slide when corresponding thumb selected\n    useEffect(() => {\n        if (!slides) return\n\n        // A less imperative, more React way to do this would be preferred. To\n        // switch between slides, I aimed to keep their content untouched\n        // (including event listeners hydrated by other components), while only\n        // updating their wrappers. Managing the switching logic through React\n        // would have required hydrating KeyInsightsSlides as well as all\n        // possible content components within them - even though they would have\n        // been already hydrated at the page level. From that perspective, the\n        // gain is not clear, and the approach not necessarily cleaner, so I\n        // stuck with the imperative approach.\n\n        slides\n            .querySelectorAll(`.${KEY_INSIGHTS_SLIDE_CLASS_NAME}`)\n            .forEach((slide, idx) => {\n                if (idx === Number(selectedId)) {\n                    slide.setAttribute(\"data-active\", \"true\")\n                    const windowUrl = getWindowUrl()\n                    const anchor = slide.querySelector(\"h4\")?.getAttribute(\"id\")\n                    if (!anchor) return\n                    setWindowUrl(\n                        windowUrl\n                            .updateQueryParams({\n                                [KEY_INSIGHTS_INSIGHT_PARAM]: anchor,\n                            })\n                            // When a key insight slug is changed, links\n                            // pointing to that key insight soft-break and take\n                            // readers to the top of the page. Adding an anchor\n                            // pointing to the the block title (h3) serves as a\n                            // stopgap, taking readers to the key insights block\n                            // instead but without selecting a particular\n                            // insight.\n                            //\n                            // This also improves the UX of readers coming\n                            // through shared insights URL. e.g.\n                            // /key-insights-demo?insight=insight-1#key-insights\n                            // shows the whole insights block, including its\n                            // titles (the target of the anchor).\n                            .update({ hash: `#${slug}` })\n                    )\n                } else {\n                    slide.setAttribute(\"data-active\", \"false\")\n                }\n            })\n        // see https://github.com/owid/owid-grapher/pull/1435#discussion_r888058198\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [selectedId])\n\n    return (\n        <div\n            className={KEY_INSIGHTS_THUMBS_CLASS_NAME}\n            role=\"tablist\"\n            ref={thumbsRef}\n        >\n            <ScrollMenu\n                LeftArrow={LeftArrow}\n                RightArrow={RightArrow}\n                transitionDuration={200}\n                apiRef={apiRef}\n            >\n                {titles.map((title, i) => {\n                    const itemId = `${i}`\n                    return (\n                        <Thumb\n                            title={title}\n                            key={itemId}\n                            itemId={itemId}\n                            onClick={() => {\n                                setSelectedId(itemId)\n                            }}\n                            selected={itemId === selectedId}\n                        />\n                    )\n                })}\n            </ScrollMenu>\n        </div>\n    )\n}\n\nexport const KeyInsightsSlides = ({ insights }: { insights: KeyInsight[] }) => (\n    <div className={KEY_INSIGHTS_SLIDES_CLASS_NAME}>\n        {insights.map(({ title, isTitleHidden, slug, content }, idx) => (\n            <div\n                key={idx}\n                className={KEY_INSIGHTS_SLIDE_CLASS_NAME}\n                data-active={idx === 0}\n                role=\"tabpanel\"\n                tabIndex={0}\n            >\n                <h4 style={isTitleHidden ? { display: \"none\" } : {}} id={slug}>\n                    {title}\n                </h4>\n                <div\n                    className={KEY_INSIGHTS_SLIDE_CONTENT_CLASS_NAME}\n                    dangerouslySetInnerHTML={{ __html: content }}\n                />\n            </div>\n        ))}\n    </div>\n)\n\nconst Arrow = ({\n    children,\n    disabled,\n    onClick,\n    className,\n}: {\n    children: React.ReactNode\n    disabled: boolean\n    onClick: VoidFunction\n    className?: string\n}) => {\n    const classes = [\"arrow\", className]\n    return (\n        <button\n            disabled={disabled}\n            onClick={onClick}\n            className={classes.join(\" \")}\n        >\n            {children}\n        </button>\n    )\n}\n\nconst LeftArrow = () => {\n    const {\n        isFirstItemVisible,\n        scrollPrev,\n        visibleItemsWithoutSeparators,\n        initComplete,\n    } = useContext(VisibilityContext)\n\n    const [disabled, setDisabled] = useState(\n        !initComplete || (initComplete && isFirstItemVisible)\n    )\n    useEffect(() => {\n        // NOTE: detect if whole component visible\n        if (visibleItemsWithoutSeparators.length) {\n            setDisabled(isFirstItemVisible)\n        }\n    }, [isFirstItemVisible, visibleItemsWithoutSeparators])\n\n    return !disabled ? (\n        <Arrow disabled={false} onClick={() => scrollPrev()} className=\"left\">\n            <FontAwesomeIcon icon={faAngleRight} flip=\"horizontal\" />\n        </Arrow>\n    ) : null\n}\n\nconst RightArrow = () => {\n    const { isLastItemVisible, scrollNext, visibleItemsWithoutSeparators } =\n        useContext(VisibilityContext)\n\n    const [disabled, setDisabled] = useState(\n        !visibleItemsWithoutSeparators.length && isLastItemVisible\n    )\n    useEffect(() => {\n        if (visibleItemsWithoutSeparators.length) {\n            setDisabled(isLastItemVisible)\n        }\n    }, [isLastItemVisible, visibleItemsWithoutSeparators])\n\n    return !disabled ? (\n        <Arrow disabled={false} onClick={() => scrollNext()} className=\"right\">\n            <FontAwesomeIcon icon={faAngleRight} />\n        </Arrow>\n    ) : null\n}\n\nexport const hydrateKeyInsights = () => {\n    document\n        .querySelectorAll<HTMLElement>(\n            `.${KEY_INSIGHTS_CLASS_NAME} .${KEY_INSIGHTS_THUMBS_CLASS_NAME}`\n        )\n        .forEach((block) => {\n            const titles = Array.from(\n                block.querySelectorAll(`.${KEY_INSIGHTS_THUMB_CLASS_NAME}`)\n            ).map((thumb) => thumb.textContent || \"\")\n\n            if (!titles.length) return\n\n            const blockWrapper = block.parentElement\n            ReactDOM.hydrate(\n                <KeyInsightsThumbs titles={titles} />,\n                blockWrapper\n            )\n        })\n}\n","import React, { createRef } from \"react\"\nimport ReactDOM from \"react-dom\"\nimport classnames from \"classnames\"\nimport { throttle } from \"@ourworldindata/utils\"\n\nfunction getTotalOffset(element: HTMLElement): {\n    x: number\n    y: number\n} {\n    let y = 0\n    let x = 0\n    while (true) {\n        x += element.offsetLeft\n        y += element.offsetTop\n        if (!element.offsetParent) {\n            break\n        }\n        element = element.offsetParent as HTMLElement\n    }\n    return { x, y }\n}\n\nconst STICKY_NAV_HEIGHT = 54\nconst HEADING_SCROLL_MARGIN = 16\n\ninterface HeadingPosition {\n    id: string\n    yPosition: number\n}\n\ninterface StickyNavLink {\n    text: string\n    target: string\n}\n\ninterface StickyNavProps {\n    links: StickyNavLink[]\n}\nclass StickyNav extends React.Component<\n    StickyNavProps,\n    {\n        headingPositions: HeadingPosition[]\n        currentHeadingIndex?: number\n        links: StickyNavLink[]\n    }\n> {\n    ulRef = createRef<HTMLUListElement>()\n    resizeObserver: ResizeObserver | null = null\n\n    state = {\n        currentHeadingIndex: undefined,\n        headingPositions: [] as HeadingPosition[],\n        links: this.props.links,\n    }\n\n    handleResize = () => {\n        window.requestAnimationFrame(() => this.setHeadingPositions())\n    }\n\n    handleScroll = throttle(() => {\n        this.setCurrentHeading()\n    }, 50)\n\n    // Make sure that each item in the nav actually points to a heading in the page\n    filterValidLinks() {\n        const validLinks = this.state.links.filter(\n            (link) =>\n                link.target.startsWith(\"#\") &&\n                document.querySelector(link.target)\n        )\n\n        this.setState({\n            links: validLinks,\n        })\n    }\n\n    setCurrentHeading() {\n        const { scrollY } = window\n        let currentHeadingIndex = 0\n        for (let i = 0; i < this.state.headingPositions.length; i++) {\n            const heading = this.state.headingPositions[i]\n            const target =\n                heading.yPosition -\n                STICKY_NAV_HEIGHT -\n                HEADING_SCROLL_MARGIN -\n                // Additional clearance for height of actual element\n                32\n            if (scrollY <= target) {\n                break\n            } else {\n                currentHeadingIndex = i\n            }\n        }\n\n        const current = this.ulRef.current\n        if (current) {\n            const parent = current.parentElement\n            if (parent) {\n                const hasScrollbar = parent.scrollWidth < current.scrollWidth\n                if (hasScrollbar) {\n                    const listItem = current.children[\n                        currentHeadingIndex\n                    ] as HTMLElement\n                    const containerPadding = 32\n                    current.scrollTo({\n                        behavior: \"smooth\",\n                        left: listItem.offsetLeft - containerPadding,\n                    })\n                }\n            }\n        }\n\n        this.setState({\n            currentHeadingIndex,\n        })\n    }\n\n    setHeadingPositions() {\n        const headingPositions: HeadingPosition[] = []\n\n        this.state.links.forEach(({ target }, i) => {\n            const element = document.querySelector<HTMLElement>(target)\n            if (element) {\n                const { y } = getTotalOffset(element)\n                headingPositions.push({ id: target, yPosition: y })\n            } else {\n                // Because of filterValidLinks, this should never happen\n                // But if it does, pretend the heading exists\n                // 1 pixel after the preceding heading\n                const previousHeadingYPosition =\n                    i === 0 ? 0 : headingPositions[i - 1].yPosition\n                headingPositions.push({\n                    id: target,\n                    yPosition: previousHeadingYPosition + 1,\n                })\n            }\n        })\n\n        this.setState(\n            {\n                headingPositions,\n            },\n            () => {\n                this.setCurrentHeading()\n            }\n        )\n    }\n\n    componentDidMount() {\n        this.filterValidLinks()\n        window.addEventListener(\"scroll\", this.handleScroll, { passive: true })\n        // Web fonts and grapher hydration make the page height change\n        // So we recalculate the heading positions whenever the document body changes size\n        this.resizeObserver = new ResizeObserver(this.handleResize)\n        this.resizeObserver.observe(document.body)\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener(\"scroll\", this.handleScroll)\n        this.resizeObserver?.disconnect()\n    }\n\n    render() {\n        if (!this.state.links) return null\n        return (\n            <>\n                <style>\n                    {/* add scroll-margin-top to all elements with an ID */}\n                    {/* increase top margin for sticky columns so the nav doesn't obscure them */}\n                    {`\n                    [id] {\n                         scroll-margin-top:${\n                             STICKY_NAV_HEIGHT + HEADING_SCROLL_MARGIN\n                         }px;\n                    }\n                    .wp-sticky-container {\n                        top: 70px;\n                    }`}\n                </style>\n                <ul className=\"sticky-nav-container\" ref={this.ulRef}>\n                    {this.state.links.map((link, i) => (\n                        <li key={link.target}>\n                            <a\n                                tabIndex={0}\n                                className={classnames({\n                                    active:\n                                        i === this.state.currentHeadingIndex,\n                                })}\n                                href={link.target}\n                            >\n                                {link.text}\n                            </a>\n                        </li>\n                    ))}\n                </ul>\n            </>\n        )\n    }\n}\n\nexport default StickyNav\n\nexport const hydrateStickyNav = () => {\n    const wrapper = document.querySelector(\".sticky-nav\")\n    if (wrapper) {\n        const anchorTags =\n            document.querySelectorAll<HTMLAnchorElement>(\".sticky-nav a\")\n        const links: StickyNavLink[] = []\n\n        for (const anchorTag of anchorTags) {\n            const text = anchorTag.innerText\n            const target = anchorTag.hash\n            links.push({ text, target })\n        }\n\n        ReactDOM.hydrate(<StickyNav links={links} />, wrapper)\n    }\n}\n","import React, { useState } from \"react\"\nimport classnames from \"classnames\"\nimport ReactDOM from \"react-dom\"\nimport ReactDOMServer from \"react-dom/server.js\"\n\nexport const ExpandableParagraph = (\n    props:\n        | {\n              children: React.ReactNode\n              dangerouslySetInnerHTML?: undefined\n          }\n        | {\n              children?: undefined\n              dangerouslySetInnerHTML: {\n                  __html: string\n              }\n          }\n) => {\n    const [isExpanded, setIsExpanded] = useState(false)\n\n    return (\n        <>\n            <div\n                className={classnames(\"expandable-paragraph\", {\n                    \"expandable-paragraph--is-expanded\": isExpanded,\n                })}\n                // Either pass children or dangerouslySetInnerHTML\n                {...props}\n            />\n            {!isExpanded && (\n                <button\n                    className=\"expandable-paragraph__expand-button\"\n                    onClick={() => setIsExpanded(true)}\n                >\n                    Show more\n                </button>\n            )}\n        </>\n    )\n}\n\nexport const hydrateExpandableParagraphs = () => {\n    const expandableParagraphs = document.querySelectorAll(\n        \".expandable-paragraph\"\n    )\n\n    expandableParagraphs.forEach((eP) => {\n        const innerHTML = eP.innerHTML\n        ReactDOM.hydrate(\n            <ExpandableParagraph\n                dangerouslySetInnerHTML={{ __html: innerHTML }}\n            />,\n            eP.parentElement\n        )\n    })\n}\n\nexport const renderExpandableParagraphs = ($: CheerioStatic) => {\n    const expandableParagraphs = $('block[type=\"expandable-paragraph\"]')\n    expandableParagraphs.each((_, eP) => {\n        const $el = $(eP)\n        const $dry = $(\n            ReactDOMServer.renderToStaticMarkup(\n                <div>\n                    <ExpandableParagraph\n                        dangerouslySetInnerHTML={{\n                            __html: $el.html() || \"\",\n                        }}\n                    />\n                </div>\n            )\n        )\n        $el.after($dry)\n        $el.remove()\n    })\n}\n","import React, { useEffect, useState } from \"react\"\nimport classnames from \"classnames\"\nimport ReactDOM from \"react-dom\"\nimport ReactDOMServer from \"react-dom/server.js\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome/index.js\"\nimport { faCopy } from \"@fortawesome/free-solid-svg-icons/faCopy\"\nimport { canWriteToClipboard } from \"@ourworldindata/utils\"\n\nexport const CodeSnippet = (props: { code: string }) => {\n    const [canCopy, setCanCopy] = useState(false)\n    const [hasCopied, setHasCopied] = useState(false)\n\n    useEffect(() => {\n        canWriteToClipboard().then(setCanCopy)\n    }, [])\n\n    const copy = async () => {\n        try {\n            await navigator.clipboard.writeText(props.code)\n            setHasCopied(true)\n            // reset CSS animation\n            setTimeout(() => setHasCopied(false), 10)\n        } catch (err) {\n            console.error(\n                \"Couldn't copy to clipboard using navigator.clipboard\",\n                err\n            )\n        }\n    }\n\n    return (\n        <div className=\"wp-code-snippet\">\n            <pre className=\"wp-block-code\">\n                <code>{props.code}</code>\n            </pre>\n            {canCopy && (\n                <button\n                    className={classnames(\"code-copy-button\", {\n                        \"code-copy-button--has-copied\": hasCopied,\n                    })}\n                    onClick={copy}\n                    aria-label=\"Copy to clipboard\"\n                >\n                    <FontAwesomeIcon icon={faCopy} />\n                </button>\n            )}\n        </div>\n    )\n}\n\nexport const hydrateCodeSnippets = () => {\n    const codeSnippets = document.querySelectorAll(\"div.wp-code-snippet\")\n\n    codeSnippets.forEach((snippet) => {\n        const code =\n            snippet.querySelector(\".wp-block-code code\")?.textContent || \"\"\n        ReactDOM.hydrate(<CodeSnippet code={code} />, snippet.parentElement)\n    })\n}\n\nexport const renderCodeSnippets = ($: CheerioStatic) => {\n    const codeSnippets = $(\"div.wp-code-snippet\")\n    codeSnippets.each((_, snippet) => {\n        const $el = $(snippet)\n        const $dry = $(\n            ReactDOMServer.renderToStaticMarkup(\n                <div>\n                    <CodeSnippet code={$el.text().trim()} />\n                </div>\n            )\n        )\n        $el.after($dry)\n        $el.remove()\n    })\n}\n","import { hydrate as hydrateAdditionalInformation } from \"./AdditionalInformation.js\"\nimport { runSearchCountry } from \"../../site/SearchCountry.js\"\nimport { runExpandableInlineBlock } from \"../../site/ExpandableInlineBlock.js\"\nimport { runDataTokens } from \"../../site/runDataTokens.js\"\nimport { hydrateKeyInsights } from \"./KeyInsights.js\"\nimport { hydrateStickyNav } from \"./StickyNav.js\"\nimport { hydrateExpandableParagraphs } from \"./ExpandableParagraph.js\"\nimport { hydrateCodeSnippets } from \"./CodeSnippet.js\"\n\nexport const runBlocks = () => {\n    runDataTokens()\n    runExpandableInlineBlock()\n    runSearchCountry()\n    hydrateAdditionalInformation()\n    hydrateKeyInsights()\n    hydrateExpandableParagraphs()\n    hydrateStickyNav()\n    hydrateCodeSnippets()\n}\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar prefix = 'fas';\nvar iconName = 'arrow-right';\nvar width = 448;\nvar height = 512;\nvar aliases = [8594];\nvar unicode = 'f061';\nvar svgPathData = 'M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z';\n\nexports.definition = {\n  prefix: prefix,\n  iconName: iconName,\n  icon: [\n    width,\n    height,\n    aliases,\n    unicode,\n    svgPathData\n  ]};\n\nexports.faArrowRight = exports.definition;\nexports.prefix = prefix;\nexports.iconName = iconName;\nexports.width = width;\nexports.height = height;\nexports.ligatures = aliases;\nexports.unicode = unicode;\nexports.svgPathData = svgPathData;\nexports.aliases = aliases;","import { faArrowRight } from \"@fortawesome/free-solid-svg-icons/faArrowRight\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome/index.js\"\nimport { EntityName } from \"@ourworldindata/core-table\"\nimport {\n    getSelectedEntityNamesParam,\n    migrateSelectedEntityNamesParam,\n    SelectionArray,\n    setSelectedEntityNamesParam,\n} from \"@ourworldindata/grapher\"\nimport { union, Url } from \"@ourworldindata/utils\"\nimport { computed } from \"mobx\"\nimport { observer } from \"mobx-react\"\nimport React from \"react\"\nimport ReactDOM from \"react-dom\"\n\nexport const PROMINENT_LINK_CLASSNAME = \"wp-block-owid-prominent-link\"\n\nexport enum ProminentLinkStyles {\n    thin = \"is-style-thin\",\n    default = \"is-style-default\",\n}\n\nexport const WITH_IMAGE = \"with-image\"\n\n@observer\nexport class ProminentLink extends React.Component<{\n    href: string\n    style: string | null\n    title: string | null\n    content?: string | null\n    image?: string | null\n    globalEntitySelection?: SelectionArray\n}> {\n    @computed get originalUrl(): Url {\n        return migrateSelectedEntityNamesParam(Url.fromURL(this.props.href))\n    }\n\n    @computed private get originalSelectedEntities(): EntityName[] {\n        return getSelectedEntityNamesParam(this.originalUrl) ?? []\n    }\n\n    @computed private get entitiesInGlobalEntitySelection(): EntityName[] {\n        return this.props.globalEntitySelection?.selectedEntityNames ?? []\n    }\n\n    @computed private get updatedUrl(): Url {\n        const newEntityList = union(\n            this.originalSelectedEntities,\n            this.entitiesInGlobalEntitySelection\n        )\n        if (newEntityList.length === 0) return this.originalUrl\n\n        return setSelectedEntityNamesParam(this.originalUrl, newEntityList)\n    }\n\n    @computed private get style(): string {\n        return this.props.style || ProminentLinkStyles.default\n    }\n\n    render() {\n        const classes = [\n            PROMINENT_LINK_CLASSNAME,\n            this.props.image ? WITH_IMAGE : null,\n        ]\n\n        const renderImage = () => {\n            return this.props.image ? (\n                <figure\n                    dangerouslySetInnerHTML={{\n                        __html: this.props.image,\n                    }}\n                />\n            ) : null\n        }\n\n        const renderContent = () => {\n            return this.props.content?.trim() ? (\n                <div\n                    className=\"content\"\n                    dangerouslySetInnerHTML={{\n                        __html: this.props.content,\n                    }}\n                />\n            ) : null\n        }\n\n        const renderThinStyle = () => {\n            return (\n                <>\n                    {renderImage()}\n                    <div className=\"content-wrapper\">\n                        {this.props.title ? (\n                            <div className=\"title\">\n                                <span\n                                    dangerouslySetInnerHTML={{\n                                        __html: this.props.title,\n                                    }}\n                                />\n                                <FontAwesomeIcon icon={faArrowRight} />\n                            </div>\n                        ) : null}\n                        {renderContent()}\n                    </div>\n                </>\n            )\n        }\n\n        const renderDefaultStyle = () => {\n            return (\n                <>\n                    {this.props.title ? (\n                        <h3 className=\"title\">\n                            <span\n                                dangerouslySetInnerHTML={{\n                                    __html: this.props.title,\n                                }}\n                            />\n                            <FontAwesomeIcon icon={faArrowRight} />\n                        </h3>\n                    ) : null}\n                    <div className=\"content-wrapper\">\n                        {renderImage()}\n                        {renderContent()}\n                    </div>\n                </>\n            )\n        }\n\n        const target = this.updatedUrl.isGrapher ? { target: \"_blank\" } : {}\n\n        return (\n            <div\n                className={classes.join(\" \")}\n                data-no-lightbox\n                data-style={this.style}\n                data-title={this.props.title}\n            >\n                <a href={this.updatedUrl.fullUrl} {...target}>\n                    {this.style === ProminentLinkStyles.thin\n                        ? renderThinStyle()\n                        : renderDefaultStyle()}\n                </a>\n            </div>\n        )\n    }\n}\n\nexport const hydrateProminentLink = (\n    globalEntitySelection?: SelectionArray\n) => {\n    document\n        .querySelectorAll<HTMLElement>(`.${PROMINENT_LINK_CLASSNAME}`)\n        .forEach((block) => {\n            const href = block.querySelector(\"a\")?.href\n            if (!href) return\n\n            const style = block.getAttribute(\"data-style\")\n            const title = block.getAttribute(\"data-title\")\n            const content = block.querySelector(\".content\")?.innerHTML || null\n            const image = block.querySelector(\"figure\")?.innerHTML || null\n\n            const rendered = (\n                <ProminentLink\n                    href={href}\n                    style={style}\n                    title={title}\n                    content={content}\n                    image={image}\n                    globalEntitySelection={globalEntitySelection}\n                />\n            )\n\n            // this should be a hydrate() call, but it does not work on page\n            // load for some reason (works fine when interacting with the global\n            // entity selector afterwards). Maybe a race condition with Mobx?\n            ReactDOM.render(rendered, block.parentElement)\n        })\n}\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar prefix = 'far';\nvar iconName = 'circle-check';\nvar width = 512;\nvar height = 512;\nvar aliases = [61533,\"check-circle\"];\nvar unicode = 'f058';\nvar svgPathData = 'M243.8 339.8C232.9 350.7 215.1 350.7 204.2 339.8L140.2 275.8C129.3 264.9 129.3 247.1 140.2 236.2C151.1 225.3 168.9 225.3 179.8 236.2L224 280.4L332.2 172.2C343.1 161.3 360.9 161.3 371.8 172.2C382.7 183.1 382.7 200.9 371.8 211.8L243.8 339.8zM512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM256 48C141.1 48 48 141.1 48 256C48 370.9 141.1 464 256 464C370.9 464 464 370.9 464 256C464 141.1 370.9 48 256 48z';\n\nexports.definition = {\n  prefix: prefix,\n  iconName: iconName,\n  icon: [\n    width,\n    height,\n    aliases,\n    unicode,\n    svgPathData\n  ]};\n\nexports.faCircleCheck = exports.definition;\nexports.prefix = prefix;\nexports.iconName = iconName;\nexports.width = width;\nexports.height = height;\nexports.ligatures = aliases;\nexports.unicode = unicode;\nexports.svgPathData = svgPathData;\nexports.aliases = aliases;","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar source = require('./faCircleCheck');\nexports.definition = {\n  prefix: source.prefix,\n  iconName: source.iconName,\n  icon: [\n    source.width,\n    source.height,\n    source.aliases,\n    source.unicode,\n    source.svgPathData\n  ]};\n\nexports.faCheckCircle = exports.definition;\nexports.prefix = source.prefix;\nexports.iconName = source.iconName;\nexports.width = source.width;\nexports.height = source.height;\nexports.ligatures = source.aliases;\nexports.unicode = source.unicode;\nexports.svgPathData = source.svgPathData;\nexports.aliases = source.aliases;","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar prefix = 'fas';\nvar iconName = 'circle-exclamation';\nvar width = 512;\nvar height = 512;\nvar aliases = [\"exclamation-circle\"];\nvar unicode = 'f06a';\nvar svgPathData = 'M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zm0-384c13.3 0 24 10.7 24 24V264c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zm32 224c0 17.7-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32z';\n\nexports.definition = {\n  prefix: prefix,\n  iconName: iconName,\n  icon: [\n    width,\n    height,\n    aliases,\n    unicode,\n    svgPathData\n  ]};\n\nexports.faCircleExclamation = exports.definition;\nexports.prefix = prefix;\nexports.iconName = iconName;\nexports.width = width;\nexports.height = height;\nexports.ligatures = aliases;\nexports.unicode = unicode;\nexports.svgPathData = svgPathData;\nexports.aliases = aliases;","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar source = require('./faCircleExclamation');\nexports.definition = {\n  prefix: source.prefix,\n  iconName: source.iconName,\n  icon: [\n    source.width,\n    source.height,\n    source.aliases,\n    source.unicode,\n    source.svgPathData\n  ]};\n\nexports.faExclamationCircle = exports.definition;\nexports.prefix = source.prefix;\nexports.iconName = source.iconName;\nexports.width = source.width;\nexports.height = source.height;\nexports.ligatures = source.aliases;\nexports.unicode = source.unicode;\nexports.svgPathData = source.svgPathData;\nexports.aliases = source.aliases;","import {\n    maxBy,\n    dateDiffInDays,\n    TickFormattingOptions,\n    formatValue,\n} from \"@ourworldindata/utils\"\nimport { utcFormat } from \"d3-time-format\"\nimport { SortOrder } from \"@ourworldindata/core-table\"\nimport {\n    CovidSeries,\n    CovidDatum,\n    CovidDoublingRange,\n    CovidSortKey,\n    CovidCountryDatum,\n    CovidSortAccessor,\n} from \"./CovidTypes.js\"\n\nexport function inverseSortOrder(order: SortOrder): SortOrder {\n    return order === SortOrder.asc ? SortOrder.desc : SortOrder.asc\n}\n\nexport function formatInt(\n    n: number | undefined,\n    defaultValue: string = \"\",\n    options: TickFormattingOptions = {}\n): string {\n    return n === undefined || isNaN(n)\n        ? defaultValue\n        : formatValue(n, { ...options, numberAbbreviation: false })\n}\n\nexport const defaultTimeFormat = utcFormat(\"%B %e\")\n\nexport function formatDate(\n    date: Date | undefined,\n    defaultValue: string = \"\"\n): string {\n    if (date === undefined) return defaultValue\n    return defaultTimeFormat(date)\n}\n\nexport function createNoun(singular: string, plural: string) {\n    return (num: number | undefined) => {\n        if (num === 1) return singular\n        return plural\n    }\n}\n\nexport function getDoublingRange(\n    series: CovidSeries,\n    accessor: (d: CovidDatum) => number | undefined\n): CovidDoublingRange | undefined {\n    if (series.length > 1) {\n        const latestDay = maxBy(series, (d) => d.date) as CovidDatum\n        const latestValue = accessor(latestDay)\n        if (latestValue === undefined) return undefined\n        const filteredSeries = series.filter((d) => {\n            const value = accessor(d)\n            return value && value <= latestValue / 2\n        })\n        const halfDay = maxBy(filteredSeries, (d) => d.date)\n        if (halfDay === undefined) return undefined\n        const halfValue = accessor(halfDay)\n        if (halfValue === undefined) return undefined\n        return {\n            latestDay,\n            halfDay,\n            length: dateDiffInDays(latestDay.date, halfDay.date),\n            ratio: latestValue / halfValue,\n        }\n    }\n    return undefined\n}\n\nexport const sortAccessors: Record<CovidSortKey, CovidSortAccessor> = {\n    location: (d: CovidCountryDatum) => d.location,\n    totalCases: (d: CovidCountryDatum) => d.latest?.totalCases,\n    newCases: (d: CovidCountryDatum) => d.latest?.newCases,\n    totalDeaths: (d: CovidCountryDatum) => d.latest?.totalDeaths,\n    newDeaths: (d: CovidCountryDatum) => d.latest?.newDeaths,\n    daysToDoubleCases: (d: CovidCountryDatum) =>\n        d.caseDoublingRange\n            ? d.caseDoublingRange.length - d.caseDoublingRange.ratio * 1e-4\n            : undefined,\n    daysToDoubleDeaths: (d: CovidCountryDatum) =>\n        d.deathDoublingRange\n            ? d.deathDoublingRange.length - d.deathDoublingRange.ratio * 1e-4\n            : undefined,\n    totalTests: (d: CovidCountryDatum) => d.latestWithTests?.tests?.totalTests,\n    testDate: (d: CovidCountryDatum) => d.latestWithTests?.date,\n}\n","import { SortOrder } from \"@ourworldindata/core-table\"\nimport { NounKey, NounGenerator } from \"./CovidTypes.js\"\nimport { createNoun } from \"./CovidUtils.js\"\n\nexport const JHU_DATA_URL =\n    \"https://covid.ourworldindata.org/data/jhu/full_data.csv\"\n\nexport const TESTS_DATA_URL = \"http://localhost:8080/data/tests/latest/data.csv\"\n\nexport const DEFAULT_SORT_ORDER = SortOrder.asc\n\nexport const nouns: Record<NounKey, NounGenerator> = {\n    cases: createNoun(\"case\", \"cases\"),\n    deaths: createNoun(\"death\", \"deaths\"),\n    tests: createNoun(\"test\", \"tests\"),\n    days: createNoun(\"day\", \"days\"),\n}\n","import { csvParse } from \"d3-dsv\"\nimport {\n    dayjs,\n    fetchText,\n    retryPromise,\n    memoize,\n    parseIntOrUndefined,\n} from \"@ourworldindata/utils\"\n\nimport { CovidSeries } from \"./CovidTypes.js\"\nimport { JHU_DATA_URL, TESTS_DATA_URL } from \"./CovidConstants.js\"\n\nasync function _fetchJHUData(): Promise<CovidSeries> {\n    const responseText = await retryPromise(() => fetchText(JHU_DATA_URL))\n    const rows: CovidSeries = csvParse(responseText).map((row) => {\n        return {\n            date: new Date(row.date as string),\n            location: row.location as string,\n            totalCases: parseIntOrUndefined(row.total_cases),\n            totalDeaths: parseIntOrUndefined(row.total_deaths),\n            newCases: parseIntOrUndefined(row.new_cases),\n            newDeaths: parseIntOrUndefined(row.new_deaths),\n        }\n    })\n    return rows\n}\n\n// We want to memoize (cache) the return value of that fetch, so we don't need to load\n// the file multiple times if we request the data more than once\nexport const fetchJHUData = memoize(_fetchJHUData)\n\n//      'Entity string'\n//      'OWID country'\n//      'Total tests/ individuals tested'\n//      'Positive tests/ confirmed cases (refer to 'Remarks')'\n//      'Date to which estimate refers (dd mmm yyyy)'\n//      'Source URL'\n//      'Source label'\n//      'Date of source publication (dd mmm yyyy)'\n//      'Time of source publication (hh:mm)'\n// 'Timezone (keep same if multiple observations per day)'\n//      'Remarks'\n// 'Tests per million people'\n//      'Population'\n//      'Non-official / Non-verifiable (=1)'\n\nexport interface CovidTestsDatum {\n    totalTests: number | undefined\n    totalPositiveTests: number | undefined\n    sourceURL: string | undefined\n    sourceLabel: string | undefined\n    publicationDate: Date\n    remarks: string | undefined\n    population: number | undefined\n    nonOfficial: boolean\n}\n\nexport async function fetchTestsData(): Promise<CovidSeries> {\n    const responseText = await retryPromise(() => fetchText(TESTS_DATA_URL))\n    const rows: CovidSeries = csvParse(responseText).map((row) => {\n        return {\n            date: dayjs(\n                row[\"Date to which estimate refers (dd mmm yyyy)\"] as string,\n                \"DD MMMM YYYY\"\n            ).toDate(),\n            location: row[\"Entity string\"] as string,\n            tests: {\n                totalTests: parseIntOrUndefined(\n                    row[\"Total tests/ individuals tested\"]\n                ),\n                totalPositiveTests: parseIntOrUndefined(\n                    row[\"Positive tests/ confirmed cases (refer to 'Remarks')\"]\n                ),\n                sourceURL: row[\"Source URL\"],\n                sourceLabel: row[\"Source label\"],\n                publicationDate: dayjs(\n                    `${row[\"Date of source publication (dd mmm yyyy)\"]} ${row[\"Time of source publication (hh:mm)\"]}`,\n                    \"DD MMMM YYYY HH:mm\"\n                ).toDate(),\n                remarks: row[\"Remarks\"],\n                population: parseIntOrUndefined(row[\"Population\"]),\n                nonOfficial:\n                    parseIntOrUndefined(\n                        row[\"Non-official / Non-verifiable (=1)\"]\n                    ) === 1,\n            },\n        }\n    })\n    return rows\n}\n","export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n","import colors from \"../colors.js\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar prefix = 'fas';\nvar iconName = 'angles-down';\nvar width = 448;\nvar height = 512;\nvar aliases = [\"angle-double-down\"];\nvar unicode = 'f103';\nvar svgPathData = 'M246.6 470.6c-12.5 12.5-32.8 12.5-45.3 0l-160-160c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L224 402.7 361.4 265.4c12.5-12.5 32.8-12.5 45.3 0s12.5 32.8 0 45.3l-160 160zm160-352l-160 160c-12.5 12.5-32.8 12.5-45.3 0l-160-160c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L224 210.7 361.4 73.4c12.5-12.5 32.8-12.5 45.3 0s12.5 32.8 0 45.3z';\n\nexports.definition = {\n  prefix: prefix,\n  iconName: iconName,\n  icon: [\n    width,\n    height,\n    aliases,\n    unicode,\n    svgPathData\n  ]};\n\nexports.faAnglesDown = exports.definition;\nexports.prefix = prefix;\nexports.iconName = iconName;\nexports.width = width;\nexports.height = height;\nexports.ligatures = aliases;\nexports.unicode = unicode;\nexports.svgPathData = svgPathData;\nexports.aliases = aliases;","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar source = require('./faAnglesDown');\nexports.definition = {\n  prefix: source.prefix,\n  iconName: source.iconName,\n  icon: [\n    source.width,\n    source.height,\n    source.aliases,\n    source.unicode,\n    source.svgPathData\n  ]};\n\nexports.faAngleDoubleDown = exports.definition;\nexports.prefix = source.prefix;\nexports.iconName = source.iconName;\nexports.width = source.width;\nexports.height = source.height;\nexports.ligatures = source.aliases;\nexports.unicode = source.unicode;\nexports.svgPathData = source.svgPathData;\nexports.aliases = source.aliases;","import { CovidTestsDatum } from \"./CovidFetch.js\"\n\nexport interface CovidDatum {\n    date: Date\n    location: string\n    totalCases?: number\n    totalDeaths?: number\n    newCases?: number\n    newDeaths?: number\n    tests?: CovidTestsDatum\n}\n\nexport type CovidSeries = CovidDatum[]\n\nexport interface CovidCountryDatum {\n    id: string\n    location: string\n    series: CovidSeries\n    latest: CovidDatum | undefined\n    latestWithTests: CovidDatum | undefined\n    caseDoublingRange: CovidDoublingRange | undefined\n    deathDoublingRange: CovidDoublingRange | undefined\n}\n\nexport type CovidCountrySeries = CovidCountryDatum[]\n\nexport interface CovidDoublingRange {\n    latestDay: CovidDatum\n    halfDay: CovidDatum\n    length: number\n    ratio: number\n}\n\nexport type DateRange = [Date, Date]\n\nexport enum CovidSortKey {\n    location = \"location\",\n    totalCases = \"totalCases\",\n    newCases = \"newCases\",\n    totalDeaths = \"totalDeaths\",\n    newDeaths = \"newDeaths\",\n    daysToDoubleCases = \"daysToDoubleCases\",\n    daysToDoubleDeaths = \"daysToDoubleDeaths\",\n    totalTests = \"totalTests\",\n    testDate = \"testDate\",\n}\n\nexport type CovidSortAccessor = (\n    datum: CovidCountryDatum\n) => Date | string | number | undefined\n\nexport type NounKey = \"cases\" | \"deaths\" | \"tests\" | \"days\"\n\nexport type NounGenerator = (n?: number) => string\n","import React from \"react\"\n\nimport { CovidDoublingRange, NounGenerator, CovidDatum } from \"./CovidTypes.js\"\nimport { formatInt, formatDate } from \"./CovidUtils.js\"\n\nexport const CovidDoublingTooltip = (props: {\n    doublingRange: CovidDoublingRange\n    noun: NounGenerator\n    accessor: (d: CovidDatum) => number | undefined\n}) => {\n    const { noun, accessor } = props\n    const { latestDay, halfDay, ratio, length } = props.doublingRange\n    const exactRatioWording =\n        ratio.toFixed(1) === \"2.0\"\n            ? \"doubled\"\n            : `increased by a factor of ${ratio.toFixed(1)}`\n    return (\n        <div className=\"covid-tooltip\">\n            The number of total confirmed {noun()} in {latestDay.location} has{\" \"}\n            <span className=\"growth-rate\">{exactRatioWording}</span> in the{\" \"}\n            <span className=\"period\">last {length} days</span>.\n            <table className=\"values\">\n                <tbody>\n                    <tr>\n                        <td className=\"value from-color\">\n                            {formatInt(accessor(halfDay))}{\" \"}\n                            {noun(accessor(halfDay))}\n                        </td>\n                        <td>on</td>\n                        <td className=\"date from-color\">\n                            {formatDate(halfDay.date)}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className=\"value to-color\">\n                            {formatInt(accessor(latestDay))}{\" \"}\n                            {noun(accessor(latestDay))}\n                        </td>\n                        <td>on</td>\n                        <td className=\"date to-color\">\n                            {formatDate(latestDay.date)}\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    )\n}\n","import React from \"react\"\nimport classnames from \"classnames\"\nimport { SortOrder } from \"@ourworldindata/core-table\"\n\nexport interface CovidTableSortIconProps {\n    sortOrder: SortOrder\n    isActive: boolean\n}\n\nexport const CovidTableSortIcon = (props: CovidTableSortIconProps) => {\n    const isActive = props.isActive ?? false\n\n    return (\n        <span\n            className={classnames(\"sort-icon\", props.sortOrder, {\n                active: isActive,\n            })}\n        />\n    )\n}\n","import React from \"react\"\nimport { bind } from \"decko\"\nimport classnames from \"classnames\"\nimport { SortOrder } from \"@ourworldindata/core-table\"\nimport { CovidSortKey } from \"./CovidTypes.js\"\nimport { CovidTableSortIcon } from \"./CovidTableSortIcon.js\"\nimport { DEFAULT_SORT_ORDER } from \"./CovidConstants.js\"\n\nexport interface CovidTableHeaderCellProps {\n    children: React.ReactNode\n    className?: string\n    sortKey?: CovidSortKey\n    currentSortKey?: CovidSortKey\n    currentSortOrder?: SortOrder\n    colSpan?: number\n    onSort?: (key: CovidSortKey) => void\n}\n\nexport class CovidTableHeaderCell extends React.Component<CovidTableHeaderCellProps> {\n    @bind onClick() {\n        if (this.props.sortKey && this.props.onSort) {\n            this.props.onSort(this.props.sortKey)\n        }\n    }\n\n    render() {\n        const {\n            className,\n            sortKey,\n            children,\n            colSpan,\n            currentSortKey,\n            currentSortOrder,\n        } = this.props\n\n        const isSorted = sortKey !== undefined && sortKey === currentSortKey\n        const order =\n            isSorted && currentSortOrder ? currentSortOrder : DEFAULT_SORT_ORDER\n\n        return (\n            <th\n                className={classnames(className, {\n                    sortable: sortKey !== undefined,\n                    sorted: isSorted,\n                })}\n                onClick={this.onClick}\n                colSpan={colSpan}\n            >\n                {children}\n                {sortKey !== undefined && (\n                    <CovidTableSortIcon sortOrder={order} isActive={isSorted} />\n                )}\n            </th>\n        )\n    }\n}\n","import classnames from \"classnames\"\nimport { interpolateLab } from \"d3-interpolate\"\nimport { scaleLinear, ScaleLinear, scaleThreshold } from \"d3-scale\"\nimport React from \"react\"\n\nimport { faCheckCircle } from \"@fortawesome/free-regular-svg-icons/faCheckCircle\"\nimport { faExclamationCircle } from \"@fortawesome/free-solid-svg-icons/faExclamationCircle\"\nimport { faInfoCircle } from \"@fortawesome/free-solid-svg-icons/faInfoCircle\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome/index.js\"\n\nimport {\n    SparkBars,\n    SparkBarsProps,\n    SparkBarTimeSeriesValue,\n} from \"@ourworldindata/grapher\"\nimport { Tippy } from \"@ourworldindata/utils\"\nimport { nouns } from \"./CovidConstants.js\"\nimport { CovidDoublingTooltip } from \"./CovidDoublingTooltip.js\"\nimport {\n    CovidTableHeaderCell as HeaderCell,\n    CovidTableHeaderCellProps,\n} from \"./CovidTableHeaderCell.js\"\nimport {\n    CovidCountryDatum,\n    CovidDatum,\n    CovidDoublingRange,\n    CovidSortKey,\n    NounGenerator,\n} from \"./CovidTypes.js\"\nimport { formatDate, formatInt } from \"./CovidUtils.js\"\n\nexport enum CovidTableColumnKey {\n    location = \"location\",\n    locationTests = \"locationTests\",\n    totalCases = \"totalCases\",\n    newCases = \"newCases\",\n    totalDeaths = \"totalDeaths\",\n    newDeaths = \"newDeaths\",\n    daysToDoubleCases = \"daysToDoubleCases\",\n    daysToDoubleDeaths = \"daysToDoubleDeaths\",\n    totalTests = \"totalTests\",\n    testDate = \"testDate\",\n    testSource = \"testSource\",\n}\n\nexport type CovidTableHeaderSpec = Omit<\n    CovidTableHeaderCellProps,\n    \"children\" | \"sortKey\"\n> & {\n    isMobile: boolean\n    lastUpdated: Date | undefined\n}\n\nexport interface CovidTableCellSpec {\n    datum: CovidCountryDatum\n    isMobile: boolean\n    bars: Pick<\n        SparkBarsProps<CovidDatum>,\n        \"data\" | \"xDomain\" | \"x\" | \"currentX\" | \"highlightedX\" | \"onHover\"\n    >\n    totalTestsBarScale: ScaleLinear<number, number>\n    countryColors: Map<string, string>\n    baseRowSpan: number\n}\n\nexport interface CovidTableColumnSpec {\n    sortKey?: CovidSortKey\n    header: (props: CovidTableHeaderSpec) => JSX.Element\n    cell: (props: CovidTableCellSpec) => JSX.Element\n}\n\ntype IntAccessor = (d: CovidDatum) => number | undefined\ntype RangeAccessor = (d: CovidCountryDatum) => CovidDoublingRange | undefined\n\n// Deaths color scales\n\nconst deathsDoubingTextColorScale = scaleThreshold<number, string>()\n    .domain([12])\n    .range([\"white\", \"rgba(0,0,0,0.5)\"])\n\nconst deathsDoubingBackgColorScale = scaleLinear<string>()\n    .domain([1, 3, 13])\n    .range([\"#8a0000\", \"#bf0000\", \"#eee\"])\n    .interpolate(interpolateLab)\n    .clamp(true)\n\n// Cases color scales\n\nconst casesDoubingTextColorScale = scaleThreshold<number, string>()\n    .domain([12])\n    .range([\"white\", \"rgba(0,0,0,0.5)\"])\n\nconst casesDoubingBackgColorScale = scaleLinear<string>()\n    .domain([1, 3, 13])\n    .range([\"#b11c5b\", \"#CA3A77\", \"#eee\"])\n    .interpolate(interpolateLab)\n    .clamp(true)\n\nconst daysToDoubleGenerator = (\n    accessorDatum: IntAccessor,\n    accessorRange: RangeAccessor,\n    noun: NounGenerator,\n    doubingBackgColorScale: (n: number) => string,\n    doubingTextColorScale: (n: number) => string\n) =>\n    function CovidDoublingDays(props: CovidTableCellSpec) {\n        const { datum, bars, isMobile } = props\n        const range = accessorRange(datum)\n        return (\n            <React.Fragment>\n                <td className=\"doubling-days\" rowSpan={props.baseRowSpan}>\n                    {range !== undefined ? (\n                        <>\n                            <span>\n                                <span className=\"label\">doubled in</span> <br />\n                                <span\n                                    className=\"days\"\n                                    style={{\n                                        backgroundColor: doubingBackgColorScale(\n                                            range.length\n                                        ),\n                                        color: doubingTextColorScale(\n                                            range.length\n                                        ),\n                                    }}\n                                >\n                                    {range.length}\n                                    &nbsp;\n                                    {nouns.days(range.length)}&nbsp;\n                                    <Tippy\n                                        content={\n                                            <CovidDoublingTooltip\n                                                doublingRange={range}\n                                                noun={noun}\n                                                accessor={accessorDatum}\n                                            />\n                                        }\n                                        maxWidth={260}\n                                    >\n                                        <span className=\"info-icon\">\n                                            <FontAwesomeIcon\n                                                icon={faInfoCircle}\n                                            />\n                                        </span>\n                                    </Tippy>\n                                </span>\n                            </span>\n                        </>\n                    ) : (\n                        <span className=\"no-data\">\n                            Not enough data available\n                        </span>\n                    )}\n                </td>\n                {isMobile && (\n                    <td\n                        className={`plot-cell measure--${noun()}`}\n                        rowSpan={props.baseRowSpan}\n                    >\n                        <div className=\"trend\">\n                            <div className=\"plot\">\n                                <SparkBars<CovidDatum>\n                                    className=\"spark-bars covid-bars\"\n                                    {...bars}\n                                    y={accessorDatum}\n                                    highlightedX={\n                                        range !== undefined\n                                            ? bars.x(range.halfDay)\n                                            : undefined\n                                    }\n                                />\n                            </div>\n                        </div>\n                    </td>\n                )}\n            </React.Fragment>\n        )\n    }\n\nconst totalGenerator = (accessor: IntAccessor, noun: NounGenerator) =>\n    function CovidTotal(props: CovidTableCellSpec) {\n        const { bars, datum } = props\n        return (\n            <td\n                className={`plot-cell measure--${noun()}`}\n                rowSpan={props.baseRowSpan}\n            >\n                <div className=\"trend\">\n                    <div className=\"plot\">\n                        <SparkBars<CovidDatum>\n                            className=\"spark-bars covid-bars\"\n                            {...bars}\n                            y={accessor}\n                            renderValue={(d) =>\n                                d && accessor(d) !== undefined ? (\n                                    <SparkBarTimeSeriesValue\n                                        className=\"highlighted\"\n                                        value={formatInt(accessor(d))}\n                                        displayDate={formatDate(d.date)}\n                                    />\n                                ) : undefined\n                            }\n                        />\n                    </div>\n                    <div className=\"value\">\n                        {datum.latest &&\n                            accessor(datum.latest) !== undefined && (\n                                <SparkBarTimeSeriesValue\n                                    className=\"current\"\n                                    value={`${formatInt(\n                                        accessor(datum.latest)\n                                    )} total`}\n                                    displayDate={formatDate(datum.latest.date)}\n                                    latest={true}\n                                />\n                            )}\n                    </div>\n                </div>\n            </td>\n        )\n    }\n\nconst newGenerator = (accessor: IntAccessor, noun: NounGenerator) =>\n    function CovidNew(props: CovidTableCellSpec) {\n        const { bars, datum } = props\n        return (\n            <td\n                className={`plot-cell measure--${noun()}`}\n                rowSpan={props.baseRowSpan}\n            >\n                <div className=\"trend\">\n                    <div className=\"plot\">\n                        <SparkBars<CovidDatum>\n                            className=\"spark-bars covid-bars\"\n                            {...bars}\n                            y={accessor}\n                            renderValue={(d) =>\n                                d && accessor(d) !== undefined ? (\n                                    <SparkBarTimeSeriesValue\n                                        className=\"highlighted\"\n                                        value={formatInt(accessor(d), \"\", {\n                                            showPlus: true,\n                                        })}\n                                        displayDate={d && formatDate(d.date)}\n                                    />\n                                ) : undefined\n                            }\n                        />\n                    </div>\n                    <div className=\"value\">\n                        {datum.latest && accessor(datum.latest) !== undefined && (\n                            <SparkBarTimeSeriesValue\n                                className=\"current\"\n                                value={`${formatInt(\n                                    accessor(datum.latest),\n                                    \"\",\n                                    {\n                                        showPlus: true,\n                                    }\n                                )} new`}\n                                displayDate={formatDate(datum.latest.date)}\n                                latest={true}\n                            />\n                        )}\n                    </div>\n                </div>\n            </td>\n        )\n    }\n\n// TODO\n// There can be columns you cannot sort by, therefore don't have accessors (accessors return undefined is best to implement)\n// There can be sorting that doesn't have a column\n\nexport const columns: Record<CovidTableColumnKey, CovidTableColumnSpec> = {\n    location: {\n        sortKey: CovidSortKey.location,\n        header: (props) => (\n            <HeaderCell\n                {...props}\n                className=\"location\"\n                sortKey={CovidSortKey.location}\n            >\n                <strong>Location</strong>\n            </HeaderCell>\n        ),\n        cell: (props) => (\n            <td className=\"location\" rowSpan={props.baseRowSpan}>\n                {props.datum.location}\n            </td>\n        ),\n    },\n    locationTests: {\n        sortKey: CovidSortKey.location,\n        header: (props) => (\n            <HeaderCell\n                {...props}\n                className=\"location-tests\"\n                sortKey={CovidSortKey.location}\n            >\n                <strong>Location</strong>\n            </HeaderCell>\n        ),\n        cell: (props) => (\n            <td className=\"location-tests\" rowSpan={props.baseRowSpan}>\n                {props.datum.location}\n            </td>\n        ),\n    },\n    daysToDoubleCases: {\n        sortKey: CovidSortKey.daysToDoubleCases,\n        header: (props) => (\n            <HeaderCell\n                {...props}\n                className={`measure--${nouns.cases()}`}\n                sortKey={CovidSortKey.daysToDoubleCases}\n                colSpan={props.isMobile ? 2 : 1}\n            >\n                How long did it take for the number of{\" \"}\n                <strong>\n                    total confirmed <span className=\"measure\">cases</span> to\n                    double\n                </strong>\n                ?\n            </HeaderCell>\n        ),\n        cell: daysToDoubleGenerator(\n            (d) => d.totalCases,\n            (d) => d.caseDoublingRange,\n            nouns.cases,\n            casesDoubingBackgColorScale,\n            casesDoubingTextColorScale\n        ),\n    },\n    daysToDoubleDeaths: {\n        sortKey: CovidSortKey.daysToDoubleDeaths,\n        header: (props) => (\n            <HeaderCell\n                {...props}\n                className={`measure--${nouns.deaths()}`}\n                sortKey={CovidSortKey.daysToDoubleDeaths}\n                colSpan={props.isMobile ? 2 : 1}\n            >\n                How long did it take for the number of{\" \"}\n                <strong>\n                    total confirmed <span className=\"measure\">deaths</span> to\n                    double\n                </strong>\n                ?\n            </HeaderCell>\n        ),\n        cell: daysToDoubleGenerator(\n            (d) => d.totalDeaths,\n            (d) => d.deathDoublingRange,\n            nouns.deaths,\n            deathsDoubingBackgColorScale,\n            deathsDoubingTextColorScale\n        ),\n    },\n    totalCases: {\n        sortKey: CovidSortKey.totalCases,\n        header: (props) => (\n            <HeaderCell\n                {...props}\n                className={`measure--${nouns.cases()}`}\n                sortKey={CovidSortKey.totalCases}\n            >\n                <strong>\n                    Total confirmed <span className=\"measure\">cases</span>\n                </strong>{\" \"}\n                <br />\n                <span className=\"note\">\n                    JHU data.{\" \"}\n                    {props.lastUpdated !== undefined ? (\n                        <>\n                            Up to date for 10&nbsp;AM (CET) on{\" \"}\n                            {formatDate(props.lastUpdated)}.\n                        </>\n                    ) : undefined}\n                </span>\n            </HeaderCell>\n        ),\n        cell: totalGenerator((d) => d.totalCases, nouns.cases),\n    },\n    totalDeaths: {\n        sortKey: CovidSortKey.totalDeaths,\n        header: (props) => (\n            <HeaderCell\n                {...props}\n                className={`measure--${nouns.deaths()}`}\n                sortKey={CovidSortKey.totalDeaths}\n            >\n                <strong>\n                    Total confirmed <span className=\"measure\">deaths</span>\n                </strong>{\" \"}\n                <br />\n                <span className=\"note\">\n                    JHU data.{\" \"}\n                    {props.lastUpdated !== undefined ? (\n                        <>\n                            Up to date for 10&nbsp;AM (CET) on{\" \"}\n                            {formatDate(props.lastUpdated)}.\n                        </>\n                    ) : undefined}\n                </span>\n            </HeaderCell>\n        ),\n        cell: totalGenerator((d) => d.totalDeaths, nouns.deaths),\n    },\n    newCases: {\n        sortKey: CovidSortKey.newCases,\n        header: (props) => (\n            <HeaderCell\n                {...props}\n                className={`measure--${nouns.cases()}`}\n                sortKey={CovidSortKey.newCases}\n            >\n                <strong>\n                    Daily new confirmed <span className=\"measure\">cases</span>\n                </strong>{\" \"}\n                <br />\n                <span className=\"note\">\n                    JHU data.{\" \"}\n                    {props.lastUpdated !== undefined ? (\n                        <>\n                            Up to date for 10&nbsp;AM (CET) on{\" \"}\n                            {formatDate(props.lastUpdated)}.\n                        </>\n                    ) : undefined}\n                </span>\n            </HeaderCell>\n        ),\n        cell: newGenerator((d) => d.newCases, nouns.cases),\n    },\n    newDeaths: {\n        sortKey: CovidSortKey.newDeaths,\n        header: (props) => (\n            <HeaderCell\n                {...props}\n                className={`measure--${nouns.deaths()}`}\n                sortKey={CovidSortKey.newDeaths}\n            >\n                <strong>\n                    Daily new confirmed <span className=\"measure\">deaths</span>\n                </strong>{\" \"}\n                <br />\n                <span className=\"note\">\n                    JHU data.{\" \"}\n                    {props.lastUpdated !== undefined ? (\n                        <>\n                            Up to date for 10&nbsp;AM (CET) on{\" \"}\n                            {formatDate(props.lastUpdated)}.\n                        </>\n                    ) : undefined}\n                </span>\n            </HeaderCell>\n        ),\n        cell: newGenerator((d) => d.newDeaths, nouns.deaths),\n    },\n    totalTests: {\n        sortKey: CovidSortKey.totalTests,\n        header: (props) => (\n            <HeaderCell\n                {...props}\n                className={`measure--${nouns.tests()}`}\n                sortKey={CovidSortKey.totalTests}\n                colSpan={2}\n            >\n                <strong>\n                    Total <span className=\"measure\">tests</span>\n                </strong>\n            </HeaderCell>\n        ),\n        cell: (props) => (\n            <React.Fragment>\n                <td\n                    className={`measure--${nouns.tests()} total-tests`}\n                    rowSpan={1}\n                >\n                    {formatInt(\n                        props.datum.latestWithTests?.tests?.totalTests,\n                        \"\"\n                    )}\n                </td>\n                <td\n                    className={`measure--${nouns.tests()} total-tests-bar`}\n                    rowSpan={1}\n                >\n                    {props.datum.latestWithTests?.tests?.totalTests !==\n                        undefined && (\n                        <div\n                            className=\"bar\"\n                            style={{\n                                backgroundColor: props.countryColors.get(\n                                    props.datum.location\n                                ),\n                                width: `${\n                                    props.totalTestsBarScale(\n                                        props.datum.latestWithTests.tests\n                                            .totalTests\n                                    ) * 100\n                                }%`,\n                            }}\n                        />\n                    )}\n                </td>\n            </React.Fragment>\n        ),\n    },\n    testDate: {\n        sortKey: CovidSortKey.testDate,\n        header: (props) => (\n            <HeaderCell\n                {...props}\n                className={`measure--${nouns.tests()}`}\n                sortKey={CovidSortKey.testDate}\n            >\n                <strong>Date</strong>\n            </HeaderCell>\n        ),\n        cell: (props) => (\n            <td className=\"date\" rowSpan={1}>\n                {formatDate(props.datum.latestWithTests?.date, \"\")}\n            </td>\n        ),\n    },\n    testSource: {\n        header: (props) => (\n            <HeaderCell {...props} className={`measure--${nouns.tests()}`}>\n                <strong>Source</strong>\n            </HeaderCell>\n        ),\n        cell: (props) => {\n            if (props.datum.latestWithTests?.tests === undefined)\n                return <td></td>\n\n            const { date, tests } = props.datum.latestWithTests\n            const {\n                sourceURL,\n                sourceLabel,\n                publicationDate,\n                remarks,\n                nonOfficial,\n            } = tests\n            return (\n                <td className=\"testing-notes\">\n                    <span\n                        className={classnames(\"official\", {\n                            \"is-official\": !nonOfficial,\n                        })}\n                    >\n                        <Tippy\n                            content={\n                                <div className=\"covid-tooltip\">\n                                    <a href={sourceURL}>{sourceLabel}</a>\n                                    <br />\n                                    Refers to: {formatDate(date)}\n                                    <br />\n                                    Published: {formatDate(publicationDate)}\n                                    <br />\n                                    Remarks: {remarks}\n                                </div>\n                            }\n                        >\n                            <span>\n                                {nonOfficial ? (\n                                    <FontAwesomeIcon\n                                        icon={faExclamationCircle}\n                                    />\n                                ) : (\n                                    <FontAwesomeIcon icon={faCheckCircle} />\n                                )}\n                            </span>\n                        </Tippy>\n                    </span>\n                </td>\n            )\n        },\n    },\n}\n","import React from \"react\"\nimport { observable, computed } from \"mobx\"\nimport { observer } from \"mobx-react\"\nimport { bind } from \"decko\"\nimport { ScaleLinear } from \"d3-scale\"\nimport { dateDiffInDays, addDays } from \"@ourworldindata/utils\"\nimport { CovidCountryDatum, DateRange, CovidDatum } from \"./CovidTypes.js\"\nimport { CovidTableState } from \"./CovidTable.js\"\nimport {\n    CovidTableColumnKey,\n    columns,\n    CovidTableCellSpec,\n} from \"./CovidTableColumns.js\"\n\nexport interface CovidTableTransform {\n    dateRange: DateRange\n    totalTestsBarScale: ScaleLinear<number, number>\n    countryColors: Map<string, string>\n}\n\nexport interface CovidTableRowProps {\n    columns: CovidTableColumnKey[]\n    datum: CovidCountryDatum\n    transform: CovidTableTransform\n    state: CovidTableState\n    className?: string\n    extraRow?: (props: CovidTableCellSpec) => JSX.Element | undefined\n    onHighlightDate: (date: Date | undefined) => void\n}\n\n@observer\nexport class CovidTableRow extends React.Component<CovidTableRowProps> {\n    static defaultProps = {\n        onHighlightDate: () => undefined,\n    }\n\n    @observable.ref highlightDate: Date | undefined = undefined\n\n    @computed get data() {\n        const d = this.props.datum\n        const [start, end] = this.props.transform.dateRange\n        return d.series.filter((d) => d.date >= start && d.date <= end)\n    }\n\n    @bind dateToIndex(date: Date): number {\n        return dateDiffInDays(date, this.props.transform.dateRange[0])\n    }\n\n    @bind dateFromIndex(index: number): Date {\n        return addDays(this.props.transform.dateRange[0], index)\n    }\n\n    @computed get xDomain(): [number, number] {\n        const [start, end] = this.props.transform.dateRange\n        return [0, dateDiffInDays(end, start)]\n    }\n\n    @computed get currentX(): number | undefined {\n        const { datum } = this.props\n        if (datum.latest) {\n            return this.x(datum.latest)\n        }\n        return undefined\n    }\n\n    @computed get hightlightedX(): number | undefined {\n        const { state } = this.props\n        if (!state.isMobile && this.highlightDate) {\n            return this.dateToIndex(this.highlightDate)\n        }\n        return undefined\n    }\n\n    @bind x(d: CovidDatum): number {\n        return this.dateToIndex(d.date)\n    }\n\n    @bind onBarHover(d: CovidDatum | undefined, i: number | undefined) {\n        let date\n        if (d !== undefined) {\n            date = d.date\n        } else if (i !== undefined) {\n            date = this.dateFromIndex(i)\n        } else {\n            date = undefined\n        }\n        this.highlightDate = date\n    }\n\n    @computed get cellProps(): CovidTableCellSpec {\n        return {\n            datum: this.props.datum,\n            isMobile: this.props.state.isMobile,\n            bars: {\n                data: this.data,\n                xDomain: this.xDomain,\n                x: this.x,\n                currentX: this.currentX,\n                highlightedX: this.hightlightedX,\n                onHover: this.onBarHover,\n            },\n            totalTestsBarScale: this.props.transform.totalTestsBarScale,\n            countryColors: this.props.transform.countryColors,\n            baseRowSpan: this.props.extraRow ? 2 : 1,\n        }\n    }\n\n    render() {\n        return (\n            <React.Fragment>\n                <tr className={this.props.className}>\n                    {this.props.columns.map((key) => (\n                        <React.Fragment key={key}>\n                            {columns[key].cell(this.cellProps)}\n                        </React.Fragment>\n                    ))}\n                </tr>\n                {this.props.extraRow ? (\n                    <tr className={this.props.className}>\n                        {this.props.extraRow(this.cellProps)}\n                    </tr>\n                ) : undefined}\n            </React.Fragment>\n        )\n    }\n}\n","import React from \"react\"\nimport { observable, action, computed } from \"mobx\"\nimport { observer } from \"mobx-react\"\nimport classnames from \"classnames\"\nimport { scaleLinear } from \"d3-scale\"\nimport { schemeCategory10 } from \"d3-scale-chromatic\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome/index.js\"\nimport { faAngleDoubleDown } from \"@fortawesome/free-solid-svg-icons/faAngleDoubleDown\"\nimport {\n    throttle,\n    groupBy,\n    sortBy,\n    maxBy,\n    orderBy,\n    partition,\n    max,\n    addDays,\n    extend,\n    uniq,\n    stringifyUnkownError,\n} from \"@ourworldindata/utils\"\nimport { SortOrder } from \"@ourworldindata/core-table\"\nimport { DEFAULT_SORT_ORDER } from \"./CovidConstants.js\"\nimport {\n    CovidSortKey,\n    CovidSeries,\n    CovidCountrySeries,\n    DateRange,\n    CovidCountryDatum,\n} from \"./CovidTypes.js\"\nimport {\n    getDoublingRange,\n    sortAccessors,\n    inverseSortOrder,\n} from \"./CovidUtils.js\"\nimport { CovidTableRow } from \"./CovidTableRow.js\"\nimport {\n    CovidTableColumnKey,\n    CovidTableHeaderSpec,\n    columns,\n    CovidTableCellSpec,\n} from \"./CovidTableColumns.js\"\nimport { fetchJHUData } from \"./CovidFetch.js\"\n\nexport class CovidTableState {\n    @observable.ref sortKey: CovidSortKey = CovidSortKey.totalCases\n    @observable.ref sortOrder: SortOrder = SortOrder.desc\n    @observable.ref isMobile: boolean = false\n    @observable.ref truncate: boolean = false\n    @observable.ref truncateLength: number = 12\n\n    constructor(state: Partial<CovidTableState>) {\n        extend(this, state)\n    }\n}\n\nexport interface CovidTableProps {\n    columns: CovidTableColumnKey[]\n    mobileColumns: CovidTableColumnKey[]\n    defaultState: Partial<CovidTableState>\n    filter: (datum: CovidCountryDatum) => any\n    loadData: () => Promise<CovidSeries>\n    preloadData?: CovidSeries\n    extraRow?: (props: CovidTableCellSpec) => JSX.Element | undefined\n    footer?: JSX.Element\n}\n\n@observer\nexport class CovidTable extends React.Component<CovidTableProps> {\n    static defaultProps: CovidTableProps = {\n        columns: [],\n        mobileColumns: [],\n        filter: (d) => d,\n        loadData: fetchJHUData,\n        defaultState: {},\n    }\n\n    @observable.ref data: CovidSeries | undefined =\n        this.props.preloadData ?? undefined\n\n    @observable.ref isLoaded: boolean = !!this.props.preloadData\n    @observable.ref isLoading: boolean = false\n    @observable.ref error: string | undefined = undefined\n\n    @observable tableState = new CovidTableState(this.props.defaultState)\n\n    componentDidMount() {\n        if (!this.props.preloadData) {\n            this.loadData()\n        }\n        this.onResizeThrottled = throttle(this.onResize, 400)\n        window.addEventListener(\"resize\", this.onResizeThrottled)\n        this.onResize()\n    }\n\n    componentWillUnmount() {\n        if (this.onResizeThrottled) {\n            window.removeEventListener(\"resize\", this.onResizeThrottled)\n        }\n    }\n\n    onResizeThrottled?: () => void\n\n    @action.bound onResize() {\n        this.tableState.isMobile = window.innerWidth <= 680\n    }\n\n    async loadData() {\n        this.isLoading = true\n        try {\n            this.data = await this.props.loadData()\n            this.isLoaded = true\n            this.error = undefined\n        } catch (error) {\n            this.error = stringifyUnkownError(error)\n        }\n        this.isLoading = false\n    }\n\n    @computed get countrySeries(): CovidCountrySeries {\n        if (this.data) {\n            return Object.entries(groupBy(this.data, (d) => d.location)).map(\n                ([location, series]) => {\n                    const sortedSeries: CovidSeries = sortBy(\n                        series,\n                        (d) => d.date\n                    )\n                    return {\n                        id: location,\n                        location: location,\n                        series: sortedSeries,\n                        latest: maxBy(series, (d) => d.date),\n                        latestWithTests: maxBy(\n                            series.filter((d) => d.tests),\n                            (d) => d.date\n                        ),\n                        caseDoublingRange: getDoublingRange(\n                            sortedSeries,\n                            (d) => d.totalCases\n                        ),\n                        deathDoublingRange: getDoublingRange(\n                            sortedSeries,\n                            (d) => d.totalDeaths\n                        ),\n                    }\n                }\n            )\n        }\n        return []\n    }\n\n    @computed get rowData() {\n        const { sortKey, sortOrder, truncate, truncateLength } = this.tableState\n        const accessor = sortAccessors[sortKey]\n        const sortedSeries = orderBy(\n            this.countrySeries,\n            (d) => {\n                const value = accessor(d)\n                // In order for undefined values to always be last, we map them to +- Infinity\n                return value !== undefined\n                    ? value\n                    : sortOrder === SortOrder.asc\n                    ? Infinity\n                    : -Infinity\n            },\n            sortOrder\n        )\n        const [rest, hidden]: CovidCountrySeries[] = partition(\n            sortedSeries,\n            this.props.filter\n        )\n\n        let [shown, truncated]: CovidCountrySeries[] = [rest, []]\n        if (truncate) {\n            ;[shown, truncated] = [\n                rest.slice(0, truncateLength),\n                rest.slice(truncateLength),\n            ]\n        }\n\n        return {\n            shown,\n            truncated,\n            hidden,\n        }\n    }\n\n    @computed get isTruncated() {\n        return this.rowData.truncated.length > 0\n    }\n\n    @computed get dateRange(): DateRange {\n        const difference = this.tableState.isMobile ? 13 : 20 // inclusive, so 21 days technically\n        if (this.data !== undefined && this.data.length > 0) {\n            const maxDate = max(this.data.map((d) => d.date)) as Date\n            const minDate = addDays(maxDate, -difference)\n            return [minDate, maxDate]\n        }\n        return [addDays(new Date(), -difference), new Date()]\n    }\n\n    @computed get lastUpdated(): Date | undefined {\n        return this.dateRange[1]\n    }\n\n    @computed get totalTestsBarScale() {\n        const maxTests = max(this.data?.map((d) => d.tests?.totalTests))\n        return scaleLinear()\n            .domain([0, maxTests ?? 1])\n            .range([0, 1])\n    }\n\n    @computed get columns(): CovidTableColumnKey[] {\n        return this.tableState.isMobile\n            ? this.props.mobileColumns\n            : this.props.columns\n    }\n\n    @action.bound onSort(newKey: CovidSortKey) {\n        const { sortKey, sortOrder } = this.tableState\n        this.tableState.sortOrder =\n            sortKey === newKey && sortOrder === DEFAULT_SORT_ORDER\n                ? inverseSortOrder(DEFAULT_SORT_ORDER)\n                : DEFAULT_SORT_ORDER\n        this.tableState.sortKey = newKey\n    }\n\n    @computed get headerCellProps(): CovidTableHeaderSpec {\n        const { sortKey, sortOrder, isMobile } = this.tableState\n        return {\n            currentSortKey: sortKey,\n            currentSortOrder: sortOrder,\n            isMobile: isMobile,\n            lastUpdated: this.lastUpdated,\n            onSort: this.onSort,\n        }\n    }\n\n    @computed get countryColors(): Map<string, string> {\n        const locations = uniq((this.data || []).map((d) => d.location))\n        const colors = schemeCategory10\n        return new Map(locations.map((l, i) => [l, colors[i % colors.length]]))\n    }\n\n    @action.bound onShowMore() {\n        this.tableState.truncate = false\n    }\n\n    render() {\n        if (this.isLoading) {\n            return null\n        }\n\n        if (this.error) {\n            return (\n                <div className=\"covid-error\">\n                    There was an error loading the live table.\n                </div>\n            )\n        }\n\n        return (\n            <div\n                className={classnames(\"covid-table-container\", {\n                    \"covid-table-mobile\": this.tableState.isMobile,\n                })}\n            >\n                <div\n                    className={classnames(\"covid-table-wrapper\", {\n                        truncated: this.isTruncated,\n                    })}\n                >\n                    <table className=\"covid-table\">\n                        <thead>\n                            <tr>\n                                {this.columns.map((key) => (\n                                    <React.Fragment key={key}>\n                                        {columns[key].header(\n                                            this.headerCellProps\n                                        )}\n                                    </React.Fragment>\n                                ))}\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {this.rowData.shown.map((datum) => (\n                                <CovidTableRow\n                                    key={datum.id}\n                                    datum={datum}\n                                    columns={this.columns}\n                                    transform={{\n                                        dateRange: this.dateRange,\n                                        totalTestsBarScale:\n                                            this.totalTestsBarScale,\n                                        countryColors: this.countryColors,\n                                    }}\n                                    extraRow={this.props.extraRow}\n                                    state={this.tableState}\n                                />\n                            ))}\n                        </tbody>\n                    </table>\n                    {this.isTruncated && (\n                        <div className=\"show-more\" onClick={this.onShowMore}>\n                            <button className=\"button\">\n                                <span className=\"icon\">\n                                    <FontAwesomeIcon icon={faAngleDoubleDown} />\n                                </span>\n                                Show more\n                                <span className=\"icon\">\n                                    <FontAwesomeIcon icon={faAngleDoubleDown} />\n                                </span>\n                            </button>\n                        </div>\n                    )}\n                </div>\n                <div className=\"covid-table-footer\">{this.props.footer}</div>\n            </div>\n        )\n    }\n}\n","import { faCheckCircle } from \"@fortawesome/free-regular-svg-icons/faCheckCircle\"\nimport { faExclamationCircle } from \"@fortawesome/free-solid-svg-icons/faExclamationCircle\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome/index.js\"\nimport { SortOrder } from \"@ourworldindata/core-table\"\nimport { oneOf, Tippy } from \"@ourworldindata/utils\"\nimport classnames from \"classnames\"\nimport React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { fetchJHUData, fetchTestsData } from \"./CovidFetch.js\"\nimport { CovidTable, CovidTableProps } from \"./CovidTable.js\"\nimport { CovidTableColumnKey } from \"./CovidTableColumns.js\"\nimport { CovidSortKey } from \"./CovidTypes.js\"\nimport { formatDate } from \"./CovidUtils.js\"\n\ntype Measure = \"cases\" | \"deaths\" | \"tests\" | \"deathsAndCases\"\n\nconst CASE_THRESHOLD = 20\nconst DEATH_THRESHOLD = 5\n\nconst propsByMeasure: Record<Measure, Partial<CovidTableProps>> = {\n    cases: {\n        loadData: fetchJHUData,\n        columns: [\n            CovidTableColumnKey.location,\n            CovidTableColumnKey.daysToDoubleCases,\n            CovidTableColumnKey.totalCases,\n            CovidTableColumnKey.newCases,\n        ],\n        mobileColumns: [\n            CovidTableColumnKey.location,\n            CovidTableColumnKey.daysToDoubleCases,\n        ],\n        defaultState: {\n            sortKey: CovidSortKey.daysToDoubleCases,\n            sortOrder: SortOrder.asc,\n            truncate: true,\n        },\n        filter: (d) =>\n            d.location.indexOf(\"International\") === -1 &&\n            (d.latest && d.latest.totalCases !== undefined\n                ? d.latest.totalCases >= CASE_THRESHOLD\n                : false),\n        footer: (\n            <React.Fragment>\n                <p className=\"tiny\">\n                    Countries with less than {CASE_THRESHOLD} confirmed cases\n                    are not shown. Cases from the Diamond Princess cruise ship\n                    are also not shown since these numbers are no longer\n                    changing over time.\n                </p>\n                <p>\n                    Data source:{\" \"}\n                    <a href=\"https://github.com/CSSEGISandData/COVID-19\">\n                        Johns Hopkins University CSSE\n                    </a>\n                    . Download the{\" \"}\n                    <a href=\"https://ourworldindata.org/coronavirus-source-data\">\n                        full dataset\n                    </a>\n                    .\n                </p>\n            </React.Fragment>\n        ),\n    },\n    deaths: {\n        loadData: fetchJHUData,\n        columns: [\n            CovidTableColumnKey.location,\n            CovidTableColumnKey.daysToDoubleDeaths,\n            CovidTableColumnKey.totalDeaths,\n            CovidTableColumnKey.newDeaths,\n        ],\n        mobileColumns: [\n            CovidTableColumnKey.location,\n            CovidTableColumnKey.daysToDoubleDeaths,\n        ],\n        defaultState: {\n            sortKey: CovidSortKey.daysToDoubleDeaths,\n            sortOrder: SortOrder.asc,\n            truncate: true,\n        },\n        filter: (d) =>\n            d.location.indexOf(\"International\") === -1 &&\n            (d.latest && d.latest.totalDeaths !== undefined\n                ? d.latest.totalDeaths >= DEATH_THRESHOLD\n                : false),\n        footer: (\n            <React.Fragment>\n                <p className=\"tiny\">\n                    Countries with less than {DEATH_THRESHOLD} confirmed deaths\n                    are not shown. Deaths from the Diamond Princess cruise ship\n                    are also not shown since these numbers are no longer\n                    changing over time.\n                </p>\n                <p>\n                    Data source:{\" \"}\n                    <a href=\"https://github.com/CSSEGISandData/COVID-19\">\n                        Johns Hopkins University CSSE\n                    </a>\n                    . Download the{\" \"}\n                    <a href=\"https://ourworldindata.org/coronavirus-source-data\">\n                        full dataset\n                    </a>\n                    .\n                </p>\n            </React.Fragment>\n        ),\n    },\n    tests: {\n        loadData: fetchTestsData,\n        columns: [\n            CovidTableColumnKey.locationTests,\n            CovidTableColumnKey.totalTests,\n            CovidTableColumnKey.testDate,\n            // CovidTableColumnKey.testSource\n        ],\n        mobileColumns: [\n            CovidTableColumnKey.locationTests,\n            CovidTableColumnKey.totalTests,\n        ],\n        defaultState: {\n            sortKey: CovidSortKey.totalTests,\n            sortOrder: SortOrder.desc,\n        },\n        extraRow: (props) => {\n            if (props.datum.latestWithTests?.tests === undefined)\n                return undefined\n            const { date, tests } = props.datum.latestWithTests\n            const {\n                sourceURL,\n                sourceLabel,\n                publicationDate,\n                remarks,\n                nonOfficial,\n            } = tests\n            return (\n                <td colSpan={3} className=\"testing-notes\">\n                    <span\n                        className={classnames(\"official\", {\n                            \"is-official\": !nonOfficial,\n                        })}\n                    >\n                        <Tippy\n                            content={\n                                <div className=\"covid-tooltip\">\n                                    Refers to: {formatDate(date)}\n                                    <br />\n                                    Published: {formatDate(publicationDate)}\n                                    <br />\n                                    Remarks: {remarks}\n                                </div>\n                            }\n                        >\n                            <span>\n                                {nonOfficial ? (\n                                    <FontAwesomeIcon\n                                        icon={faExclamationCircle}\n                                    />\n                                ) : (\n                                    <FontAwesomeIcon icon={faCheckCircle} />\n                                )}\n                            </span>\n                        </Tippy>\n                    </span>\n                    <span className=\"source\">\n                        <a href={sourceURL}>{sourceLabel}</a>\n                    </span>\n                    <br />\n                </td>\n            )\n        },\n    },\n    deathsAndCases: {\n        loadData: fetchJHUData,\n        columns: [\n            CovidTableColumnKey.location,\n            CovidTableColumnKey.daysToDoubleDeaths,\n            CovidTableColumnKey.totalDeaths,\n            CovidTableColumnKey.newDeaths,\n            CovidTableColumnKey.daysToDoubleCases,\n            CovidTableColumnKey.totalCases,\n            CovidTableColumnKey.newCases,\n        ],\n        mobileColumns: [\n            CovidTableColumnKey.location,\n            CovidTableColumnKey.daysToDoubleDeaths,\n            CovidTableColumnKey.daysToDoubleCases,\n        ],\n        defaultState: {\n            sortKey: CovidSortKey.totalDeaths,\n            sortOrder: SortOrder.desc,\n            truncate: true,\n        },\n        filter: (d) =>\n            d.location.indexOf(\"International\") === -1 &&\n            (d.latest && d.latest.totalCases !== undefined\n                ? d.latest.totalCases >= CASE_THRESHOLD\n                : false),\n        footer: (\n            <React.Fragment>\n                <p className=\"tiny\">\n                    Countries with less than {CASE_THRESHOLD} confirmed cases\n                    are not shown. Cases from the Diamond Princess cruise ship\n                    are also not shown since these numbers are no longer\n                    changing over time.\n                </p>\n                <p>\n                    Data source:{\" \"}\n                    <a href=\"https://github.com/CSSEGISandData/COVID-19\">\n                        Johns Hopkins University CSSE\n                    </a>\n                    . Download the{\" \"}\n                    <a href=\"https://ourworldindata.org/coronavirus-source-data\">\n                        full dataset\n                    </a>\n                    .\n                </p>\n            </React.Fragment>\n        ),\n    },\n}\n\nexport function runCovid() {\n    const elements = Array.from(\n        document.querySelectorAll(\"*[data-covid-table], #covid-table-embed\")\n    )\n    elements.forEach((element) => {\n        const attr = element.getAttribute(\"data-measure\")\n        const measure = oneOf<Measure>(\n            attr,\n            [\"tests\", \"deaths\", \"cases\", \"deathsAndCases\"],\n            \"cases\"\n        )\n        ReactDOM.render(<CovidTable {...propsByMeasure[measure]} />, element)\n    })\n}\n","import { parseIntOrUndefined, Tippy } from \"@ourworldindata/utils\"\nimport React from \"react\"\nimport ReactDOM from \"react-dom\"\n\nexport const Footnote = ({\n    index,\n    htmlContent,\n    triggerTarget,\n}: {\n    index: number\n    htmlContent?: string\n    triggerTarget?: Element\n}) => {\n    const onEvent = (instance: any, event: Event) => {\n        if (event.type === \"click\") event.preventDefault()\n    }\n\n    return (\n        <Tippy\n            appendTo={() => document.body}\n            content={\n                htmlContent && (\n                    <div>\n                        <div\n                            dangerouslySetInnerHTML={{\n                                __html: htmlContent,\n                            }}\n                        />\n                    </div>\n                )\n            }\n            interactive\n            placement=\"auto\"\n            theme=\"owid-footnote\"\n            trigger=\"mouseenter focus click\"\n            triggerTarget={triggerTarget}\n            onTrigger={onEvent}\n            onUntrigger={onEvent}\n        >\n            <sup>{index}</sup>\n        </Tippy>\n    )\n}\n\ninterface FootnoteContent {\n    index: number\n    href: string\n    htmlContent: string\n}\n\nfunction getFootnoteContent(element: Element): FootnoteContent | null {\n    const href = element.closest(\"a.ref\")?.getAttribute(\"href\")\n    if (!href) return null\n\n    const index = parseIntOrUndefined(href.split(\"-\")[1])\n    if (index === undefined) return null\n\n    const referencedEl = document.querySelector(href)\n    if (!referencedEl?.innerHTML) return null\n    return { index, href, htmlContent: referencedEl.innerHTML }\n}\n\nexport function runFootnotes() {\n    const footnotes = document.querySelectorAll(\"a.ref\")\n\n    footnotes.forEach((f) => {\n        const footnoteContent = getFootnoteContent(f)\n        if (footnoteContent == null) return\n\n        ReactDOM.hydrate(\n            <Footnote\n                index={footnoteContent.index}\n                htmlContent={footnoteContent.htmlContent}\n                triggerTarget={f}\n            />,\n            f\n        )\n    })\n}\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar prefix = 'fas';\nvar iconName = 'circle-arrow-right';\nvar width = 512;\nvar height = 512;\nvar aliases = [\"arrow-circle-right\"];\nvar unicode = 'f0a9';\nvar svgPathData = 'M0 256C0 397.4 114.6 512 256 512s256-114.6 256-256S397.4 0 256 0S0 114.6 0 256zM297 385c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l71-71L120 280c-13.3 0-24-10.7-24-24s10.7-24 24-24l214.1 0-71-71c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0L409 239c9.4 9.4 9.4 24.6 0 33.9L297 385z';\n\nexports.definition = {\n  prefix: prefix,\n  iconName: iconName,\n  icon: [\n    width,\n    height,\n    aliases,\n    unicode,\n    svgPathData\n  ]};\n\nexports.faCircleArrowRight = exports.definition;\nexports.prefix = prefix;\nexports.iconName = iconName;\nexports.width = width;\nexports.height = height;\nexports.ligatures = aliases;\nexports.unicode = unicode;\nexports.svgPathData = svgPathData;\nexports.aliases = aliases;","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar prefix = 'fas';\nvar iconName = 'circle-arrow-left';\nvar width = 512;\nvar height = 512;\nvar aliases = [\"arrow-circle-left\"];\nvar unicode = 'f0a8';\nvar svgPathData = 'M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256S114.6 512 256 512s256-114.6 256-256zM215 127c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-71 71L392 232c13.3 0 24 10.7 24 24s-10.7 24-24 24l-214.1 0 71 71c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0L103 273c-9.4-9.4-9.4-24.6 0-33.9L215 127z';\n\nexports.definition = {\n  prefix: prefix,\n  iconName: iconName,\n  icon: [\n    width,\n    height,\n    aliases,\n    unicode,\n    svgPathData\n  ]};\n\nexports.faCircleArrowLeft = exports.definition;\nexports.prefix = prefix;\nexports.iconName = iconName;\nexports.width = width;\nexports.height = height;\nexports.ligatures = aliases;\nexports.unicode = unicode;\nexports.svgPathData = svgPathData;\nexports.aliases = aliases;","import React from \"react\"\n\nimport { Span } from \"@ourworldindata/utils\"\nimport { match, P } from \"ts-pattern\"\n\nexport function spansToUnformattedPlainText(spans: Span[] = []): string {\n    return spans\n        .map((span) =>\n            match(span)\n                .with({ spanType: \"span-simple-text\" }, (span) => span.text)\n                .with(\n                    {\n                        spanType: P.union(\n                            \"span-link\",\n                            \"span-italic\",\n                            \"span-bold\",\n                            \"span-fallback\",\n                            \"span-quote\",\n                            \"span-superscript\",\n                            \"span-subscript\",\n                            \"span-underline\",\n                            \"span-ref\"\n                        ),\n                    },\n                    (span) => spansToUnformattedPlainText(span.children)\n                )\n                .with({ spanType: \"span-newline\" }, () => \"\")\n                .exhaustive()\n        )\n        .join(\"\")\n}\n\nexport function renderSpan(\n    span: Span,\n    key: React.Key | null | undefined = undefined\n): JSX.Element {\n    return match(span)\n        .with({ spanType: \"span-simple-text\" }, (span) => (\n            <React.Fragment key={key}>{span.text}</React.Fragment>\n        ))\n        .with({ spanType: \"span-link\" }, (span) => (\n            <a key={key} href={span.url} className=\"span-link\">\n                {renderSpans(span.children)}\n            </a>\n        ))\n        .with({ spanType: \"span-ref\" }, (span) => (\n            <a key={key} href={span.url} className=\"ref\">\n                {renderSpans(span.children)}\n            </a>\n        ))\n        .with({ spanType: \"span-newline\" }, () => <br key={key} />)\n        .with({ spanType: \"span-italic\" }, (span) => (\n            <em key={key}>{renderSpans(span.children)}</em>\n        ))\n        .with({ spanType: \"span-bold\" }, (span) => (\n            <strong key={key}>{renderSpans(span.children)}</strong>\n        ))\n        .with({ spanType: \"span-underline\" }, (span) => (\n            <u key={key}>{renderSpans(span.children)}</u>\n        ))\n        .with({ spanType: \"span-subscript\" }, (span) => (\n            <sub key={key}>{renderSpans(span.children)}</sub>\n        ))\n        .with({ spanType: \"span-superscript\" }, (span) => (\n            <sup key={key}>{renderSpans(span.children)}</sup>\n        ))\n        .with({ spanType: \"span-quote\" }, (span) => (\n            <q key={key}>{renderSpans(span.children)}</q>\n        ))\n        .with({ spanType: \"span-fallback\" }, (span) => (\n            <React.Fragment key={key}>\n                {renderSpans(span.children)}\n            </React.Fragment>\n        ))\n        .exhaustive()\n}\n\nexport function renderSpans(spans: Span[]): JSX.Element[] {\n    return spans.map(renderSpan)\n}\n","import React, { useRef } from \"react\"\nimport { useEmbedChart } from \"../hooks.js\"\nimport { EnrichedBlockChart, Url } from \"@ourworldindata/utils\"\nimport { renderSpans } from \"./utils.js\"\nimport cx from \"classnames\"\n\nexport default function Chart({\n    d,\n    className,\n}: {\n    d: EnrichedBlockChart\n    className?: string\n}) {\n    const refChartContainer = useRef<HTMLDivElement>(null)\n    useEmbedChart(0, refChartContainer)\n\n    // handle cases where url has been wrapped in an a tag\n    if (d.url.startsWith(\"<a href=\")) {\n        const results = /<a [^>]+>(.*?)<\\/a>/g.exec(d.url)\n        if (results && results.length > 1) {\n            d.url = results[1]\n        }\n    }\n\n    const url = Url.fromURL(d.url)\n    const isExplorer = url.isExplorer\n    const hasControls = url.queryParams.hideControls !== \"true\"\n    const height = d.height || (isExplorer && hasControls) ? 700 : 575\n\n    return (\n        <figure\n            className={cx(d.position, className)}\n            style={{ gridRow: d.row, gridColumn: d.column }}\n        >\n            <figure\n                // Use unique `key` to force React to re-render tree\n                key={d.url}\n                data-grapher-src={isExplorer ? undefined : d.url}\n                data-explorer-src={isExplorer ? d.url : undefined}\n                style={{\n                    width: \"100%\",\n                    border: \"0px none\",\n                    height,\n                }}\n            />\n            {d.caption ? (\n                <figcaption>{renderSpans(d.caption)}</figcaption>\n            ) : null}\n        </figure>\n    )\n}\n","import React, { useState, useRef } from \"react\"\nimport { faCircleArrowRight } from \"@fortawesome/free-solid-svg-icons/faCircleArrowRight\"\nimport { faCircleArrowLeft } from \"@fortawesome/free-solid-svg-icons/faCircleArrowLeft\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome/index.js\"\n\nimport { useEmbedChart } from \"../hooks.js\"\nimport { EnrichedBlockChartStory } from \"@ourworldindata/utils\"\nimport { renderSpans } from \"./utils.js\"\nimport Chart from \"./Chart.js\"\nimport cx from \"classnames\"\n\nexport default function ChartStory({\n    d,\n    className = \"\",\n}: {\n    d: EnrichedBlockChartStory\n    className?: string\n}) {\n    const { items } = d\n\n    const [currentIndex, setCurrentIndex] = useState(0)\n    const [currentSlide, setCurrentSlide] = useState(items[0])\n\n    const showDetails = !!currentSlide.technical.length\n    const maxSlide = items.length - 1\n\n    const refChartContainer = useRef<HTMLDivElement>(null)\n    useEmbedChart(currentIndex, refChartContainer)\n\n    return (\n        <div className={cx(className, \"chart-story grid grid-cols-8\")}>\n            <div\n                className={\n                    \"chart-story__nav-hud span-cols-8 overline-black-caps align-center \"\n                }\n            >\n                {`Chart ${currentIndex + 1} of ${items.length}`}\n            </div>\n            <button\n                disabled={currentIndex === 0}\n                className={\n                    \"chart-story__nav-arrow chart-story__nav-arrow--left span-cols-1 align-center \"\n                }\n                onClick={() => {\n                    setCurrentSlide(items[Math.max(0, currentIndex - 1)])\n                    setCurrentIndex(Math.max(0, currentIndex - 1))\n                }}\n            >\n                <FontAwesomeIcon\n                    icon={faCircleArrowLeft}\n                    style={{ fontSize: 18 }}\n                />\n            </button>\n            <div\n                className={\n                    \"chart-story__narrative-text span-cols-6 h3-bold align-center\"\n                }\n            >\n                {renderSpans(currentSlide.narrative.value)}\n            </div>\n            <button\n                disabled={currentIndex === maxSlide}\n                className={\n                    \"chart-story__nav-arrow chart-story__nav-arrow--right span-cols-1 col-start-8 align-center\"\n                }\n                onClick={() => {\n                    setCurrentSlide(items[Math.min(maxSlide, currentIndex + 1)])\n                    setCurrentIndex(Math.min(maxSlide, currentIndex + 1))\n                }}\n            >\n                <FontAwesomeIcon\n                    icon={faCircleArrowRight}\n                    style={{ fontSize: 18 }}\n                />\n            </button>\n\n            <div\n                className={\"chart-story__chart span-cols-8\"}\n                ref={refChartContainer}\n            >\n                <Chart d={currentSlide.chart} />\n            </div>\n            {showDetails ? (\n                <>\n                    <div\n                        className={\n                            \"chart-story__technical-text span-cols-8 overline-black-caps\"\n                        }\n                    >\n                        About this chart\n                    </div>\n                    <div\n                        className={\n                            \"chart-story__technical-details span-cols-8 grid grid-cols-8\"\n                        }\n                    >\n                        <ul className=\"span-cols-6 col-start-2\">\n                            {currentSlide.technical.map((d: any, i: number) => {\n                                return (\n                                    <li className=\"body-3-medium\" key={i}>\n                                        {renderSpans(d.value)}\n                                    </li>\n                                )\n                            })}\n                        </ul>\n                    </div>\n                </>\n            ) : null}\n        </div>\n    )\n}\n","import * as React from 'react';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nconst observerMap = new Map();\nconst RootIds = new WeakMap();\nlet rootId = 0;\nlet unsupportedValue = undefined;\n/**\r\n * What should be the default behavior if the IntersectionObserver is unsupported?\r\n * Ideally the polyfill has been loaded, you can have the following happen:\r\n * - `undefined`: Throw an error\r\n * - `true` or `false`: Set the `inView` value to this regardless of intersection state\r\n * **/\n\nfunction defaultFallbackInView(inView) {\n  unsupportedValue = inView;\n}\n/**\r\n * Generate a unique ID for the root element\r\n * @param root\r\n */\n\nfunction getRootId(root) {\n  if (!root) return '0';\n  if (RootIds.has(root)) return RootIds.get(root);\n  rootId += 1;\n  RootIds.set(root, rootId.toString());\n  return RootIds.get(root);\n}\n/**\r\n * Convert the options to a string Id, based on the values.\r\n * Ensures we can reuse the same observer when observing elements with the same options.\r\n * @param options\r\n */\n\n\nfunction optionsToId(options) {\n  return Object.keys(options).sort().filter(key => options[key] !== undefined).map(key => {\n    return `${key}_${key === 'root' ? getRootId(options.root) : options[key]}`;\n  }).toString();\n}\n\nfunction createObserver(options) {\n  // Create a unique ID for this observer instance, based on the root, root margin and threshold.\n  let id = optionsToId(options);\n  let instance = observerMap.get(id);\n\n  if (!instance) {\n    // Create a map of elements this observer is going to observe. Each element has a list of callbacks that should be triggered, once it comes into view.\n    const elements = new Map();\n    let thresholds;\n    const observer = new IntersectionObserver(entries => {\n      entries.forEach(entry => {\n        var _elements$get;\n\n        // While it would be nice if you could just look at isIntersecting to determine if the component is inside the viewport, browsers can't agree on how to use it.\n        // -Firefox ignores `threshold` when considering `isIntersecting`, so it will never be false again if `threshold` is > 0\n        const inView = entry.isIntersecting && thresholds.some(threshold => entry.intersectionRatio >= threshold); // @ts-ignore support IntersectionObserver v2\n\n        if (options.trackVisibility && typeof entry.isVisible === 'undefined') {\n          // The browser doesn't support Intersection Observer v2, falling back to v1 behavior.\n          // @ts-ignore\n          entry.isVisible = inView;\n        }\n\n        (_elements$get = elements.get(entry.target)) == null ? void 0 : _elements$get.forEach(callback => {\n          callback(inView, entry);\n        });\n      });\n    }, options); // Ensure we have a valid thresholds array. If not, use the threshold from the options\n\n    thresholds = observer.thresholds || (Array.isArray(options.threshold) ? options.threshold : [options.threshold || 0]);\n    instance = {\n      id,\n      observer,\n      elements\n    };\n    observerMap.set(id, instance);\n  }\n\n  return instance;\n}\n/**\r\n * @param element - DOM Element to observe\r\n * @param callback - Callback function to trigger when intersection status changes\r\n * @param options - Intersection Observer options\r\n * @param fallbackInView - Fallback inView value.\r\n * @return Function - Cleanup function that should be triggered to unregister the observer\r\n */\n\n\nfunction observe(element, callback, options = {}, fallbackInView = unsupportedValue) {\n  if (typeof window.IntersectionObserver === 'undefined' && fallbackInView !== undefined) {\n    const bounds = element.getBoundingClientRect();\n    callback(fallbackInView, {\n      isIntersecting: fallbackInView,\n      target: element,\n      intersectionRatio: typeof options.threshold === 'number' ? options.threshold : 0,\n      time: 0,\n      boundingClientRect: bounds,\n      intersectionRect: bounds,\n      rootBounds: bounds\n    });\n    return () => {// Nothing to cleanup\n    };\n  } // An observer with the same options can be reused, so lets use this fact\n\n\n  const {\n    id,\n    observer,\n    elements\n  } = createObserver(options); // Register the callback listener for this element\n\n  let callbacks = elements.get(element) || [];\n\n  if (!elements.has(element)) {\n    elements.set(element, callbacks);\n  }\n\n  callbacks.push(callback);\n  observer.observe(element);\n  return function unobserve() {\n    // Remove the callback from the callback list\n    callbacks.splice(callbacks.indexOf(callback), 1);\n\n    if (callbacks.length === 0) {\n      // No more callback exists for element, so destroy it\n      elements.delete(element);\n      observer.unobserve(element);\n    }\n\n    if (elements.size === 0) {\n      // No more elements are being observer by this instance, so destroy it\n      observer.disconnect();\n      observerMap.delete(id);\n    }\n  };\n}\n\nconst _excluded = [\"children\", \"as\", \"triggerOnce\", \"threshold\", \"root\", \"rootMargin\", \"onChange\", \"skip\", \"trackVisibility\", \"delay\", \"initialInView\", \"fallbackInView\"];\n\nfunction isPlainChildren(props) {\n  return typeof props.children !== 'function';\n}\n/**\r\n ## Render props\r\n\n To use the `<InView>` component, you pass it a function. It will be called\r\n whenever the state changes, with the new value of `inView`. In addition to the\r\n `inView` prop, children also receive a `ref` that should be set on the\r\n containing DOM element. This is the element that the IntersectionObserver will\r\n monitor.\r\n\n If you need it, you can also access the\r\n [`IntersectionObserverEntry`](https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserverEntry)\r\n on `entry`, giving you access to all the details about the current intersection\r\n state.\r\n\n ```jsx\r\n import { InView } from 'react-intersection-observer';\r\n\n const Component = () => (\r\n <InView>\r\n {({ inView, ref, entry }) => (\r\n      <div ref={ref}>\r\n        <h2>{`Header inside viewport ${inView}.`}</h2>\r\n      </div>\r\n    )}\r\n </InView>\r\n );\r\n\n export default Component;\r\n ```\r\n\n ## Plain children\r\n\n You can pass any element to the `<InView />`, and it will handle creating the\r\n wrapping DOM element. Add a handler to the `onChange` method, and control the\r\n state in your own component. Any extra props you add to `<InView>` will be\r\n passed to the HTML element, allowing you set the `className`, `style`, etc.\r\n\n ```jsx\r\n import { InView } from 'react-intersection-observer';\r\n\n const Component = () => (\r\n <InView as=\"div\" onChange={(inView, entry) => console.log('Inview:', inView)}>\r\n <h2>Plain children are always rendered. Use onChange to monitor state.</h2>\r\n </InView>\r\n );\r\n\n export default Component;\r\n ```\r\n */\n\n\nclass InView extends React.Component {\n  constructor(props) {\n    super(props);\n    this.node = null;\n    this._unobserveCb = null;\n\n    this.handleNode = node => {\n      if (this.node) {\n        // Clear the old observer, before we start observing a new element\n        this.unobserve();\n\n        if (!node && !this.props.triggerOnce && !this.props.skip) {\n          // Reset the state if we get a new node, and we aren't ignoring updates\n          this.setState({\n            inView: !!this.props.initialInView,\n            entry: undefined\n          });\n        }\n      }\n\n      this.node = node ? node : null;\n      this.observeNode();\n    };\n\n    this.handleChange = (inView, entry) => {\n      if (inView && this.props.triggerOnce) {\n        // If `triggerOnce` is true, we should stop observing the element.\n        this.unobserve();\n      }\n\n      if (!isPlainChildren(this.props)) {\n        // Store the current State, so we can pass it to the children in the next render update\n        // There's no reason to update the state for plain children, since it's not used in the rendering.\n        this.setState({\n          inView,\n          entry\n        });\n      }\n\n      if (this.props.onChange) {\n        // If the user is actively listening for onChange, always trigger it\n        this.props.onChange(inView, entry);\n      }\n    };\n\n    this.state = {\n      inView: !!props.initialInView,\n      entry: undefined\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    // If a IntersectionObserver option changed, reinit the observer\n    if (prevProps.rootMargin !== this.props.rootMargin || prevProps.root !== this.props.root || prevProps.threshold !== this.props.threshold || prevProps.skip !== this.props.skip || prevProps.trackVisibility !== this.props.trackVisibility || prevProps.delay !== this.props.delay) {\n      this.unobserve();\n      this.observeNode();\n    }\n  }\n\n  componentWillUnmount() {\n    this.unobserve();\n    this.node = null;\n  }\n\n  observeNode() {\n    if (!this.node || this.props.skip) return;\n    const {\n      threshold,\n      root,\n      rootMargin,\n      trackVisibility,\n      delay,\n      fallbackInView\n    } = this.props;\n    this._unobserveCb = observe(this.node, this.handleChange, {\n      threshold,\n      root,\n      rootMargin,\n      // @ts-ignore\n      trackVisibility,\n      // @ts-ignore\n      delay\n    }, fallbackInView);\n  }\n\n  unobserve() {\n    if (this._unobserveCb) {\n      this._unobserveCb();\n\n      this._unobserveCb = null;\n    }\n  }\n\n  render() {\n    if (!isPlainChildren(this.props)) {\n      const {\n        inView,\n        entry\n      } = this.state;\n      return this.props.children({\n        inView,\n        entry,\n        ref: this.handleNode\n      });\n    }\n\n    const _this$props = this.props,\n          {\n      children,\n      as\n    } = _this$props,\n          props = _objectWithoutPropertiesLoose(_this$props, _excluded);\n\n    return React.createElement(as || 'div', _extends({\n      ref: this.handleNode\n    }, props), children);\n  }\n\n}\n\n/**\r\n * React Hooks make it easy to monitor the `inView` state of your components. Call\r\n * the `useInView` hook with the (optional) [options](#options) you need. It will\r\n * return an array containing a `ref`, the `inView` status and the current\r\n * [`entry`](https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserverEntry).\r\n * Assign the `ref` to the DOM element you want to monitor, and the hook will\r\n * report the status.\r\n *\r\n * @example\r\n * ```jsx\r\n * import React from 'react';\r\n * import { useInView } from 'react-intersection-observer';\r\n *\r\n * const Component = () => {\r\n *   const { ref, inView, entry } = useInView({\r\n *       threshold: 0,\r\n *   });\r\n *\r\n *   return (\r\n *     <div ref={ref}>\r\n *       <h2>{`Header inside viewport ${inView}.`}</h2>\r\n *     </div>\r\n *   );\r\n * };\r\n * ```\r\n */\n\nfunction useInView({\n  threshold,\n  delay,\n  trackVisibility,\n  rootMargin,\n  root,\n  triggerOnce,\n  skip,\n  initialInView,\n  fallbackInView,\n  onChange\n} = {}) {\n  var _state$entry;\n\n  const [ref, setRef] = React.useState(null);\n  const callback = React.useRef();\n  const [state, setState] = React.useState({\n    inView: !!initialInView,\n    entry: undefined\n  }); // Store the onChange callback in a `ref`, so we can access the latest instance\n  // inside the `useEffect`, but without triggering a rerender.\n\n  callback.current = onChange;\n  React.useEffect(() => {\n    // Ensure we have node ref, and that we shouldn't skip observing\n    if (skip || !ref) return;\n    let unobserve = observe(ref, (inView, entry) => {\n      setState({\n        inView,\n        entry\n      });\n      if (callback.current) callback.current(inView, entry);\n\n      if (entry.isIntersecting && triggerOnce && unobserve) {\n        // If it should only trigger once, unobserve the element after it's inView\n        unobserve();\n        unobserve = undefined;\n      }\n    }, {\n      root,\n      rootMargin,\n      threshold,\n      // @ts-ignore\n      trackVisibility,\n      // @ts-ignore\n      delay\n    }, fallbackInView);\n    return () => {\n      if (unobserve) {\n        unobserve();\n      }\n    };\n  }, // We break the rule here, because we aren't including the actual `threshold` variable\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  [// If the threshold is an array, convert it to a string, so it won't change between renders.\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  Array.isArray(threshold) ? threshold.toString() : threshold, ref, root, rootMargin, triggerOnce, skip, trackVisibility, fallbackInView, delay]);\n  const entryTarget = (_state$entry = state.entry) == null ? void 0 : _state$entry.target;\n  React.useEffect(() => {\n    if (!ref && entryTarget && !triggerOnce && !skip) {\n      // If we don't have a node ref, then reset the state (unless the hook is set to only `triggerOnce` or `skip`)\n      // This ensures we correctly reflect the current state - If you aren't observing anything, then nothing is inView\n      setState({\n        inView: !!initialInView,\n        entry: undefined\n      });\n    }\n  }, [ref, entryTarget, triggerOnce, skip, initialInView]);\n  const result = [setRef, state.inView, state.entry]; // Support object destructuring, by adding the specific values.\n\n  result.ref = result[0];\n  result.inView = result[1];\n  result.entry = result[2];\n  return result;\n}\n\nexport { InView, defaultFallbackInView, observe, useInView };\n//# sourceMappingURL=react-intersection-observer.modern.mjs.map\n","import React, { useState, useRef } from \"react\"\nimport { InView } from \"react-intersection-observer\"\nimport {\n    EnrichedBlockScroller,\n    EnrichedScrollerItem,\n} from \"@ourworldindata/utils\"\n\nimport { useEmbedChart } from \"../hooks.js\"\nimport { renderSpans } from \"./utils.js\"\nimport cx from \"classnames\"\nexport default function Scroller({\n    d,\n    className = \"\",\n}: {\n    d: EnrichedBlockScroller\n    className?: string\n}) {\n    const [figureSrc, setFigureSrc] = useState(d.blocks[0].url)\n\n    const refChartContainer = useRef<HTMLDivElement>(null)\n\n    const [activeChartIdx, setActiveChartIdx] = useState(0)\n    useEmbedChart(activeChartIdx, refChartContainer)\n\n    return (\n        <section className={cx(\"scroller\", className)}>\n            <div className=\"scroller__paragraph-container span-cols-6 col-start-1 span-sm-cols-12\">\n                {d.blocks.map((value: EnrichedScrollerItem, i: number) => {\n                    return (\n                        <InView\n                            key={i}\n                            className=\"scroller__paragraph-intersection-wrapper\"\n                            threshold={0.67}\n                            onChange={(isVisible: boolean) => {\n                                if (isVisible) {\n                                    setFigureSrc(value.url)\n                                    setActiveChartIdx(i)\n                                }\n                            }}\n                        >\n                            <p className=\"scroller__paragraph\">\n                                {renderSpans(value.text.value)}\n                            </p>\n                        </InView>\n                    )\n                })}\n            </div>\n            {figureSrc ? (\n                <div\n                    className=\"scroller__chart-container span-cols-6 col-start-7 span-sm-cols-12 col-sm-start-1\"\n                    ref={refChartContainer}\n                >\n                    <figure\n                        // Use unique `key` to force React to re-render tree\n                        // TODO: this as any cast should be removed - we don't know\n                        // that figureSrc is going to be a string\n                        className=\"scroller__chart\"\n                        key={figureSrc as any}\n                        data-grapher-src={figureSrc}\n                        style={{\n                            width: \"100%\",\n                            height: \"550px\",\n                            border: \"0px none\",\n                        }}\n                    />\n                </div>\n            ) : null}\n        </section>\n    )\n}\n","import React from \"react\"\nimport { EnrichedBlockPullQuote } from \"@ourworldindata/utils\"\nexport default function PullQuote({\n    d,\n    className = \"\",\n}: {\n    d: EnrichedBlockPullQuote\n    className?: string\n}) {\n    return (\n        <blockquote className={className}>\n            {d.text.map((d) => d.text).join(\"\\n\")}\n        </blockquote>\n    )\n}\n","import React from \"react\"\nimport { EnrichedBlockRecirc } from \"@ourworldindata/utils\"\nimport { renderSpan } from \"./utils.js\"\nexport default function Recirc({\n    d,\n    className = \"\",\n}: {\n    d: EnrichedBlockRecirc\n    className?: string\n}) {\n    return (\n        <div className={className}>\n            <div className=\"recirc-content\">\n                <span className=\"recirc-content__heading overline-black-caps\">\n                    {renderSpan(d.title)}\n                </span>\n                {d.items.map(({ article, author, url }, j: number) => {\n                    return (\n                        <div key={j} className=\"recirc-article-container\">\n                            <h3 className=\"h3-bold\">\n                                <a href={url}>{renderSpan(article)}</a>\n                            </h3>\n                            <div className=\"body-3-medium-italic\">\n                                {renderSpan(author)}\n                            </div>\n                        </div>\n                    )\n                })}\n            </div>\n        </div>\n    )\n}\n","import React from \"react\"\nimport { EnrichedBlockList, EnrichedBlockText } from \"@ourworldindata/utils\"\nimport { renderSpans } from \"./utils.js\"\nexport default function List({\n    d,\n    className = \"\",\n}: {\n    d: EnrichedBlockList\n    className?: string\n}) {\n    return (\n        <ul className={className}>\n            {d.items.map((_d: EnrichedBlockText, i: number) => {\n                return <li key={i}>{renderSpans(_d.value)}</li>\n            })}\n        </ul>\n    )\n}\n","import React from \"react\"\nimport {\n    EnrichedBlockNumberedList,\n    EnrichedBlockText,\n} from \"@ourworldindata/utils\"\nimport { renderSpans } from \"./utils.js\"\nexport default function NumberedList({\n    d,\n    className = \"\",\n}: {\n    d: EnrichedBlockNumberedList\n    className?: string\n}) {\n    return (\n        <ol className={className}>\n            {d.items.map((_d: EnrichedBlockText, i: number) => {\n                return <li key={i}>{renderSpans(_d.value)}</li>\n            })}\n        </ol>\n    )\n}\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar prefix = 'fas';\nvar iconName = 'compress';\nvar width = 448;\nvar height = 512;\nvar aliases = [];\nvar unicode = 'f066';\nvar svgPathData = 'M160 64c0-17.7-14.3-32-32-32s-32 14.3-32 32v64H32c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32V64zM32 320c-17.7 0-32 14.3-32 32s14.3 32 32 32H96v64c0 17.7 14.3 32 32 32s32-14.3 32-32V352c0-17.7-14.3-32-32-32H32zM352 64c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7 14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H352V64zM320 320c-17.7 0-32 14.3-32 32v96c0 17.7 14.3 32 32 32s32-14.3 32-32V384h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H320z';\n\nexports.definition = {\n  prefix: prefix,\n  iconName: iconName,\n  icon: [\n    width,\n    height,\n    aliases,\n    unicode,\n    svgPathData\n  ]};\n\nexports.faCompress = exports.definition;\nexports.prefix = prefix;\nexports.iconName = iconName;\nexports.width = width;\nexports.height = height;\nexports.ligatures = aliases;\nexports.unicode = unicode;\nexports.svgPathData = svgPathData;\nexports.aliases = aliases;","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar prefix = 'fas';\nvar iconName = 'magnifying-glass-minus';\nvar width = 512;\nvar height = 512;\nvar aliases = [\"search-minus\"];\nvar unicode = 'f010';\nvar svgPathData = 'M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM136 184c-13.3 0-24 10.7-24 24s10.7 24 24 24H280c13.3 0 24-10.7 24-24s-10.7-24-24-24H136z';\n\nexports.definition = {\n  prefix: prefix,\n  iconName: iconName,\n  icon: [\n    width,\n    height,\n    aliases,\n    unicode,\n    svgPathData\n  ]};\n\nexports.faMagnifyingGlassMinus = exports.definition;\nexports.prefix = prefix;\nexports.iconName = iconName;\nexports.width = width;\nexports.height = height;\nexports.ligatures = aliases;\nexports.unicode = unicode;\nexports.svgPathData = svgPathData;\nexports.aliases = aliases;","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar source = require('./faMagnifyingGlassMinus');\nexports.definition = {\n  prefix: source.prefix,\n  iconName: source.iconName,\n  icon: [\n    source.width,\n    source.height,\n    source.aliases,\n    source.unicode,\n    source.svgPathData\n  ]};\n\nexports.faSearchMinus = exports.definition;\nexports.prefix = source.prefix;\nexports.iconName = source.iconName;\nexports.width = source.width;\nexports.height = source.height;\nexports.ligatures = source.aliases;\nexports.unicode = source.unicode;\nexports.svgPathData = source.svgPathData;\nexports.aliases = source.aliases;","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar prefix = 'fas';\nvar iconName = 'magnifying-glass-plus';\nvar width = 512;\nvar height = 512;\nvar aliases = [\"search-plus\"];\nvar unicode = 'f00e';\nvar svgPathData = 'M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM184 296c0 13.3 10.7 24 24 24s24-10.7 24-24V232h64c13.3 0 24-10.7 24-24s-10.7-24-24-24H232V120c0-13.3-10.7-24-24-24s-24 10.7-24 24v64H120c-13.3 0-24 10.7-24 24s10.7 24 24 24h64v64z';\n\nexports.definition = {\n  prefix: prefix,\n  iconName: iconName,\n  icon: [\n    width,\n    height,\n    aliases,\n    unicode,\n    svgPathData\n  ]};\n\nexports.faMagnifyingGlassPlus = exports.definition;\nexports.prefix = prefix;\nexports.iconName = iconName;\nexports.width = width;\nexports.height = height;\nexports.ligatures = aliases;\nexports.unicode = unicode;\nexports.svgPathData = svgPathData;\nexports.aliases = aliases;","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar source = require('./faMagnifyingGlassPlus');\nexports.definition = {\n  prefix: source.prefix,\n  iconName: source.iconName,\n  icon: [\n    source.width,\n    source.height,\n    source.aliases,\n    source.unicode,\n    source.svgPathData\n  ]};\n\nexports.faSearchPlus = exports.definition;\nexports.prefix = source.prefix;\nexports.iconName = source.iconName;\nexports.width = source.width;\nexports.height = source.height;\nexports.ligatures = source.aliases;\nexports.unicode = source.unicode;\nexports.svgPathData = source.svgPathData;\nexports.aliases = source.aliases;","import React, { Component, useState, useImperativeHandle, useContext, useRef, useEffect } from 'react';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || from);\r\n}\n\n/**\n * Rounds number to given decimal\n * eg. roundNumber(2.34343, 1) => 2.3\n */\nvar roundNumber = function (num, decimal) {\n    return Number(num.toFixed(decimal));\n};\n/**\n * Checks if value is number, if not it returns default value\n * 1# eg. checkIsNumber(2, 30) => 2\n * 2# eg. checkIsNumber(null, 30) => 30\n */\nvar checkIsNumber = function (num, defaultValue) {\n    return typeof num === \"number\" ? num : defaultValue;\n};\n\nvar handleCallback = function (context, event, callback) {\n    if (callback && typeof callback === \"function\") {\n        callback(context, event);\n    }\n};\n\n/**\n * Functions should return denominator of the target value, which is the next animation step.\n * t is a value from 0 to 1, reflecting the percentage of animation status.\n */\nvar easeOut = function (t) {\n    return -Math.cos(t * Math.PI) / 2 + 0.5;\n};\n// linear\nvar linear = function (t) {\n    return t;\n};\n// accelerating from zero velocity\nvar easeInQuad = function (t) {\n    return t * t;\n};\n// decelerating to zero velocity\nvar easeOutQuad = function (t) {\n    return t * (2 - t);\n};\n// acceleration until halfway, then deceleration\nvar easeInOutQuad = function (t) {\n    return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n};\n// accelerating from zero velocity\nvar easeInCubic = function (t) {\n    return t * t * t;\n};\n// decelerating to zero velocity\nvar easeOutCubic = function (t) {\n    return --t * t * t + 1;\n};\n// acceleration until halfway, then deceleration\nvar easeInOutCubic = function (t) {\n    return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n};\n// accelerating from zero velocity\nvar easeInQuart = function (t) {\n    return t * t * t * t;\n};\n// decelerating to zero velocity\nvar easeOutQuart = function (t) {\n    return 1 - --t * t * t * t;\n};\n// acceleration until halfway, then deceleration\nvar easeInOutQuart = function (t) {\n    return t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t;\n};\n// accelerating from zero velocity\nvar easeInQuint = function (t) {\n    return t * t * t * t * t;\n};\n// decelerating to zero velocity\nvar easeOutQuint = function (t) {\n    return 1 + --t * t * t * t * t;\n};\n// acceleration until halfway, then deceleration\nvar easeInOutQuint = function (t) {\n    return t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t;\n};\nvar animations = {\n    easeOut: easeOut,\n    linear: linear,\n    easeInQuad: easeInQuad,\n    easeOutQuad: easeOutQuad,\n    easeInOutQuad: easeInOutQuad,\n    easeInCubic: easeInCubic,\n    easeOutCubic: easeOutCubic,\n    easeInOutCubic: easeInOutCubic,\n    easeInQuart: easeInQuart,\n    easeOutQuart: easeOutQuart,\n    easeInOutQuart: easeInOutQuart,\n    easeInQuint: easeInQuint,\n    easeOutQuint: easeOutQuint,\n    easeInOutQuint: easeInOutQuint,\n};\n\nvar handleCancelAnimationFrame = function (animation) {\n    if (typeof animation === \"number\") {\n        cancelAnimationFrame(animation);\n    }\n};\nvar handleCancelAnimation = function (contextInstance) {\n    if (!contextInstance.mounted)\n        return;\n    handleCancelAnimationFrame(contextInstance.animation);\n    // Clear animation state\n    contextInstance.animate = false;\n    contextInstance.animation = null;\n    contextInstance.velocity = null;\n};\nfunction handleSetupAnimation(contextInstance, animationName, animationTime, callback) {\n    if (!contextInstance.mounted)\n        return;\n    var startTime = new Date().getTime();\n    var lastStep = 1;\n    // if another animation is active\n    handleCancelAnimation(contextInstance);\n    // new animation\n    contextInstance.animation = function () {\n        if (!contextInstance.mounted) {\n            return handleCancelAnimationFrame(contextInstance.animation);\n        }\n        var frameTime = new Date().getTime() - startTime;\n        var animationProgress = frameTime / animationTime;\n        var animationType = animations[animationName];\n        var step = animationType(animationProgress);\n        if (frameTime >= animationTime) {\n            callback(lastStep);\n            contextInstance.animation = null;\n        }\n        else if (contextInstance.animation) {\n            callback(step);\n            requestAnimationFrame(contextInstance.animation);\n        }\n    };\n    requestAnimationFrame(contextInstance.animation);\n}\nfunction animate(contextInstance, targetState, animationTime, animationName) {\n    var isValid = isValidTargetState(targetState);\n    if (!contextInstance.mounted || !isValid)\n        return;\n    var setTransformState = contextInstance.setTransformState;\n    var _a = contextInstance.transformState, scale = _a.scale, positionX = _a.positionX, positionY = _a.positionY;\n    var scaleDiff = targetState.scale - scale;\n    var positionXDiff = targetState.positionX - positionX;\n    var positionYDiff = targetState.positionY - positionY;\n    if (animationTime === 0) {\n        setTransformState(targetState.scale, targetState.positionX, targetState.positionY);\n    }\n    else {\n        // animation start timestamp\n        handleSetupAnimation(contextInstance, animationName, animationTime, function (step) {\n            var newScale = scale + scaleDiff * step;\n            var newPositionX = positionX + positionXDiff * step;\n            var newPositionY = positionY + positionYDiff * step;\n            setTransformState(newScale, newPositionX, newPositionY);\n        });\n    }\n}\nfunction isValidTargetState(targetState) {\n    var scale = targetState.scale, positionX = targetState.positionX, positionY = targetState.positionY;\n    if (isNaN(scale) || isNaN(positionX) || isNaN(positionY)) {\n        return false;\n    }\n    return true;\n}\n\nfunction getComponentsSizes(wrapperComponent, contentComponent, newScale) {\n    var wrapperWidth = wrapperComponent.offsetWidth;\n    var wrapperHeight = wrapperComponent.offsetHeight;\n    var contentWidth = contentComponent.offsetWidth;\n    var contentHeight = contentComponent.offsetHeight;\n    var newContentWidth = contentWidth * newScale;\n    var newContentHeight = contentHeight * newScale;\n    var newDiffWidth = wrapperWidth - newContentWidth;\n    var newDiffHeight = wrapperHeight - newContentHeight;\n    return {\n        wrapperWidth: wrapperWidth,\n        wrapperHeight: wrapperHeight,\n        newContentWidth: newContentWidth,\n        newDiffWidth: newDiffWidth,\n        newContentHeight: newContentHeight,\n        newDiffHeight: newDiffHeight,\n    };\n}\nvar getBounds = function (wrapperWidth, newContentWidth, diffWidth, wrapperHeight, newContentHeight, diffHeight, centerZoomedOut) {\n    var scaleWidthFactor = wrapperWidth > newContentWidth\n        ? diffWidth * (centerZoomedOut ? 1 : 0.5)\n        : 0;\n    var scaleHeightFactor = wrapperHeight > newContentHeight\n        ? diffHeight * (centerZoomedOut ? 1 : 0.5)\n        : 0;\n    var minPositionX = wrapperWidth - newContentWidth - scaleWidthFactor;\n    var maxPositionX = scaleWidthFactor;\n    var minPositionY = wrapperHeight - newContentHeight - scaleHeightFactor;\n    var maxPositionY = scaleHeightFactor;\n    return { minPositionX: minPositionX, maxPositionX: maxPositionX, minPositionY: minPositionY, maxPositionY: maxPositionY };\n};\nvar calculateBounds = function (contextInstance, newScale) {\n    var wrapperComponent = contextInstance.wrapperComponent, contentComponent = contextInstance.contentComponent;\n    var centerZoomedOut = contextInstance.setup.centerZoomedOut;\n    if (!wrapperComponent || !contentComponent) {\n        throw new Error(\"Components are not mounted\");\n    }\n    var _a = getComponentsSizes(wrapperComponent, contentComponent, newScale), wrapperWidth = _a.wrapperWidth, wrapperHeight = _a.wrapperHeight, newContentWidth = _a.newContentWidth, newDiffWidth = _a.newDiffWidth, newContentHeight = _a.newContentHeight, newDiffHeight = _a.newDiffHeight;\n    var bounds = getBounds(wrapperWidth, newContentWidth, newDiffWidth, wrapperHeight, newContentHeight, newDiffHeight, Boolean(centerZoomedOut));\n    return bounds;\n};\nvar handleCalculateBounds = function (contextInstance, newScale) {\n    var bounds = calculateBounds(contextInstance, newScale);\n    // Save bounds\n    contextInstance.bounds = bounds;\n    return bounds;\n};\nfunction getMouseBoundedPosition(positionX, positionY, bounds, limitToBounds, paddingValueX, paddingValueY, wrapperComponent) {\n    var minPositionX = bounds.minPositionX, minPositionY = bounds.minPositionY, maxPositionX = bounds.maxPositionX, maxPositionY = bounds.maxPositionY;\n    var paddingX = 0;\n    var paddingY = 0;\n    if (wrapperComponent) {\n        paddingX = paddingValueX;\n        paddingY = paddingValueY;\n    }\n    var x = boundLimiter(positionX, minPositionX - paddingX, maxPositionX + paddingX, limitToBounds);\n    var y = boundLimiter(positionY, minPositionY - paddingY, maxPositionY + paddingY, limitToBounds);\n    return { x: x, y: y };\n}\n/**\n * Keeps value between given bounds, used for limiting view to given boundaries\n * 1# eg. boundLimiter(2, 0, 3, true) => 2\n * 2# eg. boundLimiter(4, 0, 3, true) => 3\n * 3# eg. boundLimiter(-2, 0, 3, true) => 0\n * 4# eg. boundLimiter(10, 0, 3, false) => 10\n */\nvar boundLimiter = function (value, minBound, maxBound, isActive) {\n    if (!isActive)\n        return roundNumber(value, 2);\n    if (value < minBound)\n        return roundNumber(minBound, 2);\n    if (value > maxBound)\n        return roundNumber(maxBound, 2);\n    return roundNumber(value, 2);\n};\n\nfunction handleCalculateZoomPositions(contextInstance, mouseX, mouseY, newScale, bounds, limitToBounds) {\n    var _a = contextInstance.transformState, scale = _a.scale, positionX = _a.positionX, positionY = _a.positionY;\n    var scaleDifference = newScale - scale;\n    if (typeof mouseX !== \"number\" || typeof mouseY !== \"number\") {\n        console.error(\"Mouse X and Y position were not provided!\");\n        return { x: positionX, y: positionY };\n    }\n    var calculatedPositionX = positionX - mouseX * scaleDifference;\n    var calculatedPositionY = positionY - mouseY * scaleDifference;\n    // do not limit to bounds when there is padding animation,\n    // it causes animation strange behaviour\n    var newPositions = getMouseBoundedPosition(calculatedPositionX, calculatedPositionY, bounds, limitToBounds, 0, 0, null);\n    return newPositions;\n}\nfunction checkZoomBounds(zoom, minScale, maxScale, zoomPadding, enablePadding) {\n    var scalePadding = enablePadding ? zoomPadding : 0;\n    var minScaleWithPadding = minScale - scalePadding;\n    if (!isNaN(maxScale) && zoom >= maxScale)\n        return maxScale;\n    if (!isNaN(minScale) && zoom <= minScaleWithPadding)\n        return minScaleWithPadding;\n    return zoom;\n}\n\nvar isPanningStartAllowed = function (contextInstance, event) {\n    var excluded = contextInstance.setup.panning.excluded;\n    var isInitialized = contextInstance.isInitialized, wrapperComponent = contextInstance.wrapperComponent;\n    var target = event.target;\n    var isWrapperChild = wrapperComponent === null || wrapperComponent === void 0 ? void 0 : wrapperComponent.contains(target);\n    var isAllowed = isInitialized && target && isWrapperChild;\n    if (!isAllowed)\n        return false;\n    var isExcluded = isExcludedNode(target, excluded);\n    if (isExcluded)\n        return false;\n    return true;\n};\nvar isPanningAllowed = function (contextInstance) {\n    var isInitialized = contextInstance.isInitialized, isPanning = contextInstance.isPanning, setup = contextInstance.setup;\n    var disabled = setup.panning.disabled;\n    var isAllowed = isInitialized && isPanning && !disabled;\n    if (!isAllowed)\n        return false;\n    return true;\n};\nvar handlePanningSetup = function (contextInstance, event) {\n    var _a = contextInstance.transformState, positionX = _a.positionX, positionY = _a.positionY;\n    contextInstance.isPanning = true;\n    // Panning with mouse\n    var x = event.clientX;\n    var y = event.clientY;\n    contextInstance.startCoords = { x: x - positionX, y: y - positionY };\n};\nvar handleTouchPanningSetup = function (contextInstance, event) {\n    var touches = event.touches;\n    var _a = contextInstance.transformState, positionX = _a.positionX, positionY = _a.positionY;\n    contextInstance.isPanning = true;\n    // Panning with touch\n    var oneFingerTouch = touches.length === 1;\n    if (oneFingerTouch) {\n        var x = touches[0].clientX;\n        var y = touches[0].clientY;\n        contextInstance.startCoords = { x: x - positionX, y: y - positionY };\n    }\n};\nfunction handlePanToBounds(contextInstance) {\n    var _a = contextInstance.transformState, positionX = _a.positionX, positionY = _a.positionY, scale = _a.scale;\n    var _b = contextInstance.setup, disabled = _b.disabled, limitToBounds = _b.limitToBounds, centerZoomedOut = _b.centerZoomedOut;\n    var wrapperComponent = contextInstance.wrapperComponent;\n    if (disabled || !wrapperComponent || !contextInstance.bounds)\n        return;\n    var _c = contextInstance.bounds, maxPositionX = _c.maxPositionX, minPositionX = _c.minPositionX, maxPositionY = _c.maxPositionY, minPositionY = _c.minPositionY;\n    var xChanged = positionX > maxPositionX || positionX < minPositionX;\n    var yChanged = positionY > maxPositionY || positionY < minPositionY;\n    var mousePosX = positionX > maxPositionX\n        ? wrapperComponent.offsetWidth\n        : contextInstance.setup.minPositionX || 0;\n    var mousePosY = positionY > maxPositionY\n        ? wrapperComponent.offsetHeight\n        : contextInstance.setup.minPositionY || 0;\n    var _d = handleCalculateZoomPositions(contextInstance, mousePosX, mousePosY, scale, contextInstance.bounds, limitToBounds || centerZoomedOut), x = _d.x, y = _d.y;\n    return {\n        scale: scale,\n        positionX: xChanged ? x : positionX,\n        positionY: yChanged ? y : positionY,\n    };\n}\nfunction handleNewPosition(contextInstance, newPositionX, newPositionY, paddingValueX, paddingValueY) {\n    var limitToBounds = contextInstance.setup.limitToBounds;\n    var wrapperComponent = contextInstance.wrapperComponent, bounds = contextInstance.bounds;\n    var _a = contextInstance.transformState, scale = _a.scale, positionX = _a.positionX, positionY = _a.positionY;\n    var hasPositionXChanged = newPositionX !== positionX;\n    var hasPositionYChanged = newPositionY !== positionY;\n    var hasNewPosition = !hasPositionXChanged || !hasPositionYChanged;\n    if (!wrapperComponent || hasNewPosition || !bounds) {\n        return;\n    }\n    var _b = getMouseBoundedPosition(newPositionX, newPositionY, bounds, limitToBounds, paddingValueX, paddingValueY, wrapperComponent), x = _b.x, y = _b.y;\n    contextInstance.setTransformState(scale, x, y);\n}\nvar getPanningClientPosition = function (contextInstance, clientX, clientY) {\n    var startCoords = contextInstance.startCoords, transformState = contextInstance.transformState;\n    var panning = contextInstance.setup.panning;\n    var lockAxisX = panning.lockAxisX, lockAxisY = panning.lockAxisY;\n    var positionX = transformState.positionX, positionY = transformState.positionY;\n    if (!startCoords) {\n        return { x: positionX, y: positionY };\n    }\n    var mouseX = clientX - startCoords.x;\n    var mouseY = clientY - startCoords.y;\n    var newPositionX = lockAxisX ? positionX : mouseX;\n    var newPositionY = lockAxisY ? positionY : mouseY;\n    return { x: newPositionX, y: newPositionY };\n};\nvar getPaddingValue = function (contextInstance, size) {\n    var setup = contextInstance.setup, transformState = contextInstance.transformState;\n    var scale = transformState.scale;\n    var minScale = setup.minScale;\n    if (size > 0 && scale >= minScale) {\n        return size;\n    }\n    return 0;\n};\n\nvar isVelocityCalculationAllowed = function (contextInstance) {\n    var mounted = contextInstance.mounted;\n    var _a = contextInstance.setup, disabled = _a.disabled, velocityAnimation = _a.velocityAnimation;\n    var scale = contextInstance.transformState.scale;\n    var disabledVelocity = velocityAnimation.disabled;\n    var isAllowed = !disabledVelocity || scale > 1 || !disabled || mounted;\n    if (!isAllowed)\n        return false;\n    return true;\n};\nvar isVelocityAllowed = function (contextInstance) {\n    var mounted = contextInstance.mounted, velocity = contextInstance.velocity, bounds = contextInstance.bounds;\n    var _a = contextInstance.setup, disabled = _a.disabled, velocityAnimation = _a.velocityAnimation;\n    var scale = contextInstance.transformState.scale;\n    var disabledVelocity = velocityAnimation.disabled;\n    var isAllowed = !disabledVelocity || scale > 1 || !disabled || mounted;\n    if (!isAllowed)\n        return false;\n    if (!velocity || !bounds)\n        return false;\n    return true;\n};\nfunction getVelocityMoveTime(contextInstance, velocity) {\n    var velocityAnimation = contextInstance.setup.velocityAnimation;\n    var equalToMove = velocityAnimation.equalToMove, animationTime = velocityAnimation.animationTime, sensitivity = velocityAnimation.sensitivity;\n    if (equalToMove) {\n        return animationTime * velocity * sensitivity;\n    }\n    return animationTime;\n}\nfunction getVelocityPosition(newPosition, startPosition, currentPosition, isLocked, limitToBounds, minPosition, maxPosition, minTarget, maxTarget, step) {\n    if (limitToBounds) {\n        if (startPosition > maxPosition && currentPosition > maxPosition) {\n            var calculatedPosition = maxPosition + (newPosition - maxPosition) * step;\n            if (calculatedPosition > maxTarget)\n                return maxTarget;\n            if (calculatedPosition < maxPosition)\n                return maxPosition;\n            return calculatedPosition;\n        }\n        if (startPosition < minPosition && currentPosition < minPosition) {\n            var calculatedPosition = minPosition + (newPosition - minPosition) * step;\n            if (calculatedPosition < minTarget)\n                return minTarget;\n            if (calculatedPosition > minPosition)\n                return minPosition;\n            return calculatedPosition;\n        }\n    }\n    if (isLocked)\n        return startPosition;\n    return boundLimiter(newPosition, minPosition, maxPosition, limitToBounds);\n}\n\nfunction getSizeMultiplier(wrapperComponent, equalToMove) {\n    var defaultMultiplier = 1;\n    if (equalToMove) {\n        return Math.min(defaultMultiplier, wrapperComponent.offsetWidth / window.innerWidth);\n    }\n    return defaultMultiplier;\n}\nfunction handleCalculateVelocity(contextInstance, position) {\n    var isAllowed = isVelocityCalculationAllowed(contextInstance);\n    if (!isAllowed) {\n        return;\n    }\n    var lastMousePosition = contextInstance.lastMousePosition, velocityTime = contextInstance.velocityTime, setup = contextInstance.setup;\n    var wrapperComponent = contextInstance.wrapperComponent;\n    var equalToMove = setup.velocityAnimation.equalToMove;\n    var now = Date.now();\n    if (lastMousePosition && velocityTime && wrapperComponent) {\n        var sizeMultiplier = getSizeMultiplier(wrapperComponent, equalToMove);\n        var distanceX = position.x - lastMousePosition.x;\n        var distanceY = position.y - lastMousePosition.y;\n        var velocityX = distanceX / sizeMultiplier;\n        var velocityY = distanceY / sizeMultiplier;\n        var interval = now - velocityTime;\n        var speed = distanceX * distanceX + distanceY * distanceY;\n        var velocity = Math.sqrt(speed) / interval;\n        contextInstance.velocity = { velocityX: velocityX, velocityY: velocityY, total: velocity };\n    }\n    contextInstance.lastMousePosition = position;\n    contextInstance.velocityTime = now;\n}\nfunction handleVelocityPanning(contextInstance) {\n    var velocity = contextInstance.velocity, bounds = contextInstance.bounds, setup = contextInstance.setup, wrapperComponent = contextInstance.wrapperComponent;\n    var isAllowed = isVelocityAllowed(contextInstance);\n    if (!isAllowed || !velocity || !bounds || !wrapperComponent) {\n        return;\n    }\n    var velocityX = velocity.velocityX, velocityY = velocity.velocityY, total = velocity.total;\n    var maxPositionX = bounds.maxPositionX, minPositionX = bounds.minPositionX, maxPositionY = bounds.maxPositionY, minPositionY = bounds.minPositionY;\n    var limitToBounds = setup.limitToBounds, alignmentAnimation = setup.alignmentAnimation;\n    var zoomAnimation = setup.zoomAnimation, panning = setup.panning;\n    var lockAxisY = panning.lockAxisY, lockAxisX = panning.lockAxisX;\n    var animationType = zoomAnimation.animationType;\n    var sizeX = alignmentAnimation.sizeX, sizeY = alignmentAnimation.sizeY, velocityAlignmentTime = alignmentAnimation.velocityAlignmentTime;\n    var alignAnimationTime = velocityAlignmentTime;\n    var moveAnimationTime = getVelocityMoveTime(contextInstance, total);\n    var finalAnimationTime = Math.max(moveAnimationTime, alignAnimationTime);\n    var paddingValueX = getPaddingValue(contextInstance, sizeX);\n    var paddingValueY = getPaddingValue(contextInstance, sizeY);\n    var paddingX = (paddingValueX * wrapperComponent.offsetWidth) / 100;\n    var paddingY = (paddingValueY * wrapperComponent.offsetHeight) / 100;\n    var maxTargetX = maxPositionX + paddingX;\n    var minTargetX = minPositionX - paddingX;\n    var maxTargetY = maxPositionY + paddingY;\n    var minTargetY = minPositionY - paddingY;\n    var startState = contextInstance.transformState;\n    var startTime = new Date().getTime();\n    handleSetupAnimation(contextInstance, animationType, finalAnimationTime, function (step) {\n        var _a = contextInstance.transformState, scale = _a.scale, positionX = _a.positionX, positionY = _a.positionY;\n        var frameTime = new Date().getTime() - startTime;\n        var animationProgress = frameTime / alignAnimationTime;\n        var alignAnimation = animations[alignmentAnimation.animationType];\n        var alignStep = 1 - alignAnimation(Math.min(1, animationProgress));\n        var customStep = 1 - step;\n        var newPositionX = positionX + velocityX * customStep;\n        var newPositionY = positionY + velocityY * customStep;\n        var currentPositionX = getVelocityPosition(newPositionX, startState.positionX, positionX, lockAxisX, limitToBounds, minPositionX, maxPositionX, minTargetX, maxTargetX, alignStep);\n        var currentPositionY = getVelocityPosition(newPositionY, startState.positionY, positionY, lockAxisY, limitToBounds, minPositionY, maxPositionY, minTargetY, maxTargetY, alignStep);\n        if (positionX !== newPositionX || positionY !== newPositionY) {\n            contextInstance.setTransformState(scale, currentPositionX, currentPositionY);\n        }\n    });\n}\n\nfunction handlePanningStart(contextInstance, event) {\n    var scale = contextInstance.transformState.scale;\n    handleCancelAnimation(contextInstance);\n    handleCalculateBounds(contextInstance, scale);\n    if (event.touches) {\n        handleTouchPanningSetup(contextInstance, event);\n    }\n    else {\n        handlePanningSetup(contextInstance, event);\n    }\n}\nfunction handlePanning(contextInstance, clientX, clientY) {\n    var startCoords = contextInstance.startCoords, setup = contextInstance.setup;\n    var _a = setup.alignmentAnimation, sizeX = _a.sizeX, sizeY = _a.sizeY;\n    if (!startCoords)\n        return;\n    var _b = getPanningClientPosition(contextInstance, clientX, clientY), x = _b.x, y = _b.y;\n    var paddingValueX = getPaddingValue(contextInstance, sizeX);\n    var paddingValueY = getPaddingValue(contextInstance, sizeY);\n    handleCalculateVelocity(contextInstance, { x: x, y: y });\n    handleNewPosition(contextInstance, x, y, paddingValueX, paddingValueY);\n}\nfunction handlePanningEnd(contextInstance) {\n    if (contextInstance.isPanning) {\n        var velocityDisabled = contextInstance.setup.panning.velocityDisabled;\n        var velocity = contextInstance.velocity, wrapperComponent = contextInstance.wrapperComponent, contentComponent = contextInstance.contentComponent;\n        contextInstance.isPanning = false;\n        contextInstance.animate = false;\n        contextInstance.animation = null;\n        var wrapperRect = wrapperComponent === null || wrapperComponent === void 0 ? void 0 : wrapperComponent.getBoundingClientRect();\n        var contentRect = contentComponent === null || contentComponent === void 0 ? void 0 : contentComponent.getBoundingClientRect();\n        var wrapperWidth = (wrapperRect === null || wrapperRect === void 0 ? void 0 : wrapperRect.width) || 0;\n        var wrapperHeight = (wrapperRect === null || wrapperRect === void 0 ? void 0 : wrapperRect.height) || 0;\n        var contentWidth = (contentRect === null || contentRect === void 0 ? void 0 : contentRect.width) || 0;\n        var contentHeight = (contentRect === null || contentRect === void 0 ? void 0 : contentRect.height) || 0;\n        var isZoomed = wrapperWidth < contentWidth || wrapperHeight < contentHeight;\n        var shouldAnimate = !velocityDisabled && velocity && (velocity === null || velocity === void 0 ? void 0 : velocity.total) > 0.1 && isZoomed;\n        if (shouldAnimate) {\n            handleVelocityPanning(contextInstance);\n        }\n        else {\n            handleAlignToBounds(contextInstance);\n        }\n    }\n}\nfunction handleAlignToBounds(contextInstance) {\n    var scale = contextInstance.transformState.scale;\n    var _a = contextInstance.setup, minScale = _a.minScale, alignmentAnimation = _a.alignmentAnimation;\n    var disabled = alignmentAnimation.disabled, sizeX = alignmentAnimation.sizeX, sizeY = alignmentAnimation.sizeY, animationTime = alignmentAnimation.animationTime, animationType = alignmentAnimation.animationType;\n    var isDisabled = disabled || scale < minScale || (!sizeX && !sizeY);\n    if (isDisabled)\n        return;\n    var targetState = handlePanToBounds(contextInstance);\n    if (targetState) {\n        animate(contextInstance, targetState, animationTime, animationType);\n    }\n}\n\nfunction handleAlignToScaleBounds(contextInstance, mousePositionX, mousePositionY) {\n    var scale = contextInstance.transformState.scale;\n    var wrapperComponent = contextInstance.wrapperComponent;\n    var _a = contextInstance.setup, minScale = _a.minScale, limitToBounds = _a.limitToBounds, zoomAnimation = _a.zoomAnimation;\n    var disabled = zoomAnimation.disabled, animationTime = zoomAnimation.animationTime, animationType = zoomAnimation.animationType;\n    var isDisabled = disabled || scale >= minScale;\n    if (scale >= 1 || limitToBounds) {\n        // fire fit to bounds animation\n        handleAlignToBounds(contextInstance);\n    }\n    if (isDisabled || !wrapperComponent || !contextInstance.mounted)\n        return;\n    var mouseX = mousePositionX || wrapperComponent.offsetWidth / 2;\n    var mouseY = mousePositionY || wrapperComponent.offsetHeight / 2;\n    var targetState = handleZoomToPoint(contextInstance, minScale, mouseX, mouseY);\n    if (targetState) {\n        animate(contextInstance, targetState, animationTime, animationType);\n    }\n}\nfunction handleZoomToPoint(contextInstance, scale, mouseX, mouseY) {\n    var _a = contextInstance.setup, minScale = _a.minScale, maxScale = _a.maxScale, limitToBounds = _a.limitToBounds;\n    var newScale = checkZoomBounds(roundNumber(scale, 2), minScale, maxScale, 0, false);\n    var bounds = handleCalculateBounds(contextInstance, newScale);\n    var _b = handleCalculateZoomPositions(contextInstance, mouseX, mouseY, newScale, bounds, limitToBounds), x = _b.x, y = _b.y;\n    return { scale: newScale, positionX: x, positionY: y };\n}\n\nvar initialState = {\n    previousScale: 1,\n    scale: 1,\n    positionX: 0,\n    positionY: 0,\n};\nvar contextInitialState = __assign(__assign({}, initialState), { setComponents: function () { return undefined; }, contextInstance: null });\nvar initialSetup = {\n    disabled: false,\n    minPositionX: null,\n    maxPositionX: null,\n    minPositionY: null,\n    maxPositionY: null,\n    minScale: 1,\n    maxScale: 8,\n    limitToBounds: true,\n    centerZoomedOut: false,\n    centerOnInit: false,\n    wheel: {\n        step: 0.2,\n        disabled: false,\n        wheelDisabled: false,\n        touchPadDisabled: false,\n        activationKeys: [],\n        excluded: [],\n    },\n    panning: {\n        disabled: false,\n        velocityDisabled: false,\n        lockAxisX: false,\n        lockAxisY: false,\n        activationKeys: [],\n        excluded: [],\n    },\n    pinch: {\n        step: 5,\n        disabled: false,\n        excluded: [],\n    },\n    doubleClick: {\n        disabled: false,\n        step: 0.7,\n        mode: \"zoomIn\",\n        animationType: \"easeOut\",\n        animationTime: 200,\n        excluded: [],\n    },\n    zoomAnimation: {\n        disabled: false,\n        size: 0.4,\n        animationTime: 200,\n        animationType: \"easeOut\",\n    },\n    alignmentAnimation: {\n        disabled: false,\n        sizeX: 100,\n        sizeY: 100,\n        animationTime: 200,\n        velocityAlignmentTime: 400,\n        animationType: \"easeOut\",\n    },\n    velocityAnimation: {\n        disabled: false,\n        sensitivity: 1,\n        animationTime: 400,\n        animationType: \"easeOut\",\n        equalToMove: true,\n    },\n};\n\nvar createState = function (props) {\n    var _a, _b, _c, _d;\n    return {\n        previousScale: (_a = props.initialScale) !== null && _a !== void 0 ? _a : initialState.scale,\n        scale: (_b = props.initialScale) !== null && _b !== void 0 ? _b : initialState.scale,\n        positionX: (_c = props.initialPositionX) !== null && _c !== void 0 ? _c : initialState.positionX,\n        positionY: (_d = props.initialPositionY) !== null && _d !== void 0 ? _d : initialState.positionY,\n    };\n};\nvar createSetup = function (props) {\n    var newSetup = __assign({}, initialSetup);\n    Object.keys(props).forEach(function (key) {\n        var validValue = typeof props[key] !== \"undefined\";\n        var validParameter = typeof initialSetup[key] !== \"undefined\";\n        if (validParameter && validValue) {\n            var dataType = Object.prototype.toString.call(initialSetup[key]);\n            var isObject = dataType === \"[object Object]\";\n            var isArray = dataType === \"[object Array]\";\n            if (isObject) {\n                newSetup[key] = __assign(__assign({}, initialSetup[key]), props[key]);\n            }\n            else if (isArray) {\n                newSetup[key] = __spreadArray(__spreadArray([], initialSetup[key]), props[key]);\n            }\n            else {\n                newSetup[key] = props[key];\n            }\n        }\n    });\n    return newSetup;\n};\n\nvar handleCalculateButtonZoom = function (contextInstance, delta, step) {\n    var scale = contextInstance.transformState.scale;\n    var wrapperComponent = contextInstance.wrapperComponent, setup = contextInstance.setup;\n    var maxScale = setup.maxScale, minScale = setup.minScale, zoomAnimation = setup.zoomAnimation;\n    var size = zoomAnimation.size;\n    if (!wrapperComponent) {\n        throw new Error(\"Wrapper is not mounted\");\n    }\n    var targetScale = scale * Math.exp(delta * step);\n    var newScale = checkZoomBounds(roundNumber(targetScale, 3), minScale, maxScale, size, false);\n    return newScale;\n};\nfunction handleZoomToViewCenter(contextInstance, delta, step, animationTime, animationType) {\n    var wrapperComponent = contextInstance.wrapperComponent;\n    var _a = contextInstance.transformState, scale = _a.scale, positionX = _a.positionX, positionY = _a.positionY;\n    if (!wrapperComponent)\n        return console.error(\"No WrapperComponent found\");\n    var wrapperWidth = wrapperComponent.offsetWidth;\n    var wrapperHeight = wrapperComponent.offsetHeight;\n    var mouseX = (wrapperWidth / 2 - positionX) / scale;\n    var mouseY = (wrapperHeight / 2 - positionY) / scale;\n    var newScale = handleCalculateButtonZoom(contextInstance, delta, step);\n    var targetState = handleZoomToPoint(contextInstance, newScale, mouseX, mouseY);\n    if (!targetState) {\n        return console.error(\"Error during zoom event. New transformation state was not calculated.\");\n    }\n    animate(contextInstance, targetState, animationTime, animationType);\n}\nfunction resetTransformations(contextInstance, animationTime, animationType) {\n    var setup = contextInstance.setup, wrapperComponent = contextInstance.wrapperComponent;\n    var limitToBounds = setup.limitToBounds;\n    var initialTransformation = createState(contextInstance.props);\n    var _a = contextInstance.transformState, scale = _a.scale, positionX = _a.positionX, positionY = _a.positionY;\n    if (!wrapperComponent)\n        return;\n    var newBounds = calculateBounds(contextInstance, initialTransformation.scale);\n    var boundedPositions = getMouseBoundedPosition(initialTransformation.positionX, initialTransformation.positionY, newBounds, limitToBounds, 0, 0, wrapperComponent);\n    var newState = {\n        scale: initialTransformation.scale,\n        positionX: boundedPositions.x,\n        positionY: boundedPositions.y,\n    };\n    if (scale === initialTransformation.scale &&\n        positionX === initialTransformation.positionX &&\n        positionY === initialTransformation.positionY) {\n        return;\n    }\n    animate(contextInstance, newState, animationTime, animationType);\n}\nfunction calculateZoomToNode(contextInstance, node, customZoom) {\n    var wrapperComponent = contextInstance.wrapperComponent;\n    var _a = contextInstance.setup, limitToBounds = _a.limitToBounds, minScale = _a.minScale, maxScale = _a.maxScale;\n    if (!wrapperComponent)\n        return initialState;\n    var wrapperRect = wrapperComponent.getBoundingClientRect();\n    var nodeRect = getOffset(node);\n    var nodeLeft = nodeRect.x;\n    var nodeTop = nodeRect.y;\n    var nodeWidth = node.offsetWidth;\n    var nodeHeight = node.offsetHeight;\n    var scaleX = wrapperComponent.offsetWidth / nodeWidth;\n    var scaleY = wrapperComponent.offsetHeight / nodeHeight;\n    var newScale = checkZoomBounds(customZoom || Math.min(scaleX, scaleY), minScale, maxScale, 0, false);\n    var offsetX = (wrapperRect.width - nodeWidth * newScale) / 2;\n    var offsetY = (wrapperRect.height - nodeHeight * newScale) / 2;\n    var newPositionX = (wrapperRect.left - nodeLeft) * newScale + offsetX;\n    var newPositionY = (wrapperRect.top - nodeTop) * newScale + offsetY;\n    var bounds = calculateBounds(contextInstance, newScale);\n    var _b = getMouseBoundedPosition(newPositionX, newPositionY, bounds, limitToBounds, 0, 0, wrapperComponent), x = _b.x, y = _b.y;\n    return { positionX: x, positionY: y, scale: newScale };\n}\nfunction getOffset(element) {\n    var el = element;\n    var offsetLeft = 0;\n    var offsetTop = 0;\n    while (el) {\n        offsetLeft += el.offsetLeft;\n        offsetTop += el.offsetTop;\n        el = el.offsetParent;\n    }\n    return {\n        x: offsetLeft,\n        y: offsetTop,\n    };\n}\nfunction isValidZoomNode(node) {\n    if (!node) {\n        console.error(\"Zoom node not found\");\n        return false;\n    }\n    else if ((node === null || node === void 0 ? void 0 : node.offsetWidth) === undefined ||\n        (node === null || node === void 0 ? void 0 : node.offsetHeight) === undefined) {\n        console.error(\"Zoom node is not valid - it must contain offsetWidth and offsetHeight\");\n        return false;\n    }\n    return true;\n}\n\nvar zoomIn = function (contextInstance) { return function (step, animationTime, animationType) {\n    if (step === void 0) { step = 0.5; }\n    if (animationTime === void 0) { animationTime = 300; }\n    if (animationType === void 0) { animationType = \"easeOut\"; }\n    handleZoomToViewCenter(contextInstance, 1, step, animationTime, animationType);\n}; };\nvar zoomOut = function (contextInstance) { return function (step, animationTime, animationType) {\n    if (step === void 0) { step = 0.5; }\n    if (animationTime === void 0) { animationTime = 300; }\n    if (animationType === void 0) { animationType = \"easeOut\"; }\n    handleZoomToViewCenter(contextInstance, -1, step, animationTime, animationType);\n}; };\nvar setTransform = function (contextInstance) { return function (newPositionX, newPositionY, newScale, animationTime, animationType) {\n    if (animationTime === void 0) { animationTime = 300; }\n    if (animationType === void 0) { animationType = \"easeOut\"; }\n    var _a = contextInstance.transformState, positionX = _a.positionX, positionY = _a.positionY, scale = _a.scale;\n    var wrapperComponent = contextInstance.wrapperComponent, contentComponent = contextInstance.contentComponent;\n    var disabled = contextInstance.setup.disabled;\n    if (disabled || !wrapperComponent || !contentComponent)\n        return;\n    var targetState = {\n        positionX: isNaN(newPositionX) ? positionX : newPositionX,\n        positionY: isNaN(newPositionY) ? positionY : newPositionY,\n        scale: isNaN(newScale) ? scale : newScale,\n    };\n    animate(contextInstance, targetState, animationTime, animationType);\n}; };\nvar resetTransform = function (contextInstance) { return function (animationTime, animationType) {\n    if (animationTime === void 0) { animationTime = 200; }\n    if (animationType === void 0) { animationType = \"easeOut\"; }\n    resetTransformations(contextInstance, animationTime, animationType);\n}; };\nvar centerView = function (contextInstance) { return function (scale, animationTime, animationType) {\n    if (animationTime === void 0) { animationTime = 200; }\n    if (animationType === void 0) { animationType = \"easeOut\"; }\n    var transformState = contextInstance.transformState, wrapperComponent = contextInstance.wrapperComponent, contentComponent = contextInstance.contentComponent;\n    if (wrapperComponent && contentComponent) {\n        var targetState = getCenterPosition(scale || transformState.scale, wrapperComponent, contentComponent);\n        animate(contextInstance, targetState, animationTime, animationType);\n    }\n}; };\nvar zoomToElement = function (contextInstance) { return function (node, scale, animationTime, animationType) {\n    if (animationTime === void 0) { animationTime = 600; }\n    if (animationType === void 0) { animationType = \"easeOut\"; }\n    handleCancelAnimation(contextInstance);\n    var wrapperComponent = contextInstance.wrapperComponent;\n    var target = typeof node === \"string\" ? document.getElementById(node) : node;\n    if (wrapperComponent &&\n        isValidZoomNode(target) &&\n        target &&\n        wrapperComponent.contains(target)) {\n        var targetState = calculateZoomToNode(contextInstance, target, scale);\n        animate(contextInstance, targetState, animationTime, animationType);\n    }\n}; };\n\nvar getContext = function (contextInstance) {\n    return {\n        instance: contextInstance,\n        state: contextInstance.transformState,\n        zoomIn: zoomIn(contextInstance),\n        zoomOut: zoomOut(contextInstance),\n        setTransform: setTransform(contextInstance),\n        resetTransform: resetTransform(contextInstance),\n        centerView: centerView(contextInstance),\n        zoomToElement: zoomToElement(contextInstance),\n    };\n};\n\n// We want to make event listeners non-passive, and to do so have to check\n// that browsers support EventListenerOptions in the first place.\n// https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\nvar passiveSupported = false;\nfunction makePassiveEventOption() {\n    try {\n        var options = {\n            get passive() {\n                // This function will be called when the browser\n                //   attempts to access the passive property.\n                passiveSupported = true;\n                return false;\n            },\n        };\n        return options;\n    }\n    catch (err) {\n        passiveSupported = false;\n        return passiveSupported;\n    }\n}\n\nvar isExcludedNode = function (node, excluded) {\n    var targetTagName = node.tagName.toUpperCase();\n    var isExcludedTag = excluded.find(function (tag) { return tag.toUpperCase() === targetTagName; });\n    if (isExcludedTag)\n        return true;\n    var isExcludedClassName = excluded.find(function (className) {\n        return node.classList.contains(className);\n    });\n    if (isExcludedClassName)\n        return true;\n    return false;\n};\nvar cancelTimeout = function (timeout) {\n    if (timeout) {\n        clearTimeout(timeout);\n    }\n};\n\nvar getTransformStyles = function (x, y, scale) {\n    return \"translate3d(\" + x + \"px, \" + y + \"px, 0) scale(\" + scale + \")\";\n};\nvar getCenterPosition = function (scale, wrapperComponent, contentComponent) {\n    var contentWidth = contentComponent.offsetWidth * scale;\n    var contentHeight = contentComponent.offsetHeight * scale;\n    var centerPositionX = (wrapperComponent.offsetWidth - contentWidth) / 2;\n    var centerPositionY = (wrapperComponent.offsetHeight - contentHeight) / 2;\n    return {\n        scale: scale,\n        positionX: centerPositionX,\n        positionY: centerPositionY,\n    };\n};\n\nvar isWheelAllowed = function (contextInstance, event) {\n    var _a = contextInstance.setup.wheel, disabled = _a.disabled, wheelDisabled = _a.wheelDisabled, touchPadDisabled = _a.touchPadDisabled, excluded = _a.excluded;\n    var isInitialized = contextInstance.isInitialized, isPanning = contextInstance.isPanning;\n    var target = event.target;\n    var isAllowed = isInitialized && !isPanning && !disabled && target;\n    if (!isAllowed)\n        return false;\n    // Event ctrlKey detects if touchpad action is executing wheel or pinch gesture\n    if (wheelDisabled && !event.ctrlKey)\n        return false;\n    if (touchPadDisabled && event.ctrlKey)\n        return false;\n    var isExcluded = isExcludedNode(target, excluded);\n    if (isExcluded)\n        return false;\n    return true;\n};\nfunction getDelta(event, customDelta) {\n    var deltaY = event ? (event.deltaY < 0 ? 1 : -1) : 0;\n    var delta = checkIsNumber(customDelta, deltaY);\n    return delta;\n}\nfunction getMousePosition(event, contentComponent, scale) {\n    var contentRect = contentComponent.getBoundingClientRect();\n    var mouseX = 0;\n    var mouseY = 0;\n    if (\"clientX\" in event) {\n        // mouse position x, y over wrapper component\n        mouseX = (event.clientX - contentRect.left) / scale;\n        mouseY = (event.clientY - contentRect.top) / scale;\n    }\n    else {\n        var touch = event.touches[0];\n        mouseX = (touch.clientX - contentRect.left) / scale;\n        mouseY = (touch.clientY - contentRect.top) / scale;\n    }\n    if (isNaN(mouseX) || isNaN(mouseY))\n        console.error(\"No mouse or touch offset found\");\n    return {\n        x: mouseX,\n        y: mouseY,\n    };\n}\nvar handleCalculateWheelZoom = function (contextInstance, delta, step, disablePadding, getTarget) {\n    var scale = contextInstance.transformState.scale;\n    var wrapperComponent = contextInstance.wrapperComponent, setup = contextInstance.setup;\n    var maxScale = setup.maxScale, minScale = setup.minScale, zoomAnimation = setup.zoomAnimation;\n    var size = zoomAnimation.size, disabled = zoomAnimation.disabled;\n    if (!wrapperComponent) {\n        throw new Error(\"Wrapper is not mounted\");\n    }\n    var targetScale = scale + delta * (scale - scale * step) * step;\n    if (getTarget)\n        return targetScale;\n    var paddingEnabled = disablePadding ? false : !disabled;\n    var newScale = checkZoomBounds(roundNumber(targetScale, 3), minScale, maxScale, size, paddingEnabled);\n    return newScale;\n};\nvar handleWheelZoomStop = function (contextInstance, event) {\n    var previousWheelEvent = contextInstance.previousWheelEvent;\n    var scale = contextInstance.transformState.scale;\n    var _a = contextInstance.setup, maxScale = _a.maxScale, minScale = _a.minScale;\n    if (!previousWheelEvent)\n        return false;\n    if (scale < maxScale || scale > minScale)\n        return true;\n    if (Math.sign(previousWheelEvent.deltaY) !== Math.sign(event.deltaY))\n        return true;\n    if (previousWheelEvent.deltaY > 0 && previousWheelEvent.deltaY < event.deltaY)\n        return true;\n    if (previousWheelEvent.deltaY < 0 && previousWheelEvent.deltaY > event.deltaY)\n        return true;\n    if (Math.sign(previousWheelEvent.deltaY) !== Math.sign(event.deltaY))\n        return true;\n    return false;\n};\n\nvar isPinchStartAllowed = function (contextInstance, event) {\n    var _a = contextInstance.setup.pinch, disabled = _a.disabled, excluded = _a.excluded;\n    var isInitialized = contextInstance.isInitialized;\n    var target = event.target;\n    var isAllowed = isInitialized && !disabled && target;\n    if (!isAllowed)\n        return false;\n    var isExcluded = isExcludedNode(target, excluded);\n    if (isExcluded)\n        return false;\n    return true;\n};\nvar isPinchAllowed = function (contextInstance) {\n    var disabled = contextInstance.setup.pinch.disabled;\n    var isInitialized = contextInstance.isInitialized, pinchStartDistance = contextInstance.pinchStartDistance;\n    var isAllowed = isInitialized && !disabled && pinchStartDistance;\n    if (!isAllowed)\n        return false;\n    return true;\n};\nvar calculateTouchMidPoint = function (event, scale, contentComponent) {\n    var contentRect = contentComponent.getBoundingClientRect();\n    var touches = event.touches;\n    var firstPointX = roundNumber(touches[0].clientX - contentRect.left, 5);\n    var firstPointY = roundNumber(touches[0].clientY - contentRect.top, 5);\n    var secondPointX = roundNumber(touches[1].clientX - contentRect.left, 5);\n    var secondPointY = roundNumber(touches[1].clientY - contentRect.top, 5);\n    return {\n        x: (firstPointX + secondPointX) / 2 / scale,\n        y: (firstPointY + secondPointY) / 2 / scale,\n    };\n};\nvar getTouchDistance = function (event) {\n    return Math.sqrt(Math.pow(event.touches[0].pageX - event.touches[1].pageX, 2) +\n        Math.pow(event.touches[0].pageY - event.touches[1].pageY, 2));\n};\nvar calculatePinchZoom = function (contextInstance, currentDistance) {\n    var pinchStartScale = contextInstance.pinchStartScale, pinchStartDistance = contextInstance.pinchStartDistance, setup = contextInstance.setup;\n    var maxScale = setup.maxScale, minScale = setup.minScale, zoomAnimation = setup.zoomAnimation;\n    var size = zoomAnimation.size, disabled = zoomAnimation.disabled;\n    if (!pinchStartScale || pinchStartDistance === null || !currentDistance) {\n        throw new Error(\"Pinch touches distance was not provided\");\n    }\n    if (currentDistance < 0) {\n        return contextInstance.transformState.scale;\n    }\n    var touchProportion = currentDistance / pinchStartDistance;\n    var scaleDifference = touchProportion * pinchStartScale;\n    return checkZoomBounds(roundNumber(scaleDifference, 2), minScale, maxScale, size, !disabled);\n};\n\nvar wheelStopEventTime = 160;\nvar wheelAnimationTime = 100;\nvar handleWheelStart = function (contextInstance, event) {\n    var _a = contextInstance.props, onWheelStart = _a.onWheelStart, onZoomStart = _a.onZoomStart;\n    if (!contextInstance.wheelStopEventTimer) {\n        handleCancelAnimation(contextInstance);\n        handleCallback(getContext(contextInstance), event, onWheelStart);\n        handleCallback(getContext(contextInstance), event, onZoomStart);\n    }\n};\nvar handleWheelZoom = function (contextInstance, event) {\n    var _a = contextInstance.props, onWheel = _a.onWheel, onZoom = _a.onZoom;\n    var contentComponent = contextInstance.contentComponent, setup = contextInstance.setup, transformState = contextInstance.transformState;\n    var scale = transformState.scale;\n    var limitToBounds = setup.limitToBounds, centerZoomedOut = setup.centerZoomedOut, zoomAnimation = setup.zoomAnimation, wheel = setup.wheel;\n    var size = zoomAnimation.size, disabled = zoomAnimation.disabled;\n    var step = wheel.step;\n    if (!contentComponent) {\n        throw new Error(\"Component not mounted\");\n    }\n    event.preventDefault();\n    event.stopPropagation();\n    var delta = getDelta(event, null);\n    var newScale = handleCalculateWheelZoom(contextInstance, delta, step, !event.ctrlKey);\n    // if scale not change\n    if (scale === newScale)\n        return;\n    var bounds = handleCalculateBounds(contextInstance, newScale);\n    var mousePosition = getMousePosition(event, contentComponent, scale);\n    var isPaddingDisabled = disabled || size === 0 || centerZoomedOut;\n    var isLimitedToBounds = limitToBounds && isPaddingDisabled;\n    var _b = handleCalculateZoomPositions(contextInstance, mousePosition.x, mousePosition.y, newScale, bounds, isLimitedToBounds), x = _b.x, y = _b.y;\n    contextInstance.previousWheelEvent = event;\n    contextInstance.setTransformState(newScale, x, y);\n    handleCallback(getContext(contextInstance), event, onWheel);\n    handleCallback(getContext(contextInstance), event, onZoom);\n};\nvar handleWheelStop = function (contextInstance, event) {\n    var _a = contextInstance.props, onWheelStop = _a.onWheelStop, onZoomStop = _a.onZoomStop;\n    // fire animation\n    cancelTimeout(contextInstance.wheelAnimationTimer);\n    contextInstance.wheelAnimationTimer = setTimeout(function () {\n        if (!contextInstance.mounted)\n            return;\n        handleAlignToScaleBounds(contextInstance, event.x, event.y);\n        contextInstance.wheelAnimationTimer = null;\n    }, wheelAnimationTime);\n    // Wheel stop event\n    var hasStoppedZooming = handleWheelZoomStop(contextInstance, event);\n    if (hasStoppedZooming) {\n        cancelTimeout(contextInstance.wheelStopEventTimer);\n        contextInstance.wheelStopEventTimer = setTimeout(function () {\n            if (!contextInstance.mounted)\n                return;\n            contextInstance.wheelStopEventTimer = null;\n            handleCallback(getContext(contextInstance), event, onWheelStop);\n            handleCallback(getContext(contextInstance), event, onZoomStop);\n        }, wheelStopEventTime);\n    }\n};\n\nvar handlePinchStart = function (contextInstance, event) {\n    var distance = getTouchDistance(event);\n    contextInstance.pinchStartDistance = distance;\n    contextInstance.lastDistance = distance;\n    contextInstance.pinchStartScale = contextInstance.transformState.scale;\n    contextInstance.isPanning = false;\n    handleCancelAnimation(contextInstance);\n};\nvar handlePinchZoom = function (contextInstance, event) {\n    var contentComponent = contextInstance.contentComponent, pinchStartDistance = contextInstance.pinchStartDistance;\n    var scale = contextInstance.transformState.scale;\n    var _a = contextInstance.setup, limitToBounds = _a.limitToBounds, centerZoomedOut = _a.centerZoomedOut, zoomAnimation = _a.zoomAnimation;\n    var disabled = zoomAnimation.disabled, size = zoomAnimation.size;\n    // if one finger starts from outside of wrapper\n    if (pinchStartDistance === null || !contentComponent)\n        return;\n    var midPoint = calculateTouchMidPoint(event, scale, contentComponent);\n    // if touches goes off of the wrapper element\n    if (!isFinite(midPoint.x) || !isFinite(midPoint.y))\n        return;\n    var currentDistance = getTouchDistance(event);\n    var newScale = calculatePinchZoom(contextInstance, currentDistance);\n    if (newScale === scale)\n        return;\n    var bounds = handleCalculateBounds(contextInstance, newScale);\n    var isPaddingDisabled = disabled || size === 0 || centerZoomedOut;\n    var isLimitedToBounds = limitToBounds && isPaddingDisabled;\n    var _b = handleCalculateZoomPositions(contextInstance, midPoint.x, midPoint.y, newScale, bounds, isLimitedToBounds), x = _b.x, y = _b.y;\n    contextInstance.pinchMidpoint = midPoint;\n    contextInstance.lastDistance = currentDistance;\n    contextInstance.setTransformState(newScale, x, y);\n};\nvar handlePinchStop = function (contextInstance) {\n    var pinchMidpoint = contextInstance.pinchMidpoint;\n    contextInstance.velocity = null;\n    contextInstance.lastDistance = null;\n    contextInstance.pinchMidpoint = null;\n    contextInstance.pinchStartScale = null;\n    contextInstance.pinchStartDistance = null;\n    handleAlignToScaleBounds(contextInstance, pinchMidpoint === null || pinchMidpoint === void 0 ? void 0 : pinchMidpoint.x, pinchMidpoint === null || pinchMidpoint === void 0 ? void 0 : pinchMidpoint.y);\n};\n\nfunction handleDoubleClick(contextInstance, event) {\n    var _a = contextInstance.setup.doubleClick, disabled = _a.disabled, mode = _a.mode, step = _a.step, animationTime = _a.animationTime, animationType = _a.animationType;\n    if (disabled)\n        return;\n    if (mode === \"reset\") {\n        return resetTransformations(contextInstance, animationTime, animationType);\n    }\n    var scale = contextInstance.transformState.scale;\n    var contentComponent = contextInstance.contentComponent;\n    if (!contentComponent)\n        return console.error(\"No ContentComponent found\");\n    var delta = mode === \"zoomOut\" ? -1 : 1;\n    var newScale = handleCalculateButtonZoom(contextInstance, delta, step);\n    var mousePosition = getMousePosition(event, contentComponent, scale);\n    var targetState = handleZoomToPoint(contextInstance, newScale, mousePosition.x, mousePosition.y);\n    if (!targetState) {\n        return console.error(\"Error during zoom event. New transformation state was not calculated.\");\n    }\n    animate(contextInstance, targetState, animationTime, animationType);\n}\nvar isDoubleClickAllowed = function (contextInstance, event) {\n    var isInitialized = contextInstance.isInitialized, setup = contextInstance.setup, wrapperComponent = contextInstance.wrapperComponent;\n    var _a = setup.doubleClick, disabled = _a.disabled, excluded = _a.excluded;\n    var target = event.target;\n    var isWrapperChild = wrapperComponent === null || wrapperComponent === void 0 ? void 0 : wrapperComponent.contains(target);\n    var isAllowed = isInitialized && target && isWrapperChild && !disabled;\n    if (!isAllowed)\n        return false;\n    var isExcluded = isExcludedNode(target, excluded);\n    if (isExcluded)\n        return false;\n    if (!isAllowed)\n        return false;\n    return true;\n};\n\nvar Context = React.createContext(contextInitialState);\nvar TransformContext = /** @class */ (function (_super) {\n    __extends(TransformContext, _super);\n    function TransformContext() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.mounted = true;\n        _this.transformState = createState(_this.props);\n        _this.setup = createSetup(_this.props);\n        // Components\n        _this.wrapperComponent = null;\n        _this.contentComponent = null;\n        // Initialization\n        _this.isInitialized = false;\n        _this.bounds = null;\n        // wheel helpers\n        _this.previousWheelEvent = null;\n        _this.wheelStopEventTimer = null;\n        _this.wheelAnimationTimer = null;\n        // panning helpers\n        _this.isPanning = false;\n        _this.startCoords = null;\n        _this.lastTouch = null;\n        // pinch helpers\n        _this.distance = null;\n        _this.lastDistance = null;\n        _this.pinchStartDistance = null;\n        _this.pinchStartScale = null;\n        _this.pinchMidpoint = null;\n        // velocity helpers\n        _this.velocity = null;\n        _this.velocityTime = null;\n        _this.lastMousePosition = null;\n        // animations helpers\n        _this.animate = false;\n        _this.animation = null;\n        _this.maxBounds = null;\n        // key press\n        _this.pressedKeys = {};\n        _this.handleInitializeWrapperEvents = function (wrapper) {\n            // Zooming events on wrapper\n            var passive = makePassiveEventOption();\n            wrapper.addEventListener(\"wheel\", _this.onWheelZoom, passive);\n            wrapper.addEventListener(\"dblclick\", _this.onDoubleClick, passive);\n            wrapper.addEventListener(\"touchstart\", _this.onTouchPanningStart, passive);\n            wrapper.addEventListener(\"touchmove\", _this.onTouchPanning, passive);\n            wrapper.addEventListener(\"touchend\", _this.onTouchPanningStop, passive);\n        };\n        _this.handleInitialize = function () {\n            var centerOnInit = _this.setup.centerOnInit;\n            _this.applyTransformation();\n            _this.forceUpdate();\n            if (centerOnInit) {\n                // this has to be redone once the right solution is found\n                // problem is - we need to execute it after mounted component specify it's height / width, images are fetched async so it's tricky\n                setTimeout(function () {\n                    if (_this.mounted) {\n                        _this.setCenter();\n                    }\n                }, 50);\n                setTimeout(function () {\n                    if (_this.mounted) {\n                        _this.setCenter();\n                    }\n                }, 100);\n                setTimeout(function () {\n                    if (_this.mounted) {\n                        _this.setCenter();\n                    }\n                }, 200);\n            }\n        };\n        //////////\n        // Zoom\n        //////////\n        _this.onWheelZoom = function (event) {\n            var disabled = _this.setup.disabled;\n            if (disabled)\n                return;\n            var isAllowed = isWheelAllowed(_this, event);\n            if (!isAllowed)\n                return;\n            var keysPressed = _this.isPressingKeys(_this.setup.wheel.activationKeys);\n            if (!keysPressed)\n                return;\n            handleWheelStart(_this, event);\n            handleWheelZoom(_this, event);\n            handleWheelStop(_this, event);\n        };\n        //////////\n        // Pan\n        //////////\n        _this.onPanningStart = function (event) {\n            var disabled = _this.setup.disabled;\n            var onPanningStart = _this.props.onPanningStart;\n            if (disabled)\n                return;\n            var isAllowed = isPanningStartAllowed(_this, event);\n            if (!isAllowed)\n                return;\n            var keysPressed = _this.isPressingKeys(_this.setup.panning.activationKeys);\n            if (!keysPressed)\n                return;\n            event.preventDefault();\n            event.stopPropagation();\n            handleCancelAnimation(_this);\n            handlePanningStart(_this, event);\n            handleCallback(getContext(_this), event, onPanningStart);\n        };\n        _this.onPanning = function (event) {\n            var disabled = _this.setup.disabled;\n            var onPanning = _this.props.onPanning;\n            if (disabled)\n                return;\n            var isAllowed = isPanningAllowed(_this);\n            if (!isAllowed)\n                return;\n            var keysPressed = _this.isPressingKeys(_this.setup.panning.activationKeys);\n            if (!keysPressed)\n                return;\n            event.preventDefault();\n            event.stopPropagation();\n            handlePanning(_this, event.clientX, event.clientY);\n            handleCallback(getContext(_this), event, onPanning);\n        };\n        _this.onPanningStop = function (event) {\n            var onPanningStop = _this.props.onPanningStop;\n            if (_this.isPanning) {\n                handlePanningEnd(_this);\n                handleCallback(getContext(_this), event, onPanningStop);\n            }\n        };\n        //////////\n        // Pinch\n        //////////\n        _this.onPinchStart = function (event) {\n            var disabled = _this.setup.disabled;\n            var _a = _this.props, onPinchingStart = _a.onPinchingStart, onZoomStart = _a.onZoomStart;\n            if (disabled)\n                return;\n            var isAllowed = isPinchStartAllowed(_this, event);\n            if (!isAllowed)\n                return;\n            handlePinchStart(_this, event);\n            handleCancelAnimation(_this);\n            handleCallback(getContext(_this), event, onPinchingStart);\n            handleCallback(getContext(_this), event, onZoomStart);\n        };\n        _this.onPinch = function (event) {\n            var disabled = _this.setup.disabled;\n            var _a = _this.props, onPinching = _a.onPinching, onZoom = _a.onZoom;\n            if (disabled)\n                return;\n            var isAllowed = isPinchAllowed(_this);\n            if (!isAllowed)\n                return;\n            event.preventDefault();\n            event.stopPropagation();\n            handlePinchZoom(_this, event);\n            handleCallback(getContext(_this), event, onPinching);\n            handleCallback(getContext(_this), event, onZoom);\n        };\n        _this.onPinchStop = function (event) {\n            var _a = _this.props, onPinchingStop = _a.onPinchingStop, onZoomStop = _a.onZoomStop;\n            if (_this.pinchStartScale) {\n                handlePinchStop(_this);\n                handleCallback(getContext(_this), event, onPinchingStop);\n                handleCallback(getContext(_this), event, onZoomStop);\n            }\n        };\n        //////////\n        // Touch\n        //////////\n        _this.onTouchPanningStart = function (event) {\n            var disabled = _this.setup.disabled;\n            var onPanningStart = _this.props.onPanningStart;\n            if (disabled)\n                return;\n            var isAllowed = isPanningStartAllowed(_this, event);\n            if (!isAllowed)\n                return;\n            var isDoubleTap = _this.lastTouch && +new Date() - _this.lastTouch < 200;\n            if (isDoubleTap && event.touches.length === 1) {\n                _this.onDoubleClick(event);\n            }\n            else {\n                _this.lastTouch = +new Date();\n                handleCancelAnimation(_this);\n                var touches = event.touches;\n                var isPanningAction = touches.length === 1;\n                var isPinchAction = touches.length === 2;\n                if (isPanningAction) {\n                    handleCancelAnimation(_this);\n                    handlePanningStart(_this, event);\n                    handleCallback(getContext(_this), event, onPanningStart);\n                }\n                if (isPinchAction) {\n                    _this.onPinchStart(event);\n                }\n            }\n        };\n        _this.onTouchPanning = function (event) {\n            var disabled = _this.setup.disabled;\n            var onPanning = _this.props.onPanning;\n            if (_this.isPanning && event.touches.length === 1) {\n                if (disabled)\n                    return;\n                var isAllowed = isPanningAllowed(_this);\n                if (!isAllowed)\n                    return;\n                event.preventDefault();\n                event.stopPropagation();\n                var touch = event.touches[0];\n                handlePanning(_this, touch.clientX, touch.clientY);\n                handleCallback(getContext(_this), event, onPanning);\n            }\n            else if (event.touches.length > 1) {\n                _this.onPinch(event);\n            }\n        };\n        _this.onTouchPanningStop = function (event) {\n            _this.onPanningStop(event);\n            _this.onPinchStop(event);\n        };\n        //////////\n        // Double Click\n        //////////\n        _this.onDoubleClick = function (event) {\n            var disabled = _this.setup.disabled;\n            if (disabled)\n                return;\n            var isAllowed = isDoubleClickAllowed(_this, event);\n            if (!isAllowed)\n                return;\n            handleDoubleClick(_this, event);\n        };\n        //////////\n        // Helpers\n        //////////\n        _this.clearPanning = function (event) {\n            if (_this.isPanning) {\n                _this.onPanningStop(event);\n            }\n        };\n        _this.setKeyPressed = function (e) {\n            _this.pressedKeys[e.key] = true;\n        };\n        _this.setKeyUnPressed = function (e) {\n            _this.pressedKeys[e.key] = false;\n        };\n        _this.isPressingKeys = function (keys) {\n            if (!keys.length) {\n                return true;\n            }\n            return Boolean(keys.find(function (key) { return _this.pressedKeys[key]; }));\n        };\n        _this.setComponents = function (wrapperComponent, contentComponent) {\n            _this.wrapperComponent = wrapperComponent;\n            _this.contentComponent = contentComponent;\n            handleCalculateBounds(_this, _this.transformState.scale);\n            _this.handleInitializeWrapperEvents(wrapperComponent);\n            _this.handleInitialize();\n            _this.handleRef();\n            _this.isInitialized = true;\n            handleCallback(getContext(_this), undefined, _this.props.onInit);\n        };\n        _this.setTransformState = function (scale, positionX, positionY) {\n            if (!isNaN(scale) && !isNaN(positionX) && !isNaN(positionY)) {\n                if (scale !== _this.transformState.scale) {\n                    _this.transformState.previousScale = _this.transformState.scale;\n                    _this.transformState.scale = scale;\n                }\n                _this.transformState.positionX = positionX;\n                _this.transformState.positionY = positionY;\n                _this.applyTransformation();\n            }\n            else {\n                console.error(\"Detected NaN set state values\");\n            }\n        };\n        _this.setCenter = function () {\n            if (_this.wrapperComponent && _this.contentComponent) {\n                var targetState = getCenterPosition(_this.transformState.scale, _this.wrapperComponent, _this.contentComponent);\n                _this.setTransformState(targetState.scale, targetState.positionX, targetState.positionY);\n            }\n        };\n        _this.applyTransformation = function () {\n            if (!_this.mounted || !_this.contentComponent)\n                return;\n            var _a = _this.transformState, scale = _a.scale, positionX = _a.positionX, positionY = _a.positionY;\n            var transform = getTransformStyles(positionX, positionY, scale);\n            _this.contentComponent.style.transform = transform;\n            _this.handleRef();\n        };\n        _this.handleRef = function () {\n            _this.props.setRef(getContext(_this));\n        };\n        return _this;\n    }\n    TransformContext.prototype.componentDidMount = function () {\n        var passive = makePassiveEventOption();\n        // Panning on window to allow panning when mouse is out of component wrapper\n        window.addEventListener(\"mousedown\", this.onPanningStart, passive);\n        window.addEventListener(\"mousemove\", this.onPanning, passive);\n        window.addEventListener(\"mouseup\", this.onPanningStop, passive);\n        document.addEventListener(\"mouseleave\", this.clearPanning, passive);\n        window.addEventListener(\"keyup\", this.setKeyUnPressed, passive);\n        window.addEventListener(\"keydown\", this.setKeyPressed, passive);\n        this.handleRef();\n    };\n    TransformContext.prototype.componentWillUnmount = function () {\n        var passive = makePassiveEventOption();\n        window.removeEventListener(\"mousedown\", this.onPanningStart, passive);\n        window.removeEventListener(\"mousemove\", this.onPanning, passive);\n        window.removeEventListener(\"mouseup\", this.onPanningStop, passive);\n        window.removeEventListener(\"keyup\", this.setKeyUnPressed, passive);\n        window.removeEventListener(\"keydown\", this.setKeyPressed, passive);\n        handleCancelAnimation(this);\n    };\n    TransformContext.prototype.componentDidUpdate = function (oldProps) {\n        if (oldProps !== this.props) {\n            handleCalculateBounds(this, this.transformState.scale);\n            this.setup = createSetup(this.props);\n        }\n    };\n    TransformContext.prototype.render = function () {\n        var value = getContext(this);\n        var children = this.props.children;\n        var content = typeof children === \"function\" ? children(value) : children;\n        return (React.createElement(Context.Provider, { value: __assign(__assign({}, this.transformState), { setComponents: this.setComponents, contextInstance: this }) }, content));\n    };\n    return TransformContext;\n}(Component));\n\nvar TransformWrapper = React.forwardRef(function (props, ref) {\n    var _a = useState(null), innerRef = _a[0], setRef = _a[1];\n    useImperativeHandle(ref, function () { return innerRef; }, [innerRef]);\n    return React.createElement(TransformContext, __assign({}, props, { setRef: setRef }));\n});\n\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \".transform-component-module_wrapper__1_Fgj {\\n  position: relative;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n  height: -moz-fit-content;\\n  height: fit-content;\\n  overflow: hidden;\\n  -webkit-touch-callout: none; /* iOS Safari */\\n  -webkit-user-select: none; /* Safari */\\n  -khtml-user-select: none; /* Konqueror HTML */\\n  -moz-user-select: none; /* Firefox */\\n  -ms-user-select: none; /* Internet Explorer/Edge */\\n  user-select: none;\\n  margin: 0;\\n  padding: 0;\\n}\\n.transform-component-module_content__2jYgh {\\n  display: flex;\\n  flex-wrap: wrap;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n  height: -moz-fit-content;\\n  height: fit-content;\\n  margin: 0;\\n  padding: 0;\\n  transform-origin: 0% 0%;\\n}\\n.transform-component-module_content__2jYgh img {\\n  pointer-events: none;\\n}\\n\";\nvar styles = {\"wrapper\":\"transform-component-module_wrapper__1_Fgj\",\"content\":\"transform-component-module_content__2jYgh\"};\nstyleInject(css_248z);\n\nvar TransformComponent = function (_a) {\n    var children = _a.children, _b = _a.wrapperClass, wrapperClass = _b === void 0 ? \"\" : _b, _c = _a.contentClass, contentClass = _c === void 0 ? \"\" : _c, wrapperStyle = _a.wrapperStyle, contentStyle = _a.contentStyle;\n    var setComponents = useContext(Context).setComponents;\n    var wrapperRef = useRef(null);\n    var contentRef = useRef(null);\n    useEffect(function () {\n        var wrapper = wrapperRef.current;\n        var content = contentRef.current;\n        if (wrapper !== null && content !== null && setComponents) {\n            setComponents(wrapper, content);\n        }\n    }, []);\n    return (React.createElement(\"div\", { ref: wrapperRef, className: \"react-transform-wrapper \" + styles.wrapper + \" \" + wrapperClass, style: wrapperStyle },\n        React.createElement(\"div\", { ref: contentRef, className: \"react-transform-component \" + styles.content + \" \" + contentClass, style: contentStyle }, children)));\n};\n\nvar useTransformContext = function () {\n    var libraryContext = useContext(Context);\n    if (!libraryContext.contextInstance) {\n        throw new Error(\"Transform context mus be placed inside TransformWrapper\");\n    }\n    return getContext(libraryContext.contextInstance);\n};\n\nexport { TransformComponent, TransformWrapper, useTransformContext };\n//# sourceMappingURL=index.esm.js.map\n","import { faCompress } from \"@fortawesome/free-solid-svg-icons/faCompress\"\nimport { faDownload } from \"@fortawesome/free-solid-svg-icons/faDownload\"\nimport { faPlus } from \"@fortawesome/free-solid-svg-icons/faPlus\"\nimport { faSearchMinus } from \"@fortawesome/free-solid-svg-icons/faSearchMinus\"\nimport { faSearchPlus } from \"@fortawesome/free-solid-svg-icons/faSearchPlus\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome/index.js\"\nimport { LoadingIndicator } from \"@ourworldindata/grapher\"\nimport cx from \"classnames\"\nimport React, { useEffect, useRef, useState } from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { TransformComponent, TransformWrapper } from \"react-zoom-pan-pinch\"\nimport { useTriggerOnEscape } from \"./hooks.js\"\n\nexport const LIGHTBOX_IMAGE_CLASS = \"lightbox-image\"\n\nconst Lightbox = ({\n    children,\n    containerNode,\n    imgSrc,\n}: {\n    children: any\n    containerNode: Element | null\n    imgSrc: string\n}) => {\n    const [isLoaded, setIsLoaded] = useState(false)\n    const contentRef = useRef<HTMLDivElement>(null)\n\n    const close = () => {\n        if (containerNode) {\n            ReactDOM.unmountComponentAtNode(containerNode)\n        }\n    }\n\n    useTriggerOnEscape(close)\n\n    return (\n        <div className=\"container\">\n            {!isLoaded && (\n                <LoadingIndicator backgroundColor=\"#000\" color=\"#ccc\" />\n            )}\n            <TransformWrapper doubleClick={{ mode: \"reset\" }}>\n                {({ zoomIn, zoomOut, resetTransform }) => (\n                    <>\n                        <div\n                            className=\"content\"\n                            ref={contentRef}\n                            onClick={(e) => {\n                                if (e.target === contentRef.current) {\n                                    close()\n                                }\n                            }}\n                        >\n                            <TransformComponent>\n                                {children(isLoaded, setIsLoaded)}\n                            </TransformComponent>\n                        </div>\n                        <div className=\"tools\">\n                            {isLoaded && (\n                                <>\n                                    <button\n                                        aria-label=\"Zoom in\"\n                                        onClick={() => zoomIn()}\n                                    >\n                                        <FontAwesomeIcon icon={faSearchPlus} />\n                                    </button>\n                                    <button\n                                        aria-label=\"Zoom out\"\n                                        onClick={() => zoomOut()}\n                                    >\n                                        <FontAwesomeIcon icon={faSearchMinus} />\n                                    </button>\n                                    <button\n                                        aria-label=\"Reset zoom\"\n                                        onClick={() => resetTransform()}\n                                    >\n                                        <FontAwesomeIcon icon={faCompress} />\n                                    </button>\n                                    <a\n                                        href={imgSrc}\n                                        download={imgSrc.split(\"/\").pop()}\n                                        aria-label=\"Download high resolution image\"\n                                    >\n                                        <FontAwesomeIcon icon={faDownload} />\n                                    </a>\n                                </>\n                            )}\n                            <button\n                                aria-label=\"Close\"\n                                onClick={close}\n                                className=\"close\"\n                            >\n                                <FontAwesomeIcon icon={faPlus} />\n                            </button>\n                        </div>\n                    </>\n                )}\n            </TransformWrapper>\n        </div>\n    )\n}\n\nconst Image = ({\n    src,\n    alt,\n    isLoaded,\n    setIsLoaded,\n}: {\n    src: string\n    alt: string\n    isLoaded: boolean\n    setIsLoaded: any\n}) => {\n    return (\n        <>\n            <img\n                onLoad={() => {\n                    setIsLoaded(true)\n                }}\n                className={cx({\n                    \"lightbox__img--is-svg\": src.endsWith(\".svg\"),\n                })}\n                src={src}\n                alt={alt}\n                style={{ opacity: !isLoaded ? 0 : 1, transition: \"opacity 1s\" }}\n            />\n        </>\n    )\n}\n\nexport const runLightbox = () => {\n    let lightboxContainer = document.querySelector(\".lightbox\")\n    if (!lightboxContainer) {\n        lightboxContainer = document.createElement(\"div\")\n        lightboxContainer.classList.add(\"lightbox\")\n        document.body.appendChild(lightboxContainer)\n    }\n    Array.from(\n        document.querySelectorAll<HTMLImageElement>(\n            `.article-content img, .${LIGHTBOX_IMAGE_CLASS}`\n        )\n    ).forEach((img) => {\n        if (img.closest(\"[data-no-lightbox]\")) return\n\n        img.classList.add(\"lightbox-enabled\")\n        img.addEventListener(\"click\", () => {\n            const imgSrc = img.getAttribute(\"data-high-res-src\") ?? img.src\n            const imgAlt = img.alt\n            if (imgSrc) {\n                ReactDOM.render(\n                    <Lightbox imgSrc={imgSrc} containerNode={lightboxContainer}>\n                        {(isLoaded: boolean, setIsLoaded: any) => (\n                            <Image\n                                src={imgSrc}\n                                alt={imgAlt}\n                                isLoaded={isLoaded}\n                                setIsLoaded={setIsLoaded}\n                            />\n                        )}\n                    </Lightbox>,\n                    lightboxContainer\n                )\n            }\n        })\n    })\n}\n","import React, { useContext } from \"react\"\nimport {\n    EnrichedBlockImage,\n    getSizes,\n    generateSrcSet,\n} from \"@ourworldindata/utils\"\nimport { LIGHTBOX_IMAGE_CLASS } from \"../Lightbox.js\"\nimport cx from \"classnames\"\nimport {\n    IMAGE_HOSTING_BUCKET_SUBFOLDER_PATH,\n    IMAGE_HOSTING_CDN_URL,\n} from \"../../settings/clientSettings.js\"\nimport { ArticleContext } from \"./OwidArticle.js\"\nimport { Container } from \"./ArticleBlock.js\"\n\n// generates rules that tell the browser:\n// below the medium breakpoint, the image will be 95vw wide\n// above that breakpoint, the image will be (at maximum) some fraction of 1280px\nconst generateResponsiveSizes = (numberOfColumns: number): string =>\n    `(max-width: 960px) 95vw, (min-width: 960px) ${Math.floor(\n        1280 * (numberOfColumns / 12)\n    )}px`\n\nconst gridSpan5 = generateResponsiveSizes(5)\nconst gridSpan6 = generateResponsiveSizes(6)\nconst gridSpan7 = generateResponsiveSizes(7)\n\ntype ImageParentContainer = Container | \"thumbnail\"\n\nconst containerSizes: Record<ImageParentContainer, string> = {\n    [\"default\"]: gridSpan6,\n    [\"sticky-right-left-column\"]: gridSpan5,\n    [\"sticky-right-right-column\"]: gridSpan7,\n    [\"sticky-left-left-column\"]: gridSpan7,\n    [\"sticky-left-right-column\"]: gridSpan5,\n    [\"side-by-side\"]: gridSpan6,\n    [\"summary\"]: gridSpan6,\n    // not used, just an example of how you can add additional rules when the image size is fixed\n    [\"thumbnail\"]: \"350px\",\n}\n\nexport default function Image({\n    d,\n    className = \"\",\n    containerType = \"default\",\n}: {\n    d: EnrichedBlockImage\n    className?: string\n    containerType?: ImageParentContainer\n}) {\n    const articleContext = useContext(ArticleContext)\n    if (articleContext.isPreviewing) {\n        return (\n            <img\n                src={`${IMAGE_HOSTING_CDN_URL}/${IMAGE_HOSTING_BUCKET_SUBFOLDER_PATH}/${d.filename}`}\n                alt={d.alt}\n                className={cx(LIGHTBOX_IMAGE_CLASS, className, \"lazyload\")}\n            />\n        )\n    }\n\n    if (d.filename.endsWith(\".svg\")) {\n        return (\n            <img\n                src={`/images/published/${d.filename}`}\n                alt={d.alt}\n                className={cx(LIGHTBOX_IMAGE_CLASS, className)}\n            />\n        )\n    }\n\n    const sizes = getSizes(d.originalWidth!) as number[]\n    const srcSet = generateSrcSet(sizes!, d.filename)\n\n    return (\n        <picture className={className}>\n            <source\n                srcSet={srcSet}\n                type=\"image/webp\"\n                sizes={containerSizes[containerType] ?? containerSizes.default}\n            />\n            <img\n                src={`/images/published/${d.filename}`}\n                alt={d.alt}\n                className={LIGHTBOX_IMAGE_CLASS}\n            />\n        </picture>\n    )\n}\n","import React from \"react\"\nimport { EnrichedBlockSDGGrid } from \"@ourworldindata/utils\"\nimport cx from \"classnames\"\n\nexport default function SDGGrid({\n    d,\n    className = \"\",\n}: {\n    d: EnrichedBlockSDGGrid\n    className?: string\n}) {\n    return (\n        <ul className={cx(\"sdg-grid\", className)}>\n            {d.items.map((tile: { goal: string; link: string }, i: number) => {\n                return (\n                    <SDGTile\n                        key={i}\n                        number={i + 1}\n                        goal={tile.goal}\n                        link={tile.link}\n                    />\n                )\n            })}\n        </ul>\n    )\n}\n\nconst SDGTile = ({\n    number,\n    goal,\n    link,\n}: {\n    number: number\n    goal: string\n    link: string\n}) => {\n    return (\n        <li\n            className=\"span-cols-2 span-lg-cols-4 span-sm-cols-8 col-sm-start-3\"\n            style={\n                {\n                    \"--sdg-color\": `var(--sdg-color-${number})`,\n                } as React.CSSProperties\n            }\n            key={number}\n        >\n            <a href={link}>\n                <span className=\"display-1-semibold number\">{number}</span>\n                <span className=\"h3-bold goal\">{goal}</span>\n            </a>\n        </li>\n    )\n}\n","import _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport * as React from 'react';\n\nvar changedArray = function changedArray(a, b) {\n  if (a === void 0) {\n    a = [];\n  }\n\n  if (b === void 0) {\n    b = [];\n  }\n\n  return a.length !== b.length || a.some(function (item, index) {\n    return !Object.is(item, b[index]);\n  });\n};\n\nvar initialState = {\n  error: null\n};\n\nvar ErrorBoundary = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(ErrorBoundary, _React$Component);\n\n  function ErrorBoundary() {\n    var _this;\n\n    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\n      _args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(_args)) || this;\n    _this.state = initialState;\n\n    _this.resetErrorBoundary = function () {\n      var _this$props;\n\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      _this.props.onReset == null ? void 0 : (_this$props = _this.props).onReset.apply(_this$props, args);\n\n      _this.reset();\n    };\n\n    return _this;\n  }\n\n  ErrorBoundary.getDerivedStateFromError = function getDerivedStateFromError(error) {\n    return {\n      error: error\n    };\n  };\n\n  var _proto = ErrorBoundary.prototype;\n\n  _proto.reset = function reset() {\n    this.setState(initialState);\n  };\n\n  _proto.componentDidCatch = function componentDidCatch(error, info) {\n    var _this$props$onError, _this$props2;\n\n    (_this$props$onError = (_this$props2 = this.props).onError) == null ? void 0 : _this$props$onError.call(_this$props2, error, info);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    var error = this.state.error;\n    var resetKeys = this.props.resetKeys; // There's an edge case where if the thing that triggered the error\n    // happens to *also* be in the resetKeys array, we'd end up resetting\n    // the error boundary immediately. This would likely trigger a second\n    // error to be thrown.\n    // So we make sure that we don't check the resetKeys on the first call\n    // of cDU after the error is set\n\n    if (error !== null && prevState.error !== null && changedArray(prevProps.resetKeys, resetKeys)) {\n      var _this$props$onResetKe, _this$props3;\n\n      (_this$props$onResetKe = (_this$props3 = this.props).onResetKeysChange) == null ? void 0 : _this$props$onResetKe.call(_this$props3, prevProps.resetKeys, resetKeys);\n      this.reset();\n    }\n  };\n\n  _proto.render = function render() {\n    var error = this.state.error;\n    var _this$props4 = this.props,\n        fallbackRender = _this$props4.fallbackRender,\n        FallbackComponent = _this$props4.FallbackComponent,\n        fallback = _this$props4.fallback;\n\n    if (error !== null) {\n      var _props = {\n        error: error,\n        resetErrorBoundary: this.resetErrorBoundary\n      };\n\n      if ( /*#__PURE__*/React.isValidElement(fallback)) {\n        return fallback;\n      } else if (typeof fallbackRender === 'function') {\n        return fallbackRender(_props);\n      } else if (FallbackComponent) {\n        return /*#__PURE__*/React.createElement(FallbackComponent, _props);\n      } else {\n        throw new Error('react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop');\n      }\n    }\n\n    return this.props.children;\n  };\n\n  return ErrorBoundary;\n}(React.Component);\n\nfunction withErrorBoundary(Component, errorBoundaryProps) {\n  var Wrapped = function Wrapped(props) {\n    return /*#__PURE__*/React.createElement(ErrorBoundary, errorBoundaryProps, /*#__PURE__*/React.createElement(Component, props));\n  }; // Format for display in DevTools\n\n\n  var name = Component.displayName || Component.name || 'Unknown';\n  Wrapped.displayName = \"withErrorBoundary(\" + name + \")\";\n  return Wrapped;\n}\n\nfunction useErrorHandler(givenError) {\n  var _React$useState = React.useState(null),\n      error = _React$useState[0],\n      setError = _React$useState[1];\n\n  if (givenError != null) throw givenError;\n  if (error != null) throw error;\n  return setError;\n}\n/*\neslint\n  @typescript-eslint/sort-type-union-intersection-members: \"off\",\n  @typescript-eslint/no-throw-literal: \"off\",\n  @typescript-eslint/prefer-nullish-coalescing: \"off\"\n*/\n\nexport { ErrorBoundary, useErrorHandler, withErrorBoundary };\n","import React, { createContext } from \"react\"\n\nconst DebugContext = createContext<boolean | undefined>(undefined)\n\nexport const DebugProvider = ({\n    children,\n    debug = false,\n}: {\n    children: React.ReactNode\n    debug?: boolean\n}) => {\n    return (\n        <DebugContext.Provider value={debug}>{children}</DebugContext.Provider>\n    )\n}\n\nexport const useDebug = () => {\n    const context = React.useContext(DebugContext)\n\n    if (context === undefined) {\n        throw new Error(\"useDebug must be used within a DebugProvider\")\n    }\n    return context\n}\n","import React from \"react\"\nimport { ErrorBoundary } from \"react-error-boundary\"\nimport { useDebug } from \"./DebugContext.js\"\n\nexport const BlockErrorBoundary = ({\n    children,\n    className,\n}: {\n    children: React.ReactNode\n    className: string\n}) => {\n    return (\n        <ErrorBoundary\n            FallbackComponent={(props) => (\n                <BlockErrorFallback {...props} className={className} />\n            )}\n        >\n            {children}\n        </ErrorBoundary>\n    )\n}\n\nexport const BlockErrorFallback = ({\n    error,\n    resetErrorBoundary,\n    className,\n}: {\n    error: Error\n    resetErrorBoundary?: VoidFunction\n    className: string\n}): JSX.Element => {\n    const debug = useDebug()\n    return (\n        <div\n            className={className}\n            style={{\n                textAlign: \"center\",\n                backgroundColor: \"rgba(255,0,0,0.1)\",\n                padding: \"20px\",\n                marginTop: \"20px\",\n                marginBottom: \"20px\",\n            }}\n        >\n            <h3 style={{ margin: 0 }}>{error.name}</h3>\n            {debug ? (\n                <>\n                    <div>{error.message}</div>\n                    {resetErrorBoundary ? (\n                        <div>\n                            <button\n                                style={{ margin: \"10px\" }}\n                                onClick={resetErrorBoundary}\n                            >\n                                Try again\n                            </button>\n                        </div>\n                    ) : null}\n                </>\n            ) : null}\n        </div>\n    )\n}\n","import { EnrichedBlockText, Span } from \"@ourworldindata/utils\"\nimport React from \"react\"\nimport { renderSpans } from \"./utils.js\"\n\nfunction isOnlyEmptySpans(spans: Span[]) {\n    return spans.every((span) => {\n        const isNewline = span.spanType === \"span-newline\"\n        const isSimpleText = span.spanType === \"span-simple-text\"\n        const isEmptySimpleText = isSimpleText && span.text === \"\"\n        return isNewline || isEmptySimpleText\n    })\n}\n\nexport default function Paragraph({\n    d,\n    className = \"\",\n}: {\n    d: EnrichedBlockText\n    className?: string\n}) {\n    if (isOnlyEmptySpans(d.value)) {\n        return null\n    }\n    return <p className={className}>{renderSpans(d.value)}</p>\n}\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar prefix = 'fas';\nvar iconName = 'arrow-down';\nvar width = 384;\nvar height = 512;\nvar aliases = [8595];\nvar unicode = 'f063';\nvar svgPathData = 'M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z';\n\nexports.definition = {\n  prefix: prefix,\n  iconName: iconName,\n  icon: [\n    width,\n    height,\n    aliases,\n    unicode,\n    svgPathData\n  ]};\n\nexports.faArrowDown = exports.definition;\nexports.prefix = prefix;\nexports.iconName = iconName;\nexports.width = width;\nexports.height = height;\nexports.ligatures = aliases;\nexports.unicode = unicode;\nexports.svgPathData = svgPathData;\nexports.aliases = aliases;","import React, { useState } from \"react\"\nimport { TocHeadingWithTitleSupertitle } from \"@ourworldindata/utils\"\nimport { faArrowDown } from \"@fortawesome/free-solid-svg-icons/faArrowDown\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome/index.js\"\nimport { faPlus } from \"@fortawesome/free-solid-svg-icons/faPlus\"\nimport { faMinus } from \"@fortawesome/free-solid-svg-icons/faMinus\"\nimport cx from \"classnames\"\nimport AnimateHeight from \"react-animate-height\"\n\n// See ARIA roles: https://w3c.github.io/aria-practices/examples/menu-button/menu-button-links.html\n\nexport default function SDGTableOfContents({\n    toc,\n    className = \"\",\n}: {\n    toc: TocHeadingWithTitleSupertitle[]\n    className?: string\n}) {\n    const [height, setHeight] = useState<\"auto\" | 0>(0)\n    const [isOpen, setIsOpen] = useState(false)\n\n    const toggleIsOpen = () => {\n        setHeight(height === 0 ? \"auto\" : 0)\n    }\n\n    return (\n        <nav\n            className={cx(className, \"sdg-toc\", { open: isOpen })}\n            role=\"button\"\n            onClick={toggleIsOpen}\n            aria-haspopup=\"true\"\n            aria-controls=\"sdg-toc-menu\"\n            data-track-note=\"sdg-toc-toggle\"\n        >\n            <button\n                id=\"sdg-toc-menu-button\"\n                className=\"sdg-toc-toggle span-cols-6 span-md-cols-8 span-sm-cols-10\"\n                onClick={toggleIsOpen}\n                aria-haspopup=\"true\"\n                aria-controls=\"sdg-toc-menu\"\n                data-track-note=\"sdg-toc-toggle\"\n            >\n                <span>List of targets and indicators</span>\n                <span>\n                    <FontAwesomeIcon icon={isOpen ? faMinus : faPlus} />\n                </span>\n            </button>\n            <AnimateHeight\n                className=\"sdg-toc-content span-cols-6 span-md-cols-8 span-sm-cols-10\"\n                height={height}\n                onHeightAnimationStart={(newHeight) => {\n                    if (newHeight != 0) setIsOpen(true)\n                }}\n                onHeightAnimationEnd={(newHeight) => {\n                    if (newHeight === 0) setIsOpen(false)\n                }}\n                animateOpacity\n            >\n                <ul\n                    id=\"sdg-toc-menu\"\n                    role=\"menu\"\n                    aria-labelledby=\"sdg-toc-menu-button\"\n                >\n                    {toc.map(\n                        (\n                            { title, supertitle, isSubheading, slug },\n                            i: number\n                        ) => (\n                            <li\n                                key={i}\n                                className={\n                                    isSubheading ? \"subsection\" : \"section\"\n                                }\n                                role=\"none\"\n                            >\n                                <a\n                                    href={`#${slug}`}\n                                    data-track-note=\"sdg-toc-link\"\n                                    role=\"menuitem\"\n                                    onClick={(e) => e.stopPropagation()}\n                                >\n                                    {supertitle ? (\n                                        <span className=\"supertitle\">\n                                            {supertitle}\n                                        </span>\n                                    ) : null}\n                                    {title}\n                                </a>\n                                {!isSubheading && (\n                                    <FontAwesomeIcon icon={faArrowDown} />\n                                )}\n                            </li>\n                        )\n                    )}\n                </ul>\n            </AnimateHeight>\n        </nav>\n    )\n}\n","const LOWERCASE_TRANSFORMER = function (fragments, separator) {\n  return fragments.join(separator).toLowerCase()\n};\n\nconst SENTENCECASE_TRANSFORMER = function (fragments, separator) {\n  const sentence = fragments.join(separator);\n  return sentence.charAt(0).toUpperCase() + sentence.slice(1).toLowerCase()\n};\n\nconst TITLECASE_TRANSFORMER = function (fragments, separator) {\n  const buffer = [];\n  for (let index = 0; index < fragments.length; index++) {\n    buffer.push(\n      fragments[index].charAt(0).toUpperCase() +\n      fragments[index].slice(1).toLowerCase()\n    );\n  }\n  return buffer.join(separator)\n};\n\nconst UPPERCASE_TRANSFORMER = function (fragments, separator) {\n  return fragments.join(separator).toUpperCase()\n};\n\nconst INVALID_SEPARATOR = /[^-._~!$&'()*+,;=]/;\n\nconst CAMELCASE_REGEXP_PATTERN = '(?:[a-z](?=[A-Z])|[A-Z](?=[A-Z][a-z]))';\n\nfunction validate (options, extra) {\n  const camelCase = options.camelCase;\n\n  if (camelCase !== undefined && typeof camelCase !== 'boolean') {\n    throw new Error('camelCase must be a boolean: \"' + camelCase + '\".')\n  }\n\n  const separator = options.separator;\n  extra = extra || {};\n\n  if (\n    separator !== undefined &&\n    !('separator' in extra && separator === extra.separator)\n  ) {\n    if (typeof separator !== 'string') {\n      throw new Error(\n        'separator must be a string' +\n        ('separator' in extra ? ' or ' + extra.separator : '') + ': \"' +\n        separator + '\".'\n      )\n    } else if (INVALID_SEPARATOR.test(separator)) {\n      throw new Error(\n        'separator has an invalid character: \"' +\n        separator.match(INVALID_SEPARATOR)[0] + '\".'\n      )\n    }\n  }\n\n  const transformer = options.transformer;\n\n  if (\n    transformer !== undefined &&\n    transformer !== false &&\n    typeof transformer !== 'function'\n  ) {\n    throw new Error(\n      'transformer must be false or a function: \"' +\n      transformer + '\".'\n    )\n  }\n}\n\nfunction replace (string, definitions) {\n  for (let index = 0, length = string.length; index < length; index++) {\n    const char = string[index];\n    const replacement = definitions[char];\n\n    if (replacement !== undefined) {\n      string = string.substr(0, index) +\n        replacement +\n        string.substr(index + 1);\n\n      const addedCharsCount = String(replacement).length - 1;\n\n      index += addedCharsCount;\n      length += addedCharsCount;\n    }\n  }\n\n  return string\n}\n\n// eslint-disable-next-line no-misleading-character-class\nconst COMBINING_CHARS = /[\\u0300-\\u036F\\u1AB0-\\u1AFF\\u1DC0-\\u1DFF]+/g;\n\nconst CONVERT = /[A-Za-z\\d]+/g;\n\nconst CONVERT_CAMELCASE = new RegExp(\n  '[A-Za-z\\\\d]*?' + CAMELCASE_REGEXP_PATTERN + '|[A-Za-z\\\\d]+',\n  'g'\n);\n\nfunction convert (string, options) {\n  options = options || {};\n\n  if (process.env.NODE_ENV !== 'production') {\n    validate(options);\n  }\n\n  const camelCase = options.camelCase !== undefined\n    ? options.camelCase\n    : true;\n\n  const separator = options.separator !== undefined\n    ? options.separator\n    : '-';\n\n  const transformer = options.transformer !== undefined\n    ? options.transformer\n    : LOWERCASE_TRANSFORMER;\n\n  const fragments = (\n    options.dictionary\n      ? replace(String(string), options.dictionary)\n      : String(string)\n  )\n    .normalize('NFKD')\n    .replace(COMBINING_CHARS, '')\n    .match(camelCase ? CONVERT_CAMELCASE : CONVERT);\n\n  if (!fragments) {\n    return ''\n  }\n\n  return transformer\n    ? transformer(fragments, separator)\n    : fragments.join(separator)\n}\n\nconst REVERT = /[^-._~!$&'()*+,;=]+/g;\n\nconst REVERT_CAMELCASE = new RegExp(\n  '[^-._~!$&\\'()*+,;=]*?' + CAMELCASE_REGEXP_PATTERN + '|[^-._~!$&\\'()*+,;=]+',\n  'g'\n);\n\nconst REVERT_CAMELCASE_ONLY = new RegExp(\n  '.*?' + CAMELCASE_REGEXP_PATTERN + '|.+',\n  'g'\n);\n\nfunction revert (slug, options) {\n  options = options || {};\n\n  if (process.env.NODE_ENV !== 'production') {\n    validate(options, { separator: null });\n  }\n\n  const camelCase = options.camelCase !== undefined\n    ? options.camelCase\n    : false;\n\n  const separator = options.separator;\n\n  const transformer = options.transformer !== undefined\n    ? options.transformer\n    : false;\n\n  let fragments;\n  slug = String(slug);\n\n  /* Determine which method will be used split the slug */\n\n  if (separator === '') {\n    fragments = camelCase ? slug.match(REVERT_CAMELCASE_ONLY) : [String(slug)];\n  } else if (typeof separator === 'string') {\n    fragments = slug.split(separator);\n  } else {\n    fragments = slug.match(camelCase ? REVERT_CAMELCASE : REVERT);\n  }\n\n  if (!fragments) {\n    return ''\n  }\n\n  return transformer ? transformer(fragments, ' ') : fragments.join(' ')\n}\n\nexport default convert;\nexport { LOWERCASE_TRANSFORMER, SENTENCECASE_TRANSFORMER, TITLECASE_TRANSFORMER, UPPERCASE_TRANSFORMER, convert, revert };\n","import React from \"react\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome/index.js\"\nimport { faCircleInfo } from \"@fortawesome/free-solid-svg-icons/faCircleInfo\"\n\nexport const MissingData = ({ className }: { className?: string }) => (\n    <div className={className}>\n        <h4>\n            <FontAwesomeIcon icon={faCircleInfo} />\n        </h4>\n        <p>\n            We are currently not aware of data for this indicator. You can\n            notify us of available data for this indicator via our{\" \"}\n            <a href=\"/feedback\">feedback form</a>.\n        </p>\n    </div>\n)\n","import React from \"react\"\nimport { Span } from \"@ourworldindata/utils\"\nimport { renderSpans } from \"./utils.js\"\nimport { faArrowRight } from \"@fortawesome/free-solid-svg-icons/faArrowRight\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome/index.js\"\n\nexport const AdditionalCharts = ({\n    items,\n    className,\n}: {\n    items: Span[][]\n    className?: string\n}) => {\n    return (\n        <div className={className}>\n            <h4>Additional charts</h4>\n            <ul>\n                {items.map((item, i) => (\n                    <li key={i}>\n                        {renderSpans(item)}{\" \"}\n                        <FontAwesomeIcon icon={faArrowRight} />{\" \"}\n                    </li>\n                ))}\n            </ul>\n        </div>\n    )\n}\n","import React from \"react\"\nimport cx from \"classnames\"\n\nimport ChartStory from \"./ChartStory.js\"\nimport Scroller from \"./Scroller.js\"\nimport Chart from \"./Chart.js\"\nimport PullQuote from \"./PullQuote.js\"\nimport Recirc from \"./Recirc.js\"\nimport List from \"./List.js\"\nimport NumberedList from \"./NumberedList.js\"\nimport Image from \"./Image.js\"\nimport {\n    get,\n    OwidEnrichedArticleBlock,\n    TocHeadingWithTitleSupertitle,\n} from \"@ourworldindata/utils\"\nimport SDGGrid from \"./SDGGrid.js\"\nimport { BlockErrorBoundary, BlockErrorFallback } from \"./BlockErrorBoundary.js\"\nimport { match } from \"ts-pattern\"\nimport { renderSpans, spansToUnformattedPlainText } from \"./utils.js\"\nimport Paragraph from \"./Paragraph.js\"\nimport SDGTableOfContents from \"./SDGTableOfContents.js\"\nimport urlSlug from \"url-slug\"\nimport { faArrowRight } from \"@fortawesome/free-solid-svg-icons/faArrowRight\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome/index.js\"\nimport { MissingData } from \"./MissingData.js\"\nimport { AdditionalCharts } from \"./AdditionalCharts.js\"\n\nexport type Container =\n    | \"default\"\n    | \"sticky-right-left-column\"\n    | \"sticky-right-right-column\"\n    | \"sticky-left-left-column\"\n    | \"sticky-left-right-column\"\n    | \"side-by-side\"\n    | \"summary\"\n\n// Each container must have a default layout, usually just full-width\ntype Layouts = { default: string; [key: string]: string }\n\n// no line-wrapping for easier alphabetisation\n// prettier-ignore\nconst layouts: { [key in Container]: Layouts} = {\n    [\"default\"]: {\n        [\"aside-left\"]: \"col-start-2 span-cols-3 span-md-cols-10 col-md-start-3\",\n        [\"aside-right\"]: \"col-start-11 span-cols-3 span-md-cols-10 col-md-start-3\",\n        [\"chart-story\"]: \"col-start-4 span-cols-8 col-md-start-3 span-md-cols-10 span-sm-cols-12 col-sm-start-2\",\n        [\"chart\"]: \"col-start-4 span-cols-8 col-md-start-3 span-md-cols-10 span-sm-cols-12 col-sm-start-2\",\n        [\"default\"]: \"col-start-5 span-cols-6 col-md-start-3 span-md-cols-10 span-sm-cols-12 col-sm-start-2\",\n        [\"divider\"]: \"col-start-2 span-cols-12\",\n        [\"gray-section\"]: \"span-cols-14 grid grid-cols-12-full-width\",\n        [\"heading\"]: \"align-center col-start-5 span-cols-6 col-md-start-3 span-md-cols-10 span-sm-cols-12 col-sm-start-2\",\n        [\"horizontal-rule\"]: \"col-start-5 span-cols-6 col-md-start-3 span-md-cols-10 span-sm-cols-12 col-sm-start-2\",\n        [\"html\"]: \"col-start-5 span-cols-6 col-md-start-3 span-md-cols-10 span-sm-cols-12 col-sm-start-2\",\n        [\"image\"]: \"col-start-5 span-cols-6 col-md-start-3 span-md-cols-10 span-sm-cols-12 col-sm-start-2\",\n        [\"list\"]: \"col-start-5 span-cols-6 col-md-start-3 span-md-cols-10 span-sm-cols-12 col-sm-start-2\",\n        [\"numbered-list\"]: \"col-start-5 span-cols-6 col-md-start-3 span-md-cols-10 span-sm-cols-12 col-sm-start-2\",\n        [\"prominent-link\"]: \"grid grid-cols-6 span-cols-6 col-start-5 span-md-cols-10 col-md-start-3 grid-md-cols-10 span-sm-cols-12 col-sm-start-2 grid-sm-cols-12\",\n        [\"pull-quote\"]: \"col-start-5 span-cols-6 col-md-start-3 span-md-cols-10 span-sm-cols-12 col-sm-start-2\",\n        [\"recirc\"]: \"col-start-11 span-cols-3 span-rows-3 col-md-start-3 span-md-cols-10 span-sm-cols-12 col-sm-start-2\",\n        [\"scroller\"]: \"grid span-cols-12 col-start-2\",\n        [\"sdg-grid\"]: \"grid col-start-2 span-cols-12 col-lg-start-3 span-lg-cols-10 span-sm-cols-12 col-sm-start-2\",\n        [\"sdg-toc\"]: \"grid grid-cols-8 col-start-4 span-cols-8 grid-md-cols-10 col-md-start-3 span-md-cols-10 grid-sm-cols-12 span-sm-cols-12 col-sm-start-2\",\n        [\"side-by-side\"]: \"grid span-cols-12 col-start-2\",\n        [\"sticky-left-left-column\"]: \"grid grid-cols-7 span-cols-7 span-md-cols-12 grid-md-cols-12\",\n        [\"sticky-left-right-column\"]: \"grid grid-cols-5 span-cols-5 span-md-cols-12 grid-md-cols-12\",\n        [\"sticky-left\"]: \"grid span-cols-12 col-start-2\",\n        [\"sticky-right-left-column\"]: \"grid span-cols-5 grid grid-cols-5 span-md-cols-12 grid-md-cols-12\",\n        [\"sticky-right-right-column\"]: \"span-cols-7 span-md-cols-12\",\n        [\"sticky-right\"]: \"grid span-cols-12 col-start-2\",\n        [\"text\"]: \"col-start-5 span-cols-6 col-md-start-3 span-md-cols-10 span-sm-cols-12 col-sm-start-2\",\n    },\n    [\"sticky-right-left-column\"]: {\n        [\"chart\"]: \"span-cols-5 col-start-1 span-md-cols-10 col-md-start-2 span-sm-cols-12 col-sm-start-1\",\n        [\"default\"]: \"span-cols-5 col-start-1 span-md-cols-12\",\n        [\"prominent-link\"]: \"grid grid-cols-6 span-cols-6 col-start-5 span-md-cols-10 col-md-start-3 grid-md-cols-10 span-sm-cols-12 col-sm-start-2 grid-sm-cols-12\",\n    },\n    [\"sticky-right-right-column\"]: {\n        [\"chart\"]: \"span-cols-7 col-start-1 span-md-cols-10 col-md-start-2 span-sm-cols-12 col-sm-start-1\",\n        [\"default\"]: \"span-cols-7 span-md-cols-10 span-md-cols-12\",\n        [\"prominent-link\"]: \"grid grid-cols-6 span-cols-6 span-sm-cols-12 col-sm-start-2 grid-sm-cols-12\",\n    },\n    [\"sticky-left-left-column\"]: {\n        [\"chart\"]: \"span-cols-7 col-start-1 span-md-cols-10 col-md-start-2 span-sm-cols-12 col-sm-start-1\",\n        [\"default\"]: \"span-cols-7 span-md-cols-12\",\n        [\"prominent-link\"]: \"grid grid-cols-6 span-cols-6 span-sm-cols-12 col-sm-start-1 grid-sm-cols-12\",\n    },\n    [\"sticky-left-right-column\"]: {\n        [\"chart\"]: \"span-cols-5 col-start-1 span-md-cols-10 col-md-start-2 span-sm-cols-12 col-sm-start-1\",\n        [\"default\"]: \"span-cols-5 span-md-cols-12\",\n        [\"prominent-link\"]: \"grid grid-cols-6 span-cols-6 col-start-5 span-md-cols-10 col-md-start-3 grid-md-cols-10 span-sm-cols-12 col-sm-start-2 grid-sm-cols-12\",\n    },\n    [\"side-by-side\"]: {\n        [\"default\"]: \"span-cols-6 span-sm-cols-12\",\n    },\n    [\"summary\"]: {\n        [\"default\"]: \"col-start-5 span-cols-6 col-md-start-3 span-md-cols-10 span-sm-cols-12 col-sm-start-2\",\n    },\n}\n\nexport function getLayout(\n    blockType: string = \"default\",\n    containerType: Container = \"default\"\n): string {\n    const layout = get(\n        layouts,\n        [containerType, blockType],\n        // fallback to the default for the container\n        get(layouts, [containerType, \"default\"])\n    )\n    return cx(`article-block__${blockType}`, layout)\n}\n\nconst ProminentLink = ({\n    title,\n    href,\n    className = \"\",\n    description,\n}: {\n    title: string\n    href: string\n    className: string\n    description?: string\n}) => (\n    <div className={cx(className, \"prominent-link\")}>\n        {/* TODO: where do we get the image from? */}\n        <div className=\"prominent-link__image span-cols-1 span-md-cols-2\"></div>\n        <div className=\"col-start-2 col-md-start-3 col-end-limit\">\n            <a href={href}>\n                <h3 className=\"h3-bold\">{title}</h3>\n                <FontAwesomeIcon icon={faArrowRight} />\n            </a>\n            <p className=\"body-3-medium\">{description}</p>\n        </div>\n    </div>\n)\n\nexport default function ArticleBlock({\n    b: block,\n    containerType = \"default\",\n    toc,\n}: {\n    b: OwidEnrichedArticleBlock\n    containerType?: Container\n    toc?: TocHeadingWithTitleSupertitle[]\n}) {\n    block.type = block.type.toLowerCase() as any // this comes from the user and may not be all lowercase, enforce it here\n    if (block.parseErrors.length > 0) {\n        return (\n            <BlockErrorFallback\n                className={getLayout(\"default\", containerType)}\n                error={{\n                    name: `Error in ${block.type}`,\n                    message: block.parseErrors[0].message,\n                }}\n            />\n        )\n    }\n    if (block.type === \"image\" && block.dataErrors.length > 0) {\n        return (\n            <BlockErrorFallback\n                className={getLayout(\"default\", containerType)}\n                error={{\n                    name: `Error in ${block.type} with filename ${block.filename}`,\n                    message: block.dataErrors[0].message,\n                }}\n            />\n        )\n    }\n    const content: any | null = match(block)\n        .with({ type: \"aside\" }, ({ caption, position = \"right\" }) => (\n            <figure\n                className={cx(\n                    \"body-3-medium-italic\",\n                    getLayout(`aside-${position}`)\n                )}\n            >\n                {caption ? (\n                    <figcaption>{renderSpans(caption)}</figcaption>\n                ) : null}\n            </figure>\n        ))\n        .with({ type: \"chart\" }, (block) => (\n            <Chart className={getLayout(\"chart\", containerType)} d={block} />\n        ))\n        .with({ type: \"scroller\" }, (block) => (\n            <Scroller\n                className={getLayout(\"scroller\", containerType)}\n                d={block}\n            />\n        ))\n        .with({ type: \"chart-story\" }, (block) => (\n            <ChartStory\n                d={block}\n                className={getLayout(\"chart-story\", containerType)}\n            />\n        ))\n        .with({ type: \"image\" }, (block) => (\n            <Image\n                className={getLayout(\"image\", containerType)}\n                d={block}\n                containerType={containerType}\n            />\n        ))\n        .with({ type: \"pull-quote\" }, (block) => (\n            <PullQuote\n                className={getLayout(\"pull-quote\", containerType)}\n                d={block}\n            />\n        ))\n        .with({ type: \"recirc\" }, (block) => (\n            <Recirc className={getLayout(\"recirc\", containerType)} d={block} />\n        ))\n        .with({ type: \"numbered-list\" }, (block) => (\n            <NumberedList\n                className={getLayout(\"numbered-list\", containerType)}\n                d={block}\n            />\n        ))\n        .with({ type: \"list\" }, (block) => (\n            <List className={getLayout(\"list\", containerType)} d={block} />\n        ))\n        .with({ type: \"text\" }, (block) => {\n            return (\n                <Paragraph\n                    d={block}\n                    className={getLayout(\"text\", containerType)}\n                />\n            )\n        })\n        .with({ type: \"simple-text\" }, (block) => {\n            return block.value\n        })\n        .with({ type: \"heading\", level: 1 }, (block) => (\n            <h1\n                className={cx(\n                    \"display-2-semibold\",\n                    getLayout(\"heading\", containerType)\n                )}\n                id={urlSlug(spansToUnformattedPlainText(block.text))}\n            >\n                {renderSpans(block.text)}\n            </h1>\n        ))\n        .with({ type: \"heading\", level: 2 }, (block) => {\n            const { supertitle, text } = block\n\n            const id = supertitle\n                ? urlSlug(\n                      `${spansToUnformattedPlainText(\n                          supertitle\n                      )}-${spansToUnformattedPlainText(text)}`\n                  )\n                : urlSlug(spansToUnformattedPlainText(block.text))\n\n            return (\n                <>\n                    {supertitle ? (\n                        <div className={getLayout(\"divider\", containerType)} />\n                    ) : null}\n                    <h2\n                        className={cx(\n                            \"h1-semibold\",\n                            getLayout(\"heading\", containerType),\n                            {\n                                \"has-supertitle\": supertitle\n                                    ? spansToUnformattedPlainText(supertitle)\n                                    : \"\",\n                            }\n                        )}\n                        id={id}\n                    >\n                        {supertitle ? (\n                            <div className=\"article-block__heading-supertitle overline-black-caps\">\n                                {renderSpans(supertitle)}\n                            </div>\n                        ) : null}\n                        {renderSpans(text)}\n                    </h2>\n                </>\n            )\n        })\n        .with({ type: \"heading\", level: 3 }, (block) => {\n            const { supertitle, text } = block\n            const id = supertitle\n                ? urlSlug(\n                      `${spansToUnformattedPlainText(\n                          supertitle\n                      )}-${spansToUnformattedPlainText(text)}`\n                  )\n                : urlSlug(spansToUnformattedPlainText(block.text))\n            return (\n                <h3\n                    className={cx(\n                        \"h2-bold\",\n                        getLayout(\"heading\", containerType),\n                        {\n                            \"has-supertitle\": supertitle\n                                ? spansToUnformattedPlainText(supertitle)\n                                : undefined,\n                        }\n                    )}\n                    id={id}\n                >\n                    {supertitle ? (\n                        <div className=\"article-block__heading-supertitle overline-black-caps\">\n                            {renderSpans(supertitle)}\n                        </div>\n                    ) : null}\n                    {renderSpans(text)}\n                </h3>\n            )\n        })\n        .with({ type: \"heading\", level: 4 }, (block) => (\n            <h4\n                className={cx(\"h3-bold\", getLayout(\"heading\", containerType))}\n                id={urlSlug(spansToUnformattedPlainText(block.text))}\n            >\n                {renderSpans(block.text)}\n            </h4>\n        ))\n        .with({ type: \"heading\", level: 5 }, (block) => (\n            <h5\n                className={cx(\n                    \"h4-semibold\",\n                    getLayout(\"heading\", containerType)\n                )}\n                id={urlSlug(spansToUnformattedPlainText(block.text))}\n            >\n                {renderSpans(block.text)}\n            </h5>\n        ))\n        .with({ type: \"heading\", level: 6 }, (block) => (\n            <h6\n                className={cx(\n                    \"overline-black-caps\",\n                    getLayout(\"heading\", containerType)\n                )}\n                id={urlSlug(spansToUnformattedPlainText(block.text))}\n            >\n                {renderSpans(block.text)}\n            </h6>\n        ))\n        .with(\n            { type: \"heading\" },\n            // during parsing we take care of level being in a valid range\n            () => null\n        )\n        .with({ type: \"html\" }, (block) => (\n            <div\n                className={getLayout(\"html\", containerType)}\n                dangerouslySetInnerHTML={{ __html: block.value }}\n            />\n        ))\n        .with({ type: \"horizontal-rule\" }, () => <hr></hr>)\n        .with({ type: \"sdg-grid\" }, (block) => (\n            <SDGGrid\n                className={getLayout(\"sdg-grid\", containerType)}\n                d={block}\n            />\n        ))\n        .with({ type: \"sticky-right\" }, (block) => (\n            <div className={getLayout(\"sticky-right\", containerType)}>\n                <div\n                    className={getLayout(\n                        \"sticky-right-left-column\",\n                        containerType\n                    )}\n                >\n                    {block.left.map((item, i) => (\n                        <ArticleBlock\n                            key={i}\n                            b={item}\n                            containerType=\"sticky-right-left-column\"\n                        />\n                    ))}\n                </div>\n                <div\n                    className={getLayout(\n                        \"sticky-right-right-column\",\n                        containerType\n                    )}\n                >\n                    <div className=\"sticky-column-wrapper grid grid-cols-7 span-cols-7 grid-md-cols-12 span-md-cols-12\">\n                        {block.right.map((item, i) => (\n                            <ArticleBlock\n                                key={i}\n                                b={item}\n                                containerType=\"sticky-right-right-column\"\n                            />\n                        ))}\n                    </div>\n                </div>\n            </div>\n        ))\n        .with({ type: \"sticky-left\" }, (block) => (\n            <div className={getLayout(\"sticky-left\", containerType)}>\n                <div\n                    className={getLayout(\n                        \"sticky-left-left-column\",\n                        containerType\n                    )}\n                >\n                    <div className=\"sticky-column-wrapper grid grid-cols-7 span-cols-7 grid-md-cols-12 span-md-cols-12\">\n                        {block.left.map((item, i) => (\n                            <ArticleBlock\n                                key={i}\n                                b={item}\n                                containerType=\"sticky-left-left-column\"\n                            />\n                        ))}\n                    </div>\n                </div>\n                <div\n                    className={getLayout(\n                        \"sticky-left-right-column\",\n                        containerType\n                    )}\n                >\n                    {block.right.map((item, i) => (\n                        <ArticleBlock\n                            key={i}\n                            b={item}\n                            containerType=\"sticky-left-right-column\"\n                        />\n                    ))}\n                </div>\n            </div>\n        ))\n        .with({ type: \"side-by-side\" }, (block) => (\n            <div className={getLayout(\"side-by-side\", containerType)}>\n                <div className=\"grid grid-cols-6 span-cols-6 span-sm-cols-12\">\n                    {block.left.map((item, i) => (\n                        <ArticleBlock\n                            key={i}\n                            b={item}\n                            containerType=\"side-by-side\"\n                        />\n                    ))}\n                </div>\n                <div className=\"grid grid-cols-6 span-cols-6 span-sm-cols-12\">\n                    {block.right.map((item, i) => (\n                        <ArticleBlock\n                            key={i}\n                            b={item}\n                            containerType=\"side-by-side\"\n                        />\n                    ))}\n                </div>\n            </div>\n        ))\n        .with({ type: \"gray-section\" }, (block) => (\n            <div className={getLayout(\"gray-section\")}>\n                {block.items.map((item, i) => (\n                    <ArticleBlock key={i} b={item} />\n                ))}\n            </div>\n        ))\n        .with({ type: \"prominent-link\" }, (block) => (\n            <ProminentLink\n                className={getLayout(\"prominent-link\", containerType)}\n                title={block.title}\n                href={block.url}\n                description={block.description}\n            />\n        ))\n        .with({ type: \"sdg-toc\" }, () => {\n            return toc ? (\n                <SDGTableOfContents\n                    toc={toc}\n                    className={getLayout(\"sdg-toc\", containerType)}\n                />\n            ) : null\n        })\n        .with({ type: \"missing-data\" }, () => (\n            <MissingData className={getLayout(\"missing-data\", containerType)} />\n        ))\n        .with({ type: \"additional-charts\" }, (block) => (\n            <AdditionalCharts // bla\n                items={block.items}\n                className={getLayout(\"additional-charts\", containerType)}\n            />\n        ))\n        .exhaustive()\n\n    // if (_type === \"chart-grid\") {\n    //     let columns = 1\n    //     try {\n    //         columns =\n    //             +b.value.find(\n    //                 (_d: OwidRawArticleBlock) => _d.type === \"columns\"\n    //             ).value || 1\n    //     } catch (e) {}\n\n    //     return (\n    //         <div\n    //             key={key}\n    //             className={\"chartGrid\"}\n    //             style={{\n    //                 display: \"grid\",\n    //                 gridTemplateRows: \"auto\",\n    //                 gridTemplateColumns: `repeat(${columns}, 1fr)`,\n    //             }}\n    //         >\n    //             {d.value\n    //                 .filter((_d: OwidRawArticleBlock) => _d.type === \"chart\")\n    //                 .map((_d: OwidRawArticleBlock, i: number) => {\n    //                     return <Chart d={_d} key={i} />\n    //                 })}\n    //         </div>\n    //     )\n\n    return (\n        <BlockErrorBoundary className={getLayout(\"default\", containerType)}>\n            {content}\n        </BlockErrorBoundary>\n    )\n}\n","import React from \"react\"\nimport ArticleBlock, { Container } from \"./ArticleBlock.js\"\nimport {\n    OwidEnrichedArticleBlock,\n    TocHeadingWithTitleSupertitle,\n} from \"@ourworldindata/utils\"\n\nexport const ArticleBlocks = ({\n    blocks,\n    containerType = \"default\",\n    toc,\n}: {\n    blocks: OwidEnrichedArticleBlock[]\n    containerType?: Container\n    toc?: TocHeadingWithTitleSupertitle[]\n}) => (\n    <>\n        {blocks.map((block: OwidEnrichedArticleBlock, i: number) => {\n            return (\n                <ArticleBlock\n                    key={i}\n                    b={block}\n                    containerType={containerType}\n                    toc={toc}\n                />\n            )\n        })}\n    </>\n)\n","import { EnrichedBlockText } from \"@ourworldindata/utils\"\nimport React from \"react\"\nimport Paragraph from \"./Paragraph.js\"\n\nexport default function Footnotes({ d }: { d: EnrichedBlockText[] }) {\n    if (!d || !d.length) {\n        return null\n    }\n    return (\n        <section className=\"footnote-container col-start-4 span-cols-8 col-md-start-3 span-md-cols-10 col-sm-start-2 span-sm-cols-12\">\n            <h3>Endnotes</h3>\n            <ol className=\"footnote-list grid grid-cols-2\">\n                {d.map((footnote: EnrichedBlockText, i: number) => {\n                    return (\n                        <li\n                            id={`note-${i + 1}`}\n                            key={i}\n                            className=\"footnote-list__footnote span-sm-cols-2\"\n                        >\n                            <Paragraph d={footnote} />\n                        </li>\n                    )\n                })}\n            </ol>\n        </section>\n    )\n}\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar prefix = 'fab';\nvar iconName = 'creative-commons';\nvar width = 496;\nvar height = 512;\nvar aliases = [];\nvar unicode = 'f25e';\nvar svgPathData = 'M245.83 214.87l-33.22 17.28c-9.43-19.58-25.24-19.93-27.46-19.93-22.13 0-33.22 14.61-33.22 43.84 0 23.57 9.21 43.84 33.22 43.84 14.47 0 24.65-7.09 30.57-21.26l30.55 15.5c-6.17 11.51-25.69 38.98-65.1 38.98-22.6 0-73.96-10.32-73.96-77.05 0-58.69 43-77.06 72.63-77.06 30.72-.01 52.7 11.95 65.99 35.86zm143.05 0l-32.78 17.28c-9.5-19.77-25.72-19.93-27.9-19.93-22.14 0-33.22 14.61-33.22 43.84 0 23.55 9.23 43.84 33.22 43.84 14.45 0 24.65-7.09 30.54-21.26l31 15.5c-2.1 3.75-21.39 38.98-65.09 38.98-22.69 0-73.96-9.87-73.96-77.05 0-58.67 42.97-77.06 72.63-77.06 30.71-.01 52.58 11.95 65.56 35.86zM247.56 8.05C104.74 8.05 0 123.11 0 256.05c0 138.49 113.6 248 247.56 248 129.93 0 248.44-100.87 248.44-248 0-137.87-106.62-248-248.44-248zm.87 450.81c-112.54 0-203.7-93.04-203.7-202.81 0-105.42 85.43-203.27 203.72-203.27 112.53 0 202.82 89.46 202.82 203.26-.01 121.69-99.68 202.82-202.84 202.82z';\n\nexports.definition = {\n  prefix: prefix,\n  iconName: iconName,\n  icon: [\n    width,\n    height,\n    aliases,\n    unicode,\n    svgPathData\n  ]};\n\nexports.faCreativeCommons = exports.definition;\nexports.prefix = prefix;\nexports.iconName = iconName;\nexports.width = width;\nexports.height = height;\nexports.ligatures = aliases;\nexports.unicode = unicode;\nexports.svgPathData = svgPathData;\nexports.aliases = aliases;","import { last } from \"@ourworldindata/utils\"\n\nexport const formatAuthors = ({\n    authors,\n    requireMax,\n    forBibtex,\n}: {\n    authors: string[]\n    requireMax?: boolean\n    forBibtex?: boolean\n}) => {\n    if (requireMax && !authors.includes(\"Max Roser\"))\n        authors = [...authors, \"Max Roser\"]\n\n    let authorsText = authors.slice(0, -1).join(forBibtex ? \" and \" : \", \")\n    if (authorsText.length === 0) authorsText = authors[0]\n    else authorsText += ` and ${last(authors)}`\n\n    return authorsText\n}\n","import React, { createContext } from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { ArticleBlocks } from \"./ArticleBlocks.js\"\nimport Footnotes from \"./Footnotes.js\"\nimport {\n    OwidArticleType,\n    formatDate,\n    getArticleFromJSON,\n} from \"@ourworldindata/utils\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome/index.js\"\nimport { faBook } from \"@fortawesome/free-solid-svg-icons/faBook\"\nimport { faCreativeCommons } from \"@fortawesome/free-brands-svg-icons/faCreativeCommons\"\nimport { CodeSnippet } from \"../blocks/CodeSnippet.js\"\nimport { BAKED_BASE_URL } from \"../../settings/clientSettings.js\"\nimport { formatAuthors } from \"../clientFormatting.js\"\nimport { DebugProvider } from \"./DebugContext.js\"\n\ntype OwidArticleProps = OwidArticleType & {\n    isPreviewing?: boolean\n}\n\nexport const ArticleContext = createContext<{\n    isPreviewing: boolean\n}>({ isPreviewing: false })\n\nexport function OwidArticle({\n    content,\n    publishedAt,\n    slug,\n    isPreviewing = false,\n}: OwidArticleProps) {\n    const coverStyle = content[\"cover-image\"]\n        ? {\n              background: `url(${content[\"cover-image\"][0].value.src})`,\n              backgroundSize: \"cover\",\n          }\n        : content[\"cover-color\"]\n        ? { backgroundColor: `var(--${content[\"cover-color\"]})` }\n        : {}\n\n    // Until authors comes as structured data, we need to parse them from the byline string\n    const authors = content?.byline?.replace(/\\s*,\\s*/g, \",\").split(\",\") || [\n        \"Our World in Data\",\n    ]\n\n    const citationText = `${formatAuthors({\n        authors,\n    })} (${publishedAt?.getFullYear()}) - \"${\n        content.title\n    }\". Published online at OurWorldInData.org. Retrieved from: '${`${BAKED_BASE_URL}/${slug}`}' [Online Resource]`\n\n    const bibtex = `@article{owid${slug.replace(/-/g, \"\")},\n    author = {${formatAuthors({\n        authors,\n        forBibtex: true,\n    })}},\n    title = {${content.title}},\n    journal = {Our World in Data},\n    year = {${publishedAt?.getFullYear()}},\n    note = {${BAKED_BASE_URL}/${slug}}\n}`\n\n    return (\n        <ArticleContext.Provider value={{ isPreviewing: isPreviewing }}>\n            <article className=\"centered-article-container grid grid-cols-12-full-width\">\n                <div className=\"article-banner\" style={coverStyle}></div>\n                <header className=\"centered-article-header align-center grid grid-cols-8 col-start-4 span-cols-8 col-md-start-3 span-md-cols-10 col-sm-start-2 span-sm-cols-12\">\n                    <div className=\"centered-article-header__title-container col-start-2 span-cols-6\">\n                        <h3 className=\"centered-article-header__supertitle span-cols-8\">\n                            {content.supertitle}\n                        </h3>\n                        <h1 className=\"centered-article-header__title\">\n                            {content.title}\n                        </h1>\n                    </div>\n                    {content.subtitle ? (\n                        <h2 className=\"centered-article-header__subtitle col-start-2 span-cols-6\">\n                            {content.subtitle}\n                        </h2>\n                    ) : null}\n                    <div className=\"centered-article-header__meta-container col-start-2 span-cols-6 grid grid-cols-2\">\n                        <div className=\"span-cols-1 span-sm-cols-2\">\n                            <div className=\"centered-article-header__byline\">\n                                {\"By: \"}\n                                <a href=\"/team\">\n                                    {formatAuthors({\n                                        authors,\n                                    })}\n                                </a>\n                            </div>\n                            <div className=\"centered-article-header__dateline body-3-medium-italic\">\n                                {content.dateline ||\n                                    (publishedAt && formatDate(publishedAt))}\n                            </div>\n                        </div>\n                        <div className=\"span-cols-1 span-sm-cols-2\">\n                            <a\n                                href=\"#article-citation\"\n                                className=\"body-1-regular display-block\"\n                            >\n                                <FontAwesomeIcon icon={faBook} />\n                                Cite this article\n                            </a>\n\n                            <a\n                                href=\"#article-licence\"\n                                className=\"body-3-medium display-block\"\n                            >\n                                <FontAwesomeIcon icon={faCreativeCommons} />\n                                Reuse our work freely\n                            </a>\n                        </div>\n                    </div>\n                </header>\n\n                {content.summary ? (\n                    <details\n                        className=\"article-summary col-start-5 span-cols-6 col-md-start-3 span-md-cols-10 col-sm-start-2 span-sm-cols-12\"\n                        open={true}\n                    >\n                        <summary>Summary</summary>\n                        <ArticleBlocks\n                            blocks={content.summary}\n                            containerType=\"summary\"\n                        />\n                    </details>\n                ) : null}\n\n                {content.body ? (\n                    <ArticleBlocks toc={content.toc} blocks={content.body} />\n                ) : null}\n\n                {content.refs ? <Footnotes d={content.refs} /> : null}\n\n                <section\n                    id=\"article-citation\"\n                    className=\"col-start-4 span-cols-8 col-md-start-3 span-md-cols-10 col-sm-start-2 span-sm-cols-12\"\n                >\n                    <h3>Cite this work</h3>\n                    <p>\n                        Our articles and data visualizations rely on work from\n                        many different people and organizations. When citing\n                        this topic page, please also cite the underlying data\n                        sources. This topic page can be cited as:\n                    </p>\n                    {/* TODO? renderSpans(content.citation.map((block) => block.value)) */}\n                    <div>\n                        <CodeSnippet code={citationText} />\n                    </div>\n                    <p>BibTeX citation</p>\n                    <div>\n                        <CodeSnippet code={bibtex} />\n                    </div>\n                </section>\n\n                <section\n                    id=\"article-licence\"\n                    className=\"col-start-4 span-cols-8 col-md-start-3 span-md-cols-10 col-sm-start-2 span-sm-cols-12\"\n                >\n                    <img\n                        src={`${BAKED_BASE_URL}/owid-logo.svg`}\n                        className=\"img-raw\"\n                        alt=\"Our World in Data logo\"\n                    />\n                    <h3>Reuse this work freely</h3>\n\n                    <p>\n                        All visualizations, data, and code produced by Our World\n                        in Data are completely open access under the{\" \"}\n                        <a\n                            href=\"https://creativecommons.org/licenses/by/4.0/\"\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                        >\n                            Creative Commons BY license\n                        </a>\n                        . You have the permission to use, distribute, and\n                        reproduce these in any medium, provided the source and\n                        authors are credited.\n                    </p>\n                    <p>\n                        The data produced by third parties and made available by\n                        Our World in Data is subject to the license terms from\n                        the original third-party authors. We will always\n                        indicate the original source of the data in our\n                        documentation, so you should always check the license of\n                        any such third-party data before use and redistribution.\n                    </p>\n                    <p>\n                        All of{\" \"}\n                        <a href=\"/how-to-use-our-world-in-data#how-to-embed-interactive-charts-in-your-article\">\n                            our charts can be embedded\n                        </a>{\" \"}\n                        in any site.\n                    </p>\n                </section>\n            </article>\n        </ArticleContext.Provider>\n    )\n}\n\nexport const hydrateOwidArticle = (debug?: boolean, isPreviewing?: boolean) => {\n    const wrapper = document.querySelector(\"#owid-article-root\")\n    const props = getArticleFromJSON(window._OWID_ARTICLE_PROPS)\n    ReactDOM.hydrate(\n        <React.StrictMode>\n            <DebugProvider debug={debug}>\n                <OwidArticle {...props} isPreviewing={isPreviewing} />\n            </DebugProvider>\n        </React.StrictMode>,\n        wrapper\n    )\n}\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar prefix = 'fas';\nvar iconName = 'list-ul';\nvar width = 512;\nvar height = 512;\nvar aliases = [\"list-dots\"];\nvar unicode = 'f0ca';\nvar svgPathData = 'M64 144c26.5 0 48-21.5 48-48s-21.5-48-48-48S16 69.5 16 96s21.5 48 48 48zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zM64 464c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm48-208c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48z';\n\nexports.definition = {\n  prefix: prefix,\n  iconName: iconName,\n  icon: [\n    width,\n    height,\n    aliases,\n    unicode,\n    svgPathData\n  ]};\n\nexports.faListUl = exports.definition;\nexports.prefix = prefix;\nexports.iconName = iconName;\nexports.width = width;\nexports.height = height;\nexports.ligatures = aliases;\nexports.unicode = unicode;\nexports.svgPathData = svgPathData;\nexports.aliases = aliases;","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar prefix = 'fas';\nvar iconName = 'envelope-open-text';\nvar width = 512;\nvar height = 512;\nvar aliases = [];\nvar unicode = 'f658';\nvar svgPathData = 'M215.4 96H144 107.8 96v8.8V144v40.4 89L.2 202.5c1.6-18.1 10.9-34.9 25.7-45.8L48 140.3V96c0-26.5 21.5-48 48-48h76.6l49.9-36.9C232.2 3.9 243.9 0 256 0s23.8 3.9 33.5 11L339.4 48H416c26.5 0 48 21.5 48 48v44.3l22.1 16.4c14.8 10.9 24.1 27.7 25.7 45.8L416 273.4v-89V144 104.8 96H404.2 368 296.6 215.4zM0 448V242.1L217.6 403.3c11.1 8.2 24.6 12.7 38.4 12.7s27.3-4.4 38.4-12.7L512 242.1V448v0c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64v0zM176 160H336c8.8 0 16 7.2 16 16s-7.2 16-16 16H176c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H336c8.8 0 16 7.2 16 16s-7.2 16-16 16H176c-8.8 0-16-7.2-16-16s7.2-16 16-16z';\n\nexports.definition = {\n  prefix: prefix,\n  iconName: iconName,\n  icon: [\n    width,\n    height,\n    aliases,\n    unicode,\n    svgPathData\n  ]};\n\nexports.faEnvelopeOpenText = exports.definition;\nexports.prefix = prefix;\nexports.iconName = iconName;\nexports.width = width;\nexports.height = height;\nexports.ligatures = aliases;\nexports.unicode = unicode;\nexports.svgPathData = svgPathData;\nexports.aliases = aliases;","import React, { useState } from \"react\"\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons/faTimes\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome/index.js\"\nimport { SiteAnalytics } from \"./SiteAnalytics.js\"\nimport { faEnvelopeOpenText } from \"@fortawesome/free-solid-svg-icons/faEnvelopeOpenText\"\n\nconst analytics = new SiteAnalytics()\n\nexport enum NewsletterSubscriptionContext {\n    Homepage = \"homepage\",\n    Floating = \"floating\",\n}\n\nexport const NewsletterSubscription = ({\n    context,\n}: {\n    context?: NewsletterSubscriptionContext\n}) => {\n    const [isOpen, setIsOpen] = useState(false)\n\n    const subscribeText = \"Subscribe\"\n    const closeText = \"Close\"\n\n    return (\n        <div className={`newsletter-subscription${isOpen ? \" active\" : \"\"}`}>\n            {isOpen && (\n                <>\n                    <div\n                        className=\"overlay\"\n                        onClick={() => {\n                            setIsOpen(false)\n                        }}\n                    />\n                    <div className=\"box\">\n                        <button\n                            aria-label={closeText}\n                            className=\"close\"\n                            data-track-note=\"dialog-close-newsletter\"\n                            onClick={() => {\n                                setIsOpen(false)\n                            }}\n                        >\n                            <FontAwesomeIcon icon={faTimes} />\n                            {closeText}\n                        </button>\n                        <NewsletterSubscriptionForm context={context} />\n                    </div>\n                </>\n            )}\n            <button\n                aria-label={subscribeText}\n                className=\"prompt\"\n                data-track-note=\"dialog-open-newsletter\"\n                onClick={() => {\n                    setIsOpen(!isOpen)\n                }}\n            >\n                <span className=\"hide-lg-down\">{subscribeText}</span>\n                <FontAwesomeIcon\n                    className=\"hide-lg-up\"\n                    icon={faEnvelopeOpenText}\n                />\n            </button>\n        </div>\n    )\n}\n\nexport const NewsletterSubscriptionForm = ({\n    context,\n}: {\n    context?: NewsletterSubscriptionContext\n}) => {\n    const IMMEDIATE = \"1\"\n    const BIWEEKLY = \"2\"\n    const idImmediate = `mce-group[85302]-85302-0${\n        context ? \"-\" + context : \"\"\n    }`\n    const idBiweekly = `mce-group[85302]-85302-1${context ? \"-\" + context : \"\"}`\n\n    const [frequencies, setFrequencies] = useState([IMMEDIATE, BIWEEKLY])\n    const isSubmittable = frequencies.length !== 0\n\n    const updateFrequencies = (e: React.ChangeEvent<HTMLInputElement>) => {\n        if (e.target.checked) {\n            setFrequencies([e.target.value, ...frequencies])\n        } else {\n            setFrequencies(\n                frequencies.filter((frequency) => frequency !== e.target.value)\n            )\n        }\n    }\n\n    return (\n        <form\n            action=\"https://ourworldindata.us8.list-manage.com/subscribe/post?u=18058af086319ba6afad752ec&id=2e166c1fc1\"\n            method=\"post\"\n            id=\"mc-embedded-subscribe-form\"\n            name=\"mc-embedded-subscribe-form\"\n            target=\"_blank\"\n        >\n            <span className=\"NewsletterSubscriptionForm__header\">\n                Receive our latest work by email.\n            </span>\n            <div className=\"owid-checkbox-block\">\n                <input\n                    type=\"checkbox\"\n                    value={IMMEDIATE}\n                    name={`group[85302][${IMMEDIATE}]`}\n                    id={idImmediate}\n                    checked={frequencies.includes(IMMEDIATE)}\n                    onChange={updateFrequencies}\n                />\n                <label htmlFor={idImmediate}>\n                    <div className=\"label-title\">Immediate updates</div>\n                    <div className=\"label-text\">\n                        Receive an email from us whenever we publish new work\n                        (maximum 1 per day).\n                    </div>\n                </label>\n            </div>\n            <div className=\"owid-checkbox-block\">\n                <input\n                    type=\"checkbox\"\n                    value={BIWEEKLY}\n                    name={`group[85302][${BIWEEKLY}]`}\n                    id={idBiweekly}\n                    checked={frequencies.includes(BIWEEKLY)}\n                    onChange={updateFrequencies}\n                />\n                <label htmlFor={idBiweekly}>\n                    <div className=\"label-title\">Biweekly digest</div>\n                    <div className=\"label-text\">\n                        Receive an overview of our recent work and highlights of\n                        our other work every two weeks.\n                    </div>\n                </label>\n            </div>\n            {frequencies.length === 0 && (\n                <div className=\"alert\">Please select at least one option.</div>\n            )}\n            <div className=\"NewsletterSubscription__email-submit\">\n                <input\n                    placeholder=\"Your email address\"\n                    type=\"email\"\n                    className=\"NewsletterSubscription__email\"\n                    name=\"EMAIL\"\n                />\n                <button\n                    type=\"submit\"\n                    disabled={!isSubmittable}\n                    onClick={() =>\n                        analytics.logSiteClick(\n                            \"newsletter-subscribe\",\n                            `Subscribe [${context ?? \"other-contexts\"}]`\n                        )\n                    }\n                    className=\"NewsletterSubscription__submit\"\n                >\n                    Subscribe\n                </button>\n            </div>\n            {/* This hidden field should not be the last element in the form as long as we use the row-gap mixin \n            to space elements vertically. When placed as the last element of the form, this hidden element becomes \n            the target of the :last-child selector of the row-gap mixin, when it should be applied to the last visible\n            element instead */}\n            <input\n                type=\"hidden\"\n                name=\"b_18058af086319ba6afad752ec_2e166c1fc1\"\n                tabIndex={-1}\n            />\n            <div className=\"NewsletterSubscription__privacy\">\n                By subscribing you are agreeing to the terms of our{\" \"}\n                <a href=\"/privacy-policy\">privacy policy</a>.\n            </div>\n        </form>\n    )\n}\n","import React from \"react\"\nimport { EntryMeta } from \"@ourworldindata/utils\"\n\nexport const SiteNavigationTopic = ({ topic }: { topic: EntryMeta }) => {\n    return (\n        <li className=\"SiteNavigationTopic\">\n            <a href={`/${topic.slug}`} data-track-note=\"header-navigation\">\n                <span className=\"label\">{topic.title}</span>\n            </a>\n        </li>\n    )\n}\n","import React, { useLayoutEffect, useState } from \"react\"\nimport { CategoryWithEntries, EntryMeta } from \"@ourworldindata/utils\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome/index.js\"\nimport { faArrowRight } from \"@fortawesome/free-solid-svg-icons/faArrowRight\"\nimport classnames from \"classnames\"\nimport { SiteNavigationTopic } from \"./SiteNavigationTopic.js\"\n\n// suppress useLayoutEffect (and its warnings) when not running in a browser\n// https://gist.github.com/gaearon/e7d97cdf38a2907924ea12e4ebdf3c85?permalink_comment_id=4150784#gistcomment-4150784\n\n// this is ok here because the layout effect below doesn't do anything until an\n// other effect already triggered a paint, so there is no mismatch between the\n// server and client on first paint (which is what the warning is about)\nif (typeof window === \"undefined\") React.useLayoutEffect = () => {}\n\nexport const SiteNavigationTopics = ({\n    topics,\n    onClose,\n    className,\n}: {\n    topics: CategoryWithEntries[]\n    onClose: () => void\n    className?: string\n}) => {\n    const [activeCategory, setActiveCategory] =\n        useState<CategoryWithEntries | null>(null)\n\n    const [numTopicColumns, setNumTopicColumns] = useState(1)\n\n    // calculate the number of 10 topic columns we need based on the number of topics\n    // using useLayoutEffect to avoid a flash of the wrong number of columns when switching categories\n    useLayoutEffect(() => {\n        if (activeCategory) {\n            const topics = allTopicsInCategory(activeCategory)\n            const numColumns = Math.ceil(topics.length / 10)\n            setNumTopicColumns(numColumns)\n        }\n    }, [activeCategory])\n\n    const stopPropagation = (e: React.MouseEvent) => {\n        e.stopPropagation()\n    }\n\n    return topics.length > 0 ? (\n        <div\n            className={classnames(\"SiteNavigationTopics\", className)}\n            // hack: this is to make sure the overlay is closed when clicking\n            // the - visually - empty space to the right of the topics menu. A\n            // click on the overlay in this area looks like a click on the\n            // overlay but is actually a click on the remaining grid columns of\n            // the menu. We then need to use stopPropagation to prevent clicks\n            // within the visible portion of the menu to bubble up and close the\n            // menu (and the overlay).\n            onClick={onClose}\n        >\n            <div className=\"categories\" onClick={stopPropagation}>\n                <div className=\"heading\">Browse by topic</div>\n                <ul>\n                    {topics.map((category) => (\n                        <li key={category.slug}>\n                            <button\n                                onClick={(e) => {\n                                    setActiveCategory(category)\n                                }}\n                                className={classnames({\n                                    active: category === activeCategory,\n                                })}\n                            >\n                                <span>{category.name}</span>\n                                <FontAwesomeIcon icon={faArrowRight} />\n                            </button>\n                        </li>\n                    ))}\n                </ul>\n            </div>\n            {activeCategory && (\n                <ul\n                    className={classnames(\"topics\", {\n                        \"columns-medium\": numTopicColumns === 2,\n                        \"columns-large\": numTopicColumns === 3,\n                    })}\n                    onClick={stopPropagation}\n                >\n                    {allTopicsInCategory(activeCategory).map((topic) => (\n                        <SiteNavigationTopic key={topic.slug} topic={topic} />\n                    ))}\n                </ul>\n            )}\n        </div>\n    ) : null\n}\n\nexport const allTopicsInCategory = (\n    category: CategoryWithEntries\n): EntryMeta[] => {\n    return [\n        ...category.entries,\n        ...category.subcategories.flatMap((subcategory) => subcategory.entries),\n    ]\n}\n","import React from \"react\"\n\nexport const SiteLogos = ({ baseUrl }: { baseUrl: string }) => {\n    return (\n        <div className=\"site-logos\">\n            <div className=\"logo-owid\">\n                <a href=\"/\">\n                    Our World\n                    <br /> in Data\n                </a>\n            </div>\n            <div className=\"logos-wrapper\">\n                <a\n                    href=\"https://www.oxfordmartin.ox.ac.uk/global-development\"\n                    className=\"oxford-logo\"\n                >\n                    <img\n                        src={`${baseUrl}/oms-logo.png`}\n                        alt=\"Oxford Martin School logo\"\n                    />\n                </a>\n                <a\n                    href=\"https://global-change-data-lab.org/\"\n                    className=\"gcdl-logo\"\n                >\n                    <img\n                        src={`${baseUrl}/gcdl-logo.png`}\n                        alt=\"Global Change Data Lab logo\"\n                    />\n                </a>\n            </div>\n        </div>\n    )\n}\n","import React from \"react\"\n\nexport const SiteResources = () => {\n    return (\n        <ul>\n            <li>\n                <a href=\"/charts\">Charts and Explorers</a>\n            </li>\n            <li>\n                <a\n                    href=\"https://sdg-tracker.org\"\n                    target=\"_blank\"\n                    rel=\"noopener\"\n                >\n                    Sustainable Development Goals Tracker\n                </a>\n            </li>\n            <li>\n                <a href=\"/teaching\">Teaching Hub</a>\n            </li>\n        </ul>\n    )\n}\n","import React, { useEffect } from \"react\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome/index.js\"\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons/faSearch\"\nimport { faXmark } from \"@fortawesome/free-solid-svg-icons/faXmark\"\nimport classnames from \"classnames\"\nimport { siteSearch } from \"./search/searchClient.js\"\nimport { SearchResults } from \"./search/SearchResults.js\"\nimport { SiteSearchResults } from \"./search/searchTypes.js\"\n\nexport const SiteSearchNavigation = ({\n    query,\n    setQuery,\n    isActive,\n    onClose,\n    onToggle,\n}: {\n    query: string\n    setQuery: (query: string) => void\n    isActive: boolean\n    onClose: VoidFunction\n    onToggle: VoidFunction\n}) => {\n    const [results, setResults] = React.useState<SiteSearchResults | null>(null)\n    const inputRef = React.useRef<HTMLInputElement>(null)\n\n    // Run search\n    React.useEffect(() => {\n        const runSearch = async () => {\n            if (query) {\n                setResults(await siteSearch(query))\n            } else {\n                setResults(null)\n            }\n        }\n        runSearch()\n    }, [query])\n\n    // Focus input when active (needs to happen after render, hence useEffect)\n    useEffect(() => {\n        if (isActive && inputRef.current) {\n            inputRef.current.focus()\n        }\n    }, [isActive])\n\n    return (\n        <>\n            <div\n                className={classnames(\"SiteSearchNavigation\", {\n                    active: isActive,\n                })}\n            >\n                <input\n                    name=\"search\"\n                    placeholder=\"Search for a topic or chart...\"\n                    onChange={(e) => setQuery(e.currentTarget.value)}\n                    className={classnames({ active: isActive })}\n                    value={query}\n                    ref={inputRef}\n                />\n                <div className=\"icon\">\n                    {isActive ? (\n                        <button\n                            onClick={(e) => {\n                                e.preventDefault()\n                                onClose()\n                            }}\n                        >\n                            <FontAwesomeIcon icon={faXmark} />\n                        </button>\n                    ) : (\n                        <FontAwesomeIcon icon={faSearch} />\n                    )}\n                </div>\n            </div>\n            {!isActive && (\n                <button\n                    onClick={onToggle}\n                    data-track-note=\"mobile-search-button\"\n                    className=\"SiteSearchNavigation__mobile-toggle hide-lg-up\"\n                >\n                    <FontAwesomeIcon icon={faSearch} />\n                </button>\n            )}\n            {results && <SearchResults results={results} />}\n        </>\n    )\n}\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar prefix = 'fas';\nvar iconName = 'caret-down';\nvar width = 320;\nvar height = 512;\nvar aliases = [];\nvar unicode = 'f0d7';\nvar svgPathData = 'M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z';\n\nexports.definition = {\n  prefix: prefix,\n  iconName: iconName,\n  icon: [\n    width,\n    height,\n    aliases,\n    unicode,\n    svgPathData\n  ]};\n\nexports.faCaretDown = exports.definition;\nexports.prefix = prefix;\nexports.iconName = iconName;\nexports.width = width;\nexports.height = height;\nexports.ligatures = aliases;\nexports.unicode = unicode;\nexports.svgPathData = svgPathData;\nexports.aliases = aliases;","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar prefix = 'fas';\nvar iconName = 'caret-up';\nvar width = 320;\nvar height = 512;\nvar aliases = [];\nvar unicode = 'f0d8';\nvar svgPathData = 'M182.6 137.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8H288c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-128-128z';\n\nexports.definition = {\n  prefix: prefix,\n  iconName: iconName,\n  icon: [\n    width,\n    height,\n    aliases,\n    unicode,\n    svgPathData\n  ]};\n\nexports.faCaretUp = exports.definition;\nexports.prefix = prefix;\nexports.iconName = iconName;\nexports.width = width;\nexports.height = height;\nexports.ligatures = aliases;\nexports.unicode = unicode;\nexports.svgPathData = svgPathData;\nexports.aliases = aliases;","import React from \"react\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome/index.js\"\nimport { faCaretDown } from \"@fortawesome/free-solid-svg-icons/faCaretDown\"\nimport { faCaretUp } from \"@fortawesome/free-solid-svg-icons/faCaretUp\"\nimport cx from \"classnames\"\n\nexport const SiteNavigationToggle = ({\n    children,\n    isActive,\n    onToggle,\n    withCaret = false,\n    dropdown,\n    className,\n}: {\n    children: React.ReactNode\n    isActive: boolean\n    onToggle: () => void\n    withCaret?: boolean\n    dropdown?: React.ReactNode\n    className?: string\n}) => {\n    return (\n        <div\n            className={cx(\"SiteNavigationToggle\", className, {\n                active: isActive,\n            })}\n        >\n            <button\n                onClick={onToggle}\n                className={cx(\"SiteNavigationToggle__button\", {\n                    active: isActive,\n                })}\n            >\n                {children}\n                {withCaret && (\n                    <FontAwesomeIcon\n                        className=\"SiteNavigationToggle__caret\"\n                        icon={isActive ? faCaretUp : faCaretDown}\n                    />\n                )}\n            </button>\n            {isActive && dropdown && (\n                <div className=\"SiteNavigationToggle__dropdown\">{dropdown}</div>\n            )}\n        </div>\n    )\n}\n","import React, { useEffect, useRef } from \"react\"\nimport { CategoryWithEntries } from \"@ourworldindata/utils\"\nimport { SiteNavigationToggle } from \"./SiteNavigationToggle.js\"\nimport { SiteNavigationTopic } from \"./SiteNavigationTopic.js\"\nimport { allTopicsInCategory } from \"./SiteNavigationTopics.js\"\n\nexport const SiteMobileCategory = ({\n    category,\n    isActive,\n    toggleCategory,\n}: {\n    category: CategoryWithEntries\n    isActive: boolean\n    toggleCategory: (category: CategoryWithEntries) => void\n}) => {\n    const categoryRef = useRef<HTMLLIElement>(null)\n\n    useEffect(() => {\n        if (isActive && categoryRef.current) {\n            categoryRef.current.scrollIntoView({ behavior: \"smooth\" })\n        }\n    }, [isActive])\n\n    return (\n        <li\n            key={category.slug}\n            className=\"SiteMobileCategory\"\n            ref={categoryRef}\n        >\n            <SiteNavigationToggle\n                isActive={isActive}\n                onToggle={() => toggleCategory(category)}\n                dropdown={\n                    <ul>\n                        {allTopicsInCategory(category).map((topic) => (\n                            <SiteNavigationTopic\n                                key={topic.slug}\n                                topic={topic}\n                            />\n                        ))}\n                    </ul>\n                }\n                withCaret={true}\n            >\n                {category.name}\n            </SiteNavigationToggle>\n        </li>\n    )\n}\n","import React, { useState } from \"react\"\nimport { CategoryWithEntries } from \"@ourworldindata/utils\"\nimport classnames from \"classnames\"\nimport { SiteNavigationToggle } from \"./SiteNavigationToggle.js\"\nimport { Menu } from \"./SiteNavigation.js\"\nimport { SiteResources } from \"./SiteResources.js\"\nimport { SiteMobileCategory } from \"./SiteMobileCategory.js\"\n\nexport const SiteMobileMenu = ({\n    topics,\n    menu,\n    toggleMenu,\n    className,\n}: {\n    topics: CategoryWithEntries[]\n    menu: Menu | null\n    toggleMenu: (menu: Menu) => void\n    className?: string\n}) => {\n    const [activeCategory, setActiveCategory] =\n        useState<CategoryWithEntries | null>(null)\n\n    const toggleCategory = (category: CategoryWithEntries) => {\n        if (activeCategory === category) {\n            setActiveCategory(null)\n        } else {\n            setActiveCategory(category)\n        }\n    }\n\n    return (\n        <div className={classnames(\"SiteMobileMenu\", className)}>\n            <ul>\n                <li>\n                    <span className=\"section__header\">Browse by topic</span>\n                    <ul className=\"section__dropdown--topics\">\n                        {topics.map((category) => (\n                            <SiteMobileCategory\n                                key={category.slug}\n                                category={category}\n                                isActive={activeCategory === category}\n                                toggleCategory={toggleCategory}\n                            />\n                        ))}\n                    </ul>\n                </li>\n                <li>\n                    <a href=\"/blog\" className=\"section__header\">\n                        Latest\n                    </a>\n                </li>\n                <li>\n                    <SiteNavigationToggle\n                        isActive={menu === Menu.Resources}\n                        onToggle={() =>\n                            toggleMenu(\n                                menu === Menu.Resources\n                                    ? Menu.Topics\n                                    : Menu.Resources\n                            )\n                        }\n                        dropdown={<SiteResources />}\n                        withCaret={true}\n                        className=\"SiteNavigationToggle--lvl1\"\n                    >\n                        Resources\n                    </SiteNavigationToggle>\n                </li>\n                <li>\n                    <a href=\"/about\" className=\"section__header\">\n                        About\n                    </a>\n                </li>\n                <li>\n                    <a href=\"/donate\" className=\"donate\">\n                        Donate\n                    </a>\n                </li>\n            </ul>\n        </div>\n    )\n}\n","import React, { useEffect, useState } from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { faListUl } from \"@fortawesome/free-solid-svg-icons/faListUl\"\nimport {\n    NewsletterSubscriptionContext,\n    NewsletterSubscriptionForm,\n} from \"./NewsletterSubscription.js\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome/index.js\"\nimport { SiteNavigationTopics } from \"./SiteNavigationTopics.js\"\nimport { SiteLogos } from \"./SiteLogos.js\"\nimport { CategoryWithEntries } from \"@ourworldindata/utils\"\nimport { SiteResources } from \"./SiteResources.js\"\nimport { SiteSearchNavigation } from \"./SiteSearchNavigation.js\"\nimport { faBars } from \"@fortawesome/free-solid-svg-icons/faBars\"\nimport { SiteMobileMenu } from \"./SiteMobileMenu.js\"\nimport { SiteNavigationToggle } from \"./SiteNavigationToggle.js\"\nimport { faXmark } from \"@fortawesome/free-solid-svg-icons/faXmark\"\nimport { faEnvelopeOpenText } from \"@fortawesome/free-solid-svg-icons/faEnvelopeOpenText\"\nimport classnames from \"classnames\"\nimport { useTriggerOnEscape } from \"./hooks.js\"\n\nexport enum Menu {\n    Topics = \"topics\",\n    Resources = \"resources\",\n    About = \"about\",\n    Subscribe = \"subscribe\",\n    Search = \"search\",\n}\n\nexport const SiteNavigation = ({ baseUrl }: { baseUrl: string }) => {\n    const [menu, setActiveMenu] = React.useState<Menu | null>(null)\n    const [categorizedTopics, setCategorizedTopics] = useState<\n        CategoryWithEntries[]\n    >([])\n    const [query, setQuery] = React.useState<string>(\"\")\n\n    const isActiveMobileMenu =\n        menu !== null &&\n        [Menu.Topics, Menu.Resources, Menu.About].includes(menu)\n\n    const closeOverlay = () => {\n        setActiveMenu(null)\n        setQuery(\"\")\n    }\n\n    const toggleMenu = (root: Menu) => {\n        if (menu === root) {\n            closeOverlay()\n        } else {\n            setActiveMenu(root)\n        }\n    }\n\n    // Open / close overlay when query changes\n    useEffect(() => {\n        if (query) {\n            setActiveMenu(Menu.Search)\n        } else {\n            closeOverlay()\n        }\n    }, [query])\n\n    useEffect(() => {\n        const fetchCategorizedTopics = async () => {\n            const response = await fetch(\"/headerMenu.json\", {\n                method: \"GET\",\n                credentials: \"same-origin\",\n                headers: {\n                    Accept: \"application/json\",\n                },\n            })\n            const json = await response.json()\n            setCategorizedTopics(json.categories)\n        }\n        fetchCategorizedTopics()\n    }, [])\n\n    useTriggerOnEscape(closeOverlay)\n\n    return (\n        <>\n            {menu && <div className=\"overlay\" onClick={closeOverlay} />}\n            <div className=\"site-navigation\">\n                <div className=\"wrapper\">\n                    <div\n                        className={classnames(\"site-navigation-bar\", {\n                            \"search-active\": menu === Menu.Search,\n                        })}\n                    >\n                        <SiteNavigationToggle\n                            isActive={isActiveMobileMenu}\n                            onToggle={() => toggleMenu(Menu.Topics)}\n                            className=\"SiteNavigationToggle--mobile-menu hide-sm-up\"\n                            dropdown={\n                                <SiteMobileMenu\n                                    menu={menu}\n                                    toggleMenu={toggleMenu}\n                                    topics={categorizedTopics}\n                                    className=\"hide-sm-up\"\n                                />\n                            }\n                        >\n                            <FontAwesomeIcon\n                                icon={isActiveMobileMenu ? faXmark : faBars}\n                            />\n                        </SiteNavigationToggle>\n                        <SiteLogos baseUrl={baseUrl} />\n                        <nav className=\"site-primary-links hide-sm-only\">\n                            <ul>\n                                <li>\n                                    <SiteNavigationToggle\n                                        isActive={menu === Menu.Topics}\n                                        onToggle={() => toggleMenu(Menu.Topics)}\n                                        dropdown={\n                                            <SiteNavigationTopics\n                                                onClose={closeOverlay}\n                                                topics={categorizedTopics}\n                                                className=\"hide-sm-only\"\n                                            />\n                                        }\n                                        className=\"topics\"\n                                    >\n                                        <FontAwesomeIcon\n                                            icon={faListUl}\n                                            style={{ marginRight: \"8px\" }}\n                                        />\n                                        Browse by topic\n                                    </SiteNavigationToggle>\n                                </li>\n                                <li>\n                                    <a href=\"/blog\">Latest</a>\n                                </li>\n                                <li className=\"with-relative-dropdown\">\n                                    <SiteNavigationToggle\n                                        isActive={menu === Menu.Resources}\n                                        onToggle={() =>\n                                            toggleMenu(Menu.Resources)\n                                        }\n                                        dropdown={<SiteResources />}\n                                        withCaret={true}\n                                    >\n                                        Resources\n                                    </SiteNavigationToggle>\n                                </li>\n                                <li>\n                                    <a href=\"/about\">About</a>\n                                </li>\n                            </ul>\n                        </nav>\n                        <div className=\"site-search-cta\">\n                            <SiteSearchNavigation\n                                query={query}\n                                isActive={menu === Menu.Search || !!query}\n                                setQuery={setQuery}\n                                onClose={closeOverlay}\n                                onToggle={() => toggleMenu(Menu.Search)}\n                            />\n                            <SiteNavigationToggle\n                                isActive={menu === Menu.Subscribe}\n                                onToggle={() => toggleMenu(Menu.Subscribe)}\n                                dropdown={\n                                    <NewsletterSubscriptionForm\n                                        context={\n                                            NewsletterSubscriptionContext.Floating\n                                        }\n                                    />\n                                }\n                                className=\"newsletter-subscription\"\n                            >\n                                <span className=\"hide-lg-down\">Subscribe</span>\n                                <FontAwesomeIcon\n                                    className=\"hide-lg-up\"\n                                    icon={\n                                        menu === Menu.Subscribe\n                                            ? faXmark\n                                            : faEnvelopeOpenText\n                                    }\n                                />\n                            </SiteNavigationToggle>\n                            <a\n                                href=\"/donate\"\n                                className=\"donate\"\n                                data-track-note=\"header-navigation\"\n                            >\n                                Donate\n                            </a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </>\n    )\n}\n\nexport const runSiteNavigation = (baseUrl: string) => {\n    ReactDOM.render(\n        <SiteNavigation baseUrl={baseUrl} />,\n        document.querySelector(\".site-navigation-root\")\n    )\n}\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar prefix = 'fas';\nvar iconName = 'handshake';\nvar width = 640;\nvar height = 512;\nvar aliases = [];\nvar unicode = 'f2b5';\nvar svgPathData = 'M323.4 85.2l-96.8 78.4c-16.1 13-19.2 36.4-7 53.1c12.9 17.8 38 21.3 55.3 7.8l99.3-77.2c7-5.4 17-4.2 22.5 2.8s4.2 17-2.8 22.5l-20.9 16.2L512 316.8V128h-.7l-3.9-2.5L434.8 79c-15.3-9.8-33.2-15-51.4-15c-21.8 0-43 7.5-60 21.2zm22.8 124.4l-51.7 40.2C263 274.4 217.3 268 193.7 235.6c-22.2-30.5-16.6-73.1 12.7-96.8l83.2-67.3c-11.6-4.9-24.1-7.4-36.8-7.4C234 64 215.7 69.6 200 80l-72 48V352h28.2l91.4 83.4c19.6 17.9 49.9 16.5 67.8-3.1c5.5-6.1 9.2-13.2 11.1-20.6l17 15.6c19.5 17.9 49.9 16.6 67.8-2.9c4.5-4.9 7.8-10.6 9.9-16.5c19.4 13 45.8 10.3 62.1-7.5c17.9-19.5 16.6-49.9-2.9-67.8l-134.2-123zM96 128H0V352c0 17.7 14.3 32 32 32H64c17.7 0 32-14.3 32-32V128zM48 352c-8.8 0-16-7.2-16-16s7.2-16 16-16s16 7.2 16 16s-7.2 16-16 16zM544 128V352c0 17.7 14.3 32 32 32h32c17.7 0 32-14.3 32-32V128H544zm64 208c0 8.8-7.2 16-16 16s-16-7.2-16-16s7.2-16 16-16s16 7.2 16 16z';\n\nexports.definition = {\n  prefix: prefix,\n  iconName: iconName,\n  icon: [\n    width,\n    height,\n    aliases,\n    unicode,\n    svgPathData\n  ]};\n\nexports.faHandshake = exports.definition;\nexports.prefix = prefix;\nexports.iconName = iconName;\nexports.width = width;\nexports.height = height;\nexports.ligatures = aliases;\nexports.unicode = unicode;\nexports.svgPathData = svgPathData;\nexports.aliases = aliases;","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { FeedbackPrompt } from \"./Feedback.js\"\nimport { ScrollDirection, useScrollDirection } from \"./hooks.js\"\nimport {\n    NewsletterSubscriptionForm,\n    NewsletterSubscriptionContext,\n} from \"./NewsletterSubscription.js\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome/index.js\"\nimport { faHandshake } from \"@fortawesome/free-solid-svg-icons/faHandshake\"\n\nconst SITE_TOOLS_CLASS = \"site-tools\"\n\nconst SiteTools = () => {\n    const scrollDirection = useScrollDirection()\n\n    return (\n        <div\n            className={`hide-wrapper${\n                (scrollDirection === ScrollDirection.Down && \" hide\") || \"\"\n            }`}\n        >\n            <FeedbackPrompt />\n            <a className=\"prompt\" data-track-note=\"page-open-jobs\" href=\"/jobs\">\n                <FontAwesomeIcon icon={faHandshake} /> Jobs\n            </a>\n        </div>\n    )\n}\n\nexport const runSiteTools = () => {\n    ReactDOM.render(\n        <SiteTools />,\n        document.querySelector(`.${SITE_TOOLS_CLASS}`)\n    )\n\n    const newsletterSubscriptionFormRootHomepage = document.querySelector(\n        \".homepage-subscribe .newsletter-subscription .root\"\n    )\n    if (newsletterSubscriptionFormRootHomepage) {\n        ReactDOM.hydrate(\n            <NewsletterSubscriptionForm\n                context={NewsletterSubscriptionContext.Homepage}\n            />,\n            newsletterSubscriptionFormRootHomepage\n        )\n    }\n}\n","import { SiteFooterContext } from \"@ourworldindata/utils\"\nimport { BAKED_BASE_URL } from \"../settings/clientSettings.js\"\nimport { runBlocks } from \"./blocks/index.js\"\nimport { hydrateProminentLink } from \"./blocks/ProminentLink.js\"\nimport { runCookiePreferencesManager } from \"./CookiePreferencesManager.js\"\nimport { runCovid } from \"./covid/index.js\"\nimport { runFootnotes } from \"./Footnote.js\"\nimport { hydrateOwidArticle } from \"./gdocs/OwidArticle.js\"\nimport { runLightbox } from \"./Lightbox.js\"\nimport { MultiEmbedderSingleton } from \"./multiembedder/MultiEmbedder.js\"\nimport { runSiteNavigation } from \"./SiteNavigation.js\"\nimport { runSiteTools } from \"./SiteTools.js\"\n\nexport const runSiteFooterScripts = (\n    args:\n        | {\n              debug?: boolean\n              isPreviewing?: boolean\n              context?: SiteFooterContext\n              container?: HTMLElement\n          }\n        | undefined\n) => {\n    // We used to destructure this in the function signature, but that caused\n    // a weird issue reported by bugsnag: https://app.bugsnag.com/our-world-in-data/our-world-in-data-website/errors/63ca39b631e8660009464eb4?event_id=63d384c500acc25fc0810000&i=sk&m=ef\n    // So now we define the object as potentially undefined and then destructure it here.\n    const { debug, context, isPreviewing } = args || {}\n\n    switch (context) {\n        case SiteFooterContext.grapherPage:\n        case SiteFooterContext.explorerPage:\n            runSiteNavigation(BAKED_BASE_URL)\n            runSiteTools()\n            runCookiePreferencesManager()\n            break\n        case SiteFooterContext.gdocsArticle:\n            hydrateOwidArticle(debug, isPreviewing)\n        // no break here, we additionally want to run the default scripts\n        default:\n            runSiteNavigation(BAKED_BASE_URL)\n            runBlocks()\n            MultiEmbedderSingleton.setUpGlobalEntitySelectorForEmbeds()\n            MultiEmbedderSingleton.embedAll()\n            runLightbox()\n            hydrateProminentLink(MultiEmbedderSingleton.selection)\n            runFootnotes()\n            runSiteTools()\n            runCookiePreferencesManager()\n            runCovid()\n            break\n    }\n}\n","import \"./owid.scss\"\nimport \"@ourworldindata/grapher/src/core/grapher.scss\"\n// From https://fontawesome.com/how-to-use/on-the-web/other-topics/server-side-rendering:\n// \"If the CSS is missing when this icon displays in the browser it will flash\n// from a very large icon down to a properly sized one a moment later.\"\nimport \"@fortawesome/fontawesome-svg-core/styles.css\"\n\nimport SmoothScroll from \"smooth-scroll\"\nimport { runChartsIndexPage } from \"./runChartsIndexPage.js\"\nimport { runSearchPage } from \"./search/SearchPageMain.js\"\nimport { runNotFoundPage } from \"./NotFoundPageMain.js\"\nimport { runFeedbackPage } from \"./Feedback.js\"\nimport { runDonateForm } from \"./stripe/DonateForm.js\"\nimport { runCountryProfilePage } from \"./runCountryProfilePage.js\"\nimport { runTableOfContents } from \"./TableOfContents.js\"\nimport { runRelatedCharts } from \"./blocks/RelatedCharts.js\"\nimport { Explorer } from \"../explorer/Explorer.js\"\nimport { ENV, BUGSNAG_API_KEY } from \"../settings/clientSettings.js\"\nimport { Grapher, CookieKey } from \"@ourworldindata/grapher\"\nimport { MultiEmbedderSingleton } from \"../site/multiembedder/MultiEmbedder.js\"\nimport { CoreTable } from \"@ourworldindata/core-table\"\nimport { SiteAnalytics } from \"./SiteAnalytics.js\"\nimport Bugsnag from \"@bugsnag/js\"\nimport BugsnagPluginReact from \"@bugsnag/plugin-react\"\nimport { runMonkeyPatchForGoogleTranslate } from \"./hacks.js\"\nimport { runSiteFooterScripts } from \"./runSiteFooterScripts.js\"\n\ndeclare let window: any\nwindow.Grapher = Grapher\nwindow.Explorer = Explorer\nwindow.CoreTable = CoreTable\nwindow.runChartsIndexPage = runChartsIndexPage\nwindow.runSearchPage = runSearchPage\nwindow.runNotFoundPage = runNotFoundPage\nwindow.runFeedbackPage = runFeedbackPage\nwindow.runDonateForm = runDonateForm\nwindow.runCountryProfilePage = runCountryProfilePage\nwindow.runTableOfContents = runTableOfContents\nwindow.runRelatedCharts = runRelatedCharts\nwindow.MultiEmbedderSingleton = MultiEmbedderSingleton\n\n// Note: do a text search of the project for \"runSiteFooterScripts\" to find the usage. todo: clean that up.\nwindow.runSiteFooterScripts = runSiteFooterScripts\n\nrunMonkeyPatchForGoogleTranslate()\n\nif (BUGSNAG_API_KEY) {\n    try {\n        Bugsnag.start({\n            apiKey: BUGSNAG_API_KEY,\n            plugins: [new BugsnagPluginReact()],\n        })\n    } catch (error) {\n        console.error(\"Failed to initialize Bugsnag\")\n    }\n}\n\nconst analytics = new SiteAnalytics(ENV)\nanalytics.logPageLoad()\n\ndocument.querySelector(\"html\")?.classList.add(\"js\")\n\nif (\n    document.cookie.includes(\"wordpress\") ||\n    document.cookie.includes(\"wp-settings\") ||\n    document.cookie.includes(CookieKey.isAdmin)\n) {\n    const adminbar = document.getElementById(\"wpadminbar\")\n    if (adminbar) adminbar.style.display = \"\"\n}\n\nnew SmoothScroll('a[href*=\"#\"][data-smooth-scroll]', {\n    speed: 600,\n    durationMax: 800,\n    durationMin: 100,\n    popstate: false,\n})\n\nanalytics.startClickTracking()\n"],"names":["e","t","n","o","r","a","module","global","this","q","I","F","i","L","x","H","A","O","C","M","c","s","u","l","m","d","f","h","p","g","y","v","w","S","E","b","getSizes","originalWidth","widths","width","generateSrcSet","sizes","filename","size","getFilenameWithoutExtension","radians","degrees","K","Xn","Yn","Zn","t0","t1","t2","t3","labConvert","Lab","Hcl","hcl2lab","Rgb","rgbConvert","rgb2lrgb","xyz2lab","z","lab","opacity","define","extend","Color","k","lab2xyz","lrgb2rgb","hclConvert","hcl","start","end","color","colorLab","threshold","domain","range","unknown","scale","bisect","_","initRange","newInterval","floori","offseti","count","field","interval","date","d0","d1","step","stop","previous","test","durationMinute","durationDay","durationWeek","day","timeDay","weekday","sunday","monday","tuesday","wednesday","thursday","friday","saturday","year","timeYear","utcDay","utcDay$1","utcWeekday","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","utcYear","utcYear$1","localDate","utcDate","newDate","formatLocale","locale","locale_dateTime","locale_date","locale_time","locale_periods","locale_weekdays","locale_shortWeekdays","locale_months","locale_shortMonths","periodRe","formatRe","periodLookup","formatLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","formatShortWeekday","formatWeekday","formatShortMonth","formatMonth","formatDayOfMonth","formatMicroseconds","formatYearISO","formatFullYearISO","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatPeriod","formatQuarter","formatUnixTimestamp","formatUnixTimestampSeconds","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatYear","formatFullYear","formatZone","formatLiteralPercent","utcFormats","formatUTCShortWeekday","formatUTCWeekday","formatUTCShortMonth","formatUTCMonth","formatUTCDayOfMonth","formatUTCMicroseconds","formatUTCYearISO","formatUTCFullYearISO","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCPeriod","formatUTCQuarter","formatUTCSeconds","formatUTCWeekdayNumberMonday","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parses","parseShortWeekday","parseWeekday","parseShortMonth","parseMonth","parseLocaleDateTime","parseDayOfMonth","parseMicroseconds","parseYear","parseFullYear","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parsePeriod","parseQuarter","parseUnixTimestamp","parseUnixTimestampSeconds","parseSeconds","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","parseWeekdayNumberSunday","parseWeekNumberMonday","parseLocaleDate","parseLocaleTime","parseZone","parseLiteralPercent","newFormat","specifier","string","j","pad","format","pads","newParse","Z","parseSpecifier","week","timeMonday","parse","numberRe","percentRe","requoteRe","value","fill","sign","length","requote","names","name","timeSunday","dISO","timeThursday","dow","UTCdISO","utcFormat","defaultLocale","definition","csv","dsv","csvParse","SparkBarTimeSeriesValue","latest","className","displayDate","jsx","classnames","jsxs","Fragment","encodeHashSafe","decodeHashSafe","ChartFilter$1","SiteAnalytics","lis","li","keyBy","fuzzysort","section","res","fuzzyHighlight","autorun","__decorateClass","observable","ChartFilter","computed","action","runChartsIndexPage","P","T","N","J","R","D","W","Q","objectAssignPolyfill","objectKeysPolyfill","__rest","searchInsightsBrowser_cjs_min","supportsCookies","supportsSendBeacon","supportsXMLHttpRequest","isUndefined","isString","isNumber","isFunction","makeSendEvents","sendRequest","version","DEFAULT_ALGOLIA_AGENTS","addAlgoliaAgent","SUPPORTED_REGIONS","MONTH","init","getVersion","addEventType","clickedObjectIDsAfterSearch","clickedObjectIDs","clickedFilters","convertedObjectIDsAfterSearch","convertedObjectIDs","convertedFilters","viewedObjectIDs","viewedFilters","createUUID","COOKIE_KEY","setCookie","getCookie","setAnonymousUserToken","setUserToken","getUserToken","onUserTokenChange","AlgoliaAnalytics","getFunctionalInterface","requestWithSendBeacon","requestWithXMLHttpRequest","getRequesterForBrowser","processQueue","createInsightsClient","entryBrowserCjs","aa","require$$0","key","exports","prefix","iconName","height","aliases","unicode","svgPathData","ANALYTICS_ACTION","analytics","CookiePreference","title","consent","disabled","toggleConsent","children","id","slugify","CookiePreferences","preferences","dispatch","cookiePreferencesDomSlot","ReactDOM","getPreferenceValue","PreferenceType","Action","getTodayDate","dayjs","DATE_FORMAT","FontAwesomeIcon","faCheck","CookieNotice","accepted","outdated","mounted","setMounted","useState","useEffect","Action2","POLICY_DATE","COOKIE_NAME","PREFERENCES_SEPARATOR","DATE_SEPARATOR","PREFERENCE_KEY_VALUE_SEPARATOR","defaultState","CookiePreferencesManager","initialState","state","useReducer","reducer","arePreferencesOutdated","Cookies","serializeState","actionType","payload","updatePreference","getInitialState","_a","parseRawCookieValue","cookieValue","preferencesRaw","dateRaw","parseDate","parsePreferences","preference","type","isValidPreference","_b","preferencesDate","policyDate","runCookiePreferencesManager","div","algolia","getClient","algoliasearch","ALGOLIA_ID","ALGOLIA_SEARCH_KEY","insightsInitialized","getInsightsClient","insightsClient","siteSearch","query","chartQuery","matchCountries","country","countries","variants","variant","newQuery","json","logSiteSearchClick","event","EmbedChart","React","Url","configUrl","resp","html","config","deserializeJSONFromHTML","runInAction","Grapher","GrapherFigureView","observer","ChartResult","pickEntitiesForChart","hit","entities","setSelectedEntityNamesParam","highlightedTitle","_c","slug","BAKED_GRAPHER_URL","PageResult","_e","_d","highlightMatches","algoliaMatchLevels","highlighted","best","maxBy","_f","_g","showType","capitalize","queryCountries","availableEntities","entity","uniq","SearchResults","bestChartHit","bestChartEntities","results","SearchPageMain","getWindowQueryParams","input","runSearchPage","runNotFoundPage","searchInput","source","sendFeedback","feedback","toJS","Feedback","vaccinationRegex","licensingRegex","citationRegex","translateRegex","topicMatchers","vaccineNotice","BAKED_BASE_URL","copyrightNotice","citationNotice","translateNotice","topicNotices","FeedbackForm","err","stringifyUnkownError","message","matcher","loading","done","specialTopic","autofocus","faPaperPlane","notices","FeedbackPrompt","faTimes","faCommentAlt","runFeedbackPage","Stripe","stripe","STRIPE_PUBLIC_KEY","currencySymbolByCode","ONETIME_DONATION_AMOUNTS","MONTHLY_DONATION_AMOUNTS","ONETIME_DEFAULT_INDEX","MONTHLY_DEFAULT_INDEX","MIN_DONATION","MAX_DONATION","SUPPORTED_CURRENCY_CODES","DonateForm","amount","isCustom","showOnList","currency","captchaToken","response","DONATE_API_URL","session","result","resolve","reject","token","error","code","Recaptcha","inst","RECAPTCHA_SITE_KEY","bind","DonateFormRunner","runDonateForm","runCountryProfilePage","TOC_WRAPPER_CLASSNAME","isRecordTopViewport","record","getPreviousHeading","nextHeadingRecord","previousHeadings","heading","TableOfContents","headings","pageTitle","hideSubheadings","isOpen","setIsOpen","activeHeading","setActiveHeading","tocRef","useRef","toggleIsOpen","useTriggerWhenClickOutside","currentHeadingRecord","records","contentHeadings","contentHeading","classNames","faBars","runTableOfContents","tocData","tocWrapperEl","sidebarRootEl","wrapInDiv","GalleryArrowDirection","GalleryArrow","onClick","direction","flip","faArrowLeftLong","AllChartsListItem","chart","isActive","BAKED_GRAPHER_EXPORTS_BASE_URL","DEFAULT_GRAPHER_WIDTH","DEFAULT_GRAPHER_HEIGHT","RELATED_CHARTS_CLASS_NAME","RelatedCharts","charts","refChartContainer","activeChartIdx","setActiveChartIdx","isFirstSlideActive","isLastSlideActive","sortedCharts","orderBy","activeChartSlug","onClickItem","idx","useEmbedChart","runRelatedCharts","relatedChartsEl","relatedChartsWrapper","_$src_1","_extends","target","_assertThisInitialized","self","_inheritsLoose","subClass","superClass","_setPrototypeOf","BugsnagPluginReact","globalReact","_proto","client","ErrorBoundary","createClass","BugsnagPluginReactLazyInitializer","formatComponentStack","str","lines","ret","line","len","_React$Component","props","_this","_proto2","info","onError","handledState","FallbackComponent","runMonkeyPatchForGoogleTranslate","nodeToString","elem","originalRemoveChild","child","Bugsnag","originalInsertBefore","newNode","referenceNode","number","isPercentage","hideContent","element","showContent","ANIMATION_STATE_CLASSES","getStaticStateClasses","animationStateClasses","AnimateHeight","animateOpacity","applyInlineTransitions","contentClassName","userDelay","userDuration","easing","onHeightAnimationEnd","onHeightAnimationStart","style","prevHeight","contentElement","animationClassesTimeoutID","timeoutID","stateClasses","isBrowser","prefersReducedMotion","delay","duration","initHeight","initOverflow","currentHeight","setCurrentHeight","overflow","setOverflow","useTransitions","setUseTransitions","animationStateClassNames","setAnimationStateClassNames","contentHeight","totalDuration","newHeight","timeoutHeight","timeoutOverflow","timeoutUseTransitions","isCurrentHeightAuto","newAnimationStateClassNames","timeoutAnimationStateClasses","componentStyle","contentStyle","ariaHidden","ADDITIONAL_INFORMATION_CLASS_NAME","VARIATION_MERGE_LEFT","AdditionalInformation","content","image","variation","defaultOpen","setHeight","hasBeenOpened","setHasBeenOpened","refContainer","classes","onOpenHandler","MultiEmbedderSingleton","onClickHandler","renderFullWidthVariation","renderMergeLeftVariation","faAngleRight","hydrate","block","blockWrapper","titleEl","figureEl","contentEl","landingPageSlugs","countryProfileProjectConfigurations","countryProfileSpecs","SearchCountry","isLoading","setIsLoading","sorted","sortBy","Select","selected","runSearchCountry","project","profileSpec","spec","GlossaryExcerpt","excerpt","label","faExternalLinkAlt","availableComponents","ExpandableInlineBlock_name","ExpandableInlineBlock","isVisible","setVisible","toggleVisibility","runExpandableInlineBlock","expandableInlineBlock","subComponent","Component","DataToken_name","LastUpdated","timestampUrl","setDate","timestamp","parsedDate","RawHtml","url","setHtml","FullWidthRawHtml","dictionary","runDataTokens","dataToken","componentProps","V","$","B","X","Y","U","KEY_INSIGHTS_CLASS_NAME","KEY_INSIGHTS_INSIGHT_PARAM","KEY_INSIGHTS_THUMBS_CLASS_NAME","KEY_INSIGHTS_THUMB_CLASS_NAME","KEY_INSIGHTS_SLIDES_CLASS_NAME","KEY_INSIGHTS_SLIDE_CLASS_NAME","Thumb","KeyInsightsThumbs","titles","selectedId","setSelectedId","slides","setSlides","setSlug","apiRef","thumbsRef","useCallback","node","keyInsightsNode","windowUrl","getWindowUrl","selectedSlideIdx","slide","item","anchor","setWindowUrl","ScrollMenu","LeftArrow","RightArrow","itemId","Arrow","isFirstItemVisible","scrollPrev","visibleItemsWithoutSeparators","initComplete","useContext","VisibilityContext","setDisabled","isLastItemVisible","scrollNext","hydrateKeyInsights","thumb","getTotalOffset","STICKY_NAV_HEIGHT","HEADING_SCROLL_MARGIN","StickyNav","createRef","throttle","validLinks","link","scrollY","currentHeadingIndex","current","parent","listItem","containerPadding","headingPositions","previousHeadingYPosition","hydrateStickyNav","wrapper","anchorTags","links","anchorTag","text","ExpandableParagraph","isExpanded","setIsExpanded","hydrateExpandableParagraphs","eP","innerHTML","CodeSnippet","canCopy","setCanCopy","hasCopied","setHasCopied","canWriteToClipboard","copy","faCopy","hydrateCodeSnippets","snippet","runBlocks","hydrateAdditionalInformation","PROMINENT_LINK_CLASSNAME","WITH_IMAGE","ProminentLink","migrateSelectedEntityNamesParam","getSelectedEntityNamesParam","newEntityList","union","renderImage","renderContent","renderThinStyle","faArrowRight","renderDefaultStyle","hydrateProminentLink","globalEntitySelection","href","rendered","inverseSortOrder","order","SortOrder","formatInt","defaultValue","options","formatValue","defaultTimeFormat","formatDate","createNoun","singular","plural","num","getDoublingRange","series","accessor","latestDay","latestValue","filteredSeries","halfDay","halfValue","dateDiffInDays","sortAccessors","JHU_DATA_URL","TESTS_DATA_URL","DEFAULT_SORT_ORDER","nouns","_fetchJHUData","responseText","retryPromise","fetchText","row","parseIntOrUndefined","fetchJHUData","memoize","fetchTestsData","colors","schemeCategory10","CovidSortKey","CovidDoublingTooltip","noun","ratio","exactRatioWording","CovidTableSortIcon","CovidTableHeaderCell","sortKey","colSpan","currentSortKey","currentSortOrder","isSorted","CovidTableColumnKey","deathsDoubingTextColorScale","scaleThreshold","deathsDoubingBackgColorScale","scaleLinear","interpolateLab","casesDoubingTextColorScale","casesDoubingBackgColorScale","daysToDoubleGenerator","accessorDatum","accessorRange","doubingBackgColorScale","doubingTextColorScale","datum","bars","isMobile","Tippy","faInfoCircle","SparkBars","totalGenerator","newGenerator","columns","HeaderCell","tests","sourceURL","sourceLabel","publicationDate","remarks","nonOfficial","faExclamationCircle","faCheckCircle","CovidTableRow","index","addDays","CovidTableState","CovidTable","groupBy","location","sortedSeries","sortOrder","truncate","truncateLength","rest","hidden","partition","shown","truncated","difference","maxDate","max","maxTests","newKey","locations","faAngleDoubleDown","CASE_THRESHOLD","DEATH_THRESHOLD","propsByMeasure","runCovid","attr","measure","oneOf","Footnote","htmlContent","triggerTarget","onEvent","instance","getFootnoteContent","referencedEl","runFootnotes","footnoteContent","spansToUnformattedPlainText","spans","span","match","renderSpan","renderSpans","Chart","isExplorer","hasControls","cx","ChartStory","items","currentIndex","setCurrentIndex","currentSlide","setCurrentSlide","showDetails","maxSlide","faCircleArrowLeft","faCircleArrowRight","_objectWithoutPropertiesLoose","excluded","sourceKeys","observerMap","RootIds","rootId","unsupportedValue","getRootId","root","optionsToId","createObserver","elements","thresholds","entries","entry","_elements$get","inView","callback","observe","fallbackInView","bounds","callbacks","_excluded","isPlainChildren","InView","React.Component","prevProps","rootMargin","trackVisibility","_this$props","as","React.createElement","Scroller","figureSrc","setFigureSrc","PullQuote","Recirc","article","author","List","NumberedList","extendStatics","__extends","__","__assign","__spreadArray","to","from","pack","ar","roundNumber","decimal","checkIsNumber","handleCallback","context","easeOut","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","animations","handleCancelAnimationFrame","animation","handleCancelAnimation","contextInstance","handleSetupAnimation","animationName","animationTime","startTime","lastStep","frameTime","animationProgress","animationType","animate","targetState","isValid","isValidTargetState","setTransformState","positionX","positionY","scaleDiff","positionXDiff","positionYDiff","newScale","newPositionX","newPositionY","getComponentsSizes","wrapperComponent","contentComponent","wrapperWidth","wrapperHeight","contentWidth","newContentWidth","newContentHeight","newDiffWidth","newDiffHeight","getBounds","diffWidth","diffHeight","centerZoomedOut","scaleWidthFactor","scaleHeightFactor","minPositionX","maxPositionX","minPositionY","maxPositionY","calculateBounds","handleCalculateBounds","getMouseBoundedPosition","limitToBounds","paddingValueX","paddingValueY","paddingX","paddingY","boundLimiter","minBound","maxBound","handleCalculateZoomPositions","mouseX","mouseY","scaleDifference","calculatedPositionX","calculatedPositionY","newPositions","checkZoomBounds","zoom","minScale","maxScale","zoomPadding","enablePadding","scalePadding","minScaleWithPadding","isPanningStartAllowed","isInitialized","isWrapperChild","isAllowed","isExcluded","isExcludedNode","isPanningAllowed","isPanning","setup","handlePanningSetup","handleTouchPanningSetup","touches","oneFingerTouch","handlePanToBounds","xChanged","yChanged","mousePosX","mousePosY","handleNewPosition","hasPositionXChanged","hasPositionYChanged","hasNewPosition","getPanningClientPosition","clientX","clientY","startCoords","transformState","panning","lockAxisX","lockAxisY","getPaddingValue","isVelocityCalculationAllowed","velocityAnimation","disabledVelocity","isVelocityAllowed","velocity","getVelocityMoveTime","equalToMove","sensitivity","getVelocityPosition","newPosition","startPosition","currentPosition","isLocked","minPosition","maxPosition","minTarget","maxTarget","calculatedPosition","getSizeMultiplier","defaultMultiplier","handleCalculateVelocity","position","lastMousePosition","velocityTime","now","sizeMultiplier","distanceX","distanceY","velocityX","velocityY","speed","handleVelocityPanning","total","alignmentAnimation","zoomAnimation","sizeX","sizeY","velocityAlignmentTime","alignAnimationTime","moveAnimationTime","finalAnimationTime","maxTargetX","minTargetX","maxTargetY","minTargetY","startState","alignAnimation","alignStep","customStep","currentPositionX","currentPositionY","handlePanningStart","handlePanning","handlePanningEnd","velocityDisabled","wrapperRect","contentRect","isZoomed","shouldAnimate","handleAlignToBounds","isDisabled","handleAlignToScaleBounds","mousePositionX","mousePositionY","handleZoomToPoint","contextInitialState","initialSetup","createState","createSetup","newSetup","validValue","validParameter","dataType","isObject","isArray","handleCalculateButtonZoom","delta","targetScale","handleZoomToViewCenter","resetTransformations","initialTransformation","newBounds","boundedPositions","newState","calculateZoomToNode","customZoom","nodeRect","getOffset","nodeLeft","nodeTop","nodeWidth","nodeHeight","scaleX","scaleY","offsetX","offsetY","el","offsetLeft","offsetTop","isValidZoomNode","zoomIn","zoomOut","setTransform","resetTransform","centerView","getCenterPosition","zoomToElement","getContext","passiveSupported","makePassiveEventOption","targetTagName","isExcludedTag","tag","isExcludedClassName","cancelTimeout","timeout","getTransformStyles","centerPositionX","centerPositionY","isWheelAllowed","wheelDisabled","touchPadDisabled","getDelta","customDelta","deltaY","getMousePosition","touch","handleCalculateWheelZoom","disablePadding","getTarget","paddingEnabled","handleWheelZoomStop","previousWheelEvent","isPinchStartAllowed","isPinchAllowed","pinchStartDistance","calculateTouchMidPoint","firstPointX","firstPointY","secondPointX","secondPointY","getTouchDistance","calculatePinchZoom","currentDistance","pinchStartScale","touchProportion","wheelStopEventTime","wheelAnimationTime","handleWheelStart","onWheelStart","onZoomStart","handleWheelZoom","onWheel","onZoom","wheel","mousePosition","isPaddingDisabled","isLimitedToBounds","handleWheelStop","onWheelStop","onZoomStop","hasStoppedZooming","handlePinchStart","distance","handlePinchZoom","midPoint","handlePinchStop","pinchMidpoint","handleDoubleClick","mode","isDoubleClickAllowed","Context","TransformContext","_super","passive","centerOnInit","keysPressed","onPanningStart","onPanning","onPanningStop","onPinchingStart","onPinching","onPinchingStop","isDoubleTap","isPanningAction","isPinchAction","keys","transform","oldProps","TransformWrapper","ref","innerRef","setRef","useImperativeHandle","styleInject","css","insertAt","head","css_248z","styles","TransformComponent","wrapperClass","contentClass","wrapperStyle","setComponents","wrapperRef","contentRef","LIGHTBOX_IMAGE_CLASS","Lightbox","containerNode","imgSrc","isLoaded","setIsLoaded","close","useTriggerOnEscape","LoadingIndicator","faSearchPlus","faSearchMinus","faCompress","faDownload","faPlus","Image","src","alt","runLightbox","lightboxContainer","img","imgAlt","generateResponsiveSizes","numberOfColumns","gridSpan5","gridSpan6","gridSpan7","containerSizes","containerType","ArticleContext","IMAGE_HOSTING_CDN_URL","IMAGE_HOSTING_BUCKET_SUBFOLDER_PATH","srcSet","SDGGrid","tile","SDGTile","goal","changedArray","_len","_args","_key","_len2","args","_key2","_this$props$onError","_this$props2","prevState","resetKeys","_this$props$onResetKe","_this$props3","_this$props4","fallbackRender","fallback","_props","React.isValidElement","DebugContext","createContext","DebugProvider","debug","useDebug","BlockErrorBoundary","BlockErrorFallback","resetErrorBoundary","isOnlyEmptySpans","isNewline","isEmptySimpleText","Paragraph","SDGTableOfContents","toc","faMinus","supertitle","isSubheading","faArrowDown","LOWERCASE_TRANSFORMER","fragments","separator","CAMELCASE_REGEXP_PATTERN","replace","definitions","char","replacement","addedCharsCount","COMBINING_CHARS","CONVERT","CONVERT_CAMELCASE","convert","camelCase","transformer","MissingData","faCircleInfo","AdditionalCharts","layouts","getLayout","blockType","layout","get","description","ArticleBlock","caption","urlSlug","ArticleBlocks","blocks","Footnotes","footnote","formatAuthors","authors","requireMax","forBibtex","authorsText","last","OwidArticle","publishedAt","isPreviewing","coverStyle","citationText","bibtex","faBook","faCreativeCommons","hydrateOwidArticle","getArticleFromJSON","NewsletterSubscriptionContext","NewsletterSubscriptionForm","IMMEDIATE","BIWEEKLY","idImmediate","idBiweekly","frequencies","setFrequencies","isSubmittable","updateFrequencies","frequency","SiteNavigationTopic","topic","SiteNavigationTopics","topics","onClose","activeCategory","setActiveCategory","numTopicColumns","setNumTopicColumns","useLayoutEffect","allTopicsInCategory","numColumns","stopPropagation","category","subcategory","SiteLogos","baseUrl","SiteResources","SiteSearchNavigation","setQuery","onToggle","setResults","inputRef","faXmark","faSearch","SiteNavigationToggle","withCaret","dropdown","faCaretUp","faCaretDown","SiteMobileCategory","toggleCategory","categoryRef","SiteMobileMenu","menu","toggleMenu","Menu","SiteNavigation","setActiveMenu","categorizedTopics","setCategorizedTopics","isActiveMobileMenu","closeOverlay","faListUl","faEnvelopeOpenText","runSiteNavigation","SITE_TOOLS_CLASS","SiteTools","scrollDirection","useScrollDirection","ScrollDirection","faHandshake","runSiteTools","newsletterSubscriptionFormRootHomepage","runSiteFooterScripts","SiteFooterContext","Explorer","CoreTable","ENV","CookieKey","adminbar","SmoothScroll"],"mappings":"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","x_google_ignoreList":[0,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,19,20,21,22,31,32,33,35,39,41,45,47,58,64,66,67,68,69,73,74,75,76,86,87,91,97,98,99,100,101,102,106,110,112,118,121,122,129,130,135]}